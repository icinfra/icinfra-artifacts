[ { "title": "Toggle Layers Visibility", "url": "/posts/toggle-layers-visibility/", "categories": "icenv", "tags": "skill", "date": "2025-06-03 16:00:00 +0000", "snippet": "æŒ‰æŒ‡å®šçš„æ•°å­—ç¼–å·ï¼Œå¯¹å®ƒå¯¹åº”çš„å±‚è¿›è¡Œtoggle; =============================================================================; SKILL è„šæœ¬ï¼šä¸º M0â€“M16 å›¾å±‚ï¼ˆåŠå¯¹åº” pinã€VIAï¼‰è®¾ç½®â€œåˆ‡æ¢å¯è§/éšè—â€å¿«æ·é”®; ============================================...", "content": "æŒ‰æŒ‡å®šçš„æ•°å­—ç¼–å·ï¼Œå¯¹å®ƒå¯¹åº”çš„å±‚è¿›è¡Œtoggle; =============================================================================; SKILL è„šæœ¬ï¼šä¸º M0â€“M16 å›¾å±‚ï¼ˆåŠå¯¹åº” pinã€VIAï¼‰è®¾ç½®â€œåˆ‡æ¢å¯è§/éšè—â€å¿«æ·é”®; =============================================================================;;; CCSpteToggleVisible: å¯¹ä¼ å…¥çš„å›¾å±‚åˆ—è¡¨æ‰§è¡Œâ€œåˆ‡æ¢å¯è§/éšè—â€æ“ä½œprocedure(CCSpteToggleVisible(lppList \"l\") let(() foreach(lpp lppList pteSetVisible(lpp !pteIsVisible(lpp)) ); foreach ); let); procedure;; ä»¥ä¸‹ä¸ºå•è¡Œ hiSetBindKey è°ƒç”¨hiSetBindKey(\"Layout\" \"&lt;Key&gt;0\" \"CCSpteToggleVisible(list(\\\"M0 drawing\\\" \\\"M0 pin\\\" \\\"VIA0 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;1\" \"CCSpteToggleVisible(list(\\\"M1 drawing\\\" \\\"M1 pin\\\" \\\"VIA1 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;2\" \"CCSpteToggleVisible(list(\\\"M2 drawing\\\" \\\"M2 pin\\\" \\\"VIA2 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;3\" \"CCSpteToggleVisible(list(\\\"M3 drawing\\\" \\\"M3 pin\\\" \\\"VIA3 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;4\" \"CCSpteToggleVisible(list(\\\"M4 drawing\\\" \\\"M4 pin\\\" \\\"VIA4 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;5\" \"CCSpteToggleVisible(list(\\\"M5 drawing\\\" \\\"M5 pin\\\" \\\"VIA5 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;6\" \"CCSpteToggleVisible(list(\\\"M6 drawing\\\" \\\"M6 pin\\\" \\\"VIA6 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;7\" \"CCSpteToggleVisible(list(\\\"M7 drawing\\\" \\\"M7 pin\\\" \\\"VIA7 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;8\" \"CCSpteToggleVisible(list(\\\"M8 drawing\\\" \\\"M8 pin\\\" \\\"VIA8 drawing\\\"))\")hiSetBindKey(\"Layout\" \"&lt;Key&gt;9\" \"CCSpteToggleVisible(list(\\\"M9 drawing\\\" \\\"M9 pin\\\" \\\"VIA9 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;0\" \"CCSpteToggleVisible(list(\\\"M10 drawing\\\" \\\"M10 pin\\\" \\\"VIA10 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;1\" \"CCSpteToggleVisible(list(\\\"M11 drawing\\\" \\\"M11 pin\\\" \\\"VIA11 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;2\" \"CCSpteToggleVisible(list(\\\"M12 drawing\\\" \\\"M12 pin\\\" \\\"VIA12 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;3\" \"CCSpteToggleVisible(list(\\\"M13 drawing\\\" \\\"M13 pin\\\" \\\"VIA13 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;4\" \"CCSpteToggleVisible(list(\\\"M14 drawing\\\" \\\"M14 pin\\\" \\\"VIA14 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;5\" \"CCSpteToggleVisible(list(\\\"M15 drawing\\\" \\\"M15 pin\\\" \\\"VIA15 drawing\\\"))\")hiSetBindKey(\"Layout\" \"Shift&lt;Key&gt;6\" \"CCSpteToggleVisible(list(\\\"M16 drawing\\\" \\\"M16 pin\\\" \\\"VIA16 drawing\\\"))\");; æç¤ºä¿¡æ¯printf(\"å›¾å±‚åˆ‡æ¢å¿«æ·é”®ï¼ˆToggleï¼‰å·²è®¾ç½®å®Œæˆ:\\n\")printf(\"æ•°å­—é”® 0-9: Toggle M0-M9ï¼ˆä¸‰å±‚ï¼šdrawingã€pinã€VIAï¼‰\\n\")printf(\"Shift+0: Toggle M10ï¼ˆä¸‰å±‚ï¼šdrawingã€pinã€VIAï¼‰\\n\")printf(\"Shift+1â€“Shift+5: Toggle M11â€“M15ï¼ˆä¸‰å±‚ï¼šdrawingã€pinã€VIAï¼‰\\n\")printf(\"Shift+6: Toggle M16ï¼ˆä¸‰å±‚ï¼šdrawingã€pinã€VIAï¼‰\\n\")" }, { "title": "Privacy Policy for Cadence EDA Downloader", "url": "/posts/privacy-policy-for-cadence-eda-downloader/", "categories": "icenv", "tags": "eda", "date": "2025-05-28 16:00:00 +0000", "snippet": "English VersionIntroductionThis Privacy Policy describes how the Cadence EDA Downloader Chrome extension (â€œweâ€, â€œourâ€, or â€œthe extensionâ€) handles your information. We are committed to protecting y...", "content": "English VersionIntroductionThis Privacy Policy describes how the Cadence EDA Downloader Chrome extension (â€œweâ€, â€œourâ€, or â€œthe extensionâ€) handles your information. We are committed to protecting your privacy and being transparent about our practices.Information CollectionThe Cadence EDA Downloader extension does not collect, store, or transmit any personal information about users. All data processed by the extension is stored locally on your device and is not sent to any external servers or third parties.Use of PermissionsOur extension requests certain permissions, including: Storage: To store tool information and download progress locally on your device Tabs: To interact with the Cadence Downloads website in your browser Downloads: To manage downloads from the Cadence website Scripting: To extract tool information from the Cadence website Web Navigation: To ensure proper functionality on the Cadence Downloads websiteThese permissions are used solely to provide the core functionality of the extension and improve user experience. They are not used to collect any user data.Data StorageAll information is stored locally on your device using Chromeâ€™s storage API. This information includes your preferences and tool metadata to improve your experience when using the extension.Third-Party SharingWe do not share any information with third parties because we do not collect any user data.Changes to This PolicyWe may update this Privacy Policy from time to time. We will notify users of any changes by updating the â€œLast Updatedâ€ date at the top of this policy.ContactIf you have any questions about this Privacy Policy, please contact us at wanlin.wang@foxmail.com .ä¸­æ–‡ç‰ˆæœ¬å¼•è¨€æœ¬éšç§æ”¿ç­–æè¿°äº† Cadence EDA Downloader Chrome æ‰©å±•ç¨‹åºï¼ˆä»¥ä¸‹ç®€ç§°â€æˆ‘ä»¬â€ã€â€æˆ‘ä»¬çš„â€æˆ–â€æ‰©å±•ç¨‹åºâ€ï¼‰å¦‚ä½•å¤„ç†æ‚¨çš„ä¿¡æ¯ã€‚æˆ‘ä»¬è‡´åŠ›äºä¿æŠ¤æ‚¨çš„éšç§å¹¶å¯¹æˆ‘ä»¬çš„åšæ³•ä¿æŒé€æ˜ã€‚ä¿¡æ¯æ”¶é›†Cadence EDA Downloader æ‰©å±•ç¨‹åºä¸æ”¶é›†ã€å­˜å‚¨æˆ–ä¼ è¾“ä»»ä½•ç”¨æˆ·ä¸ªäººä¿¡æ¯ã€‚æ‰©å±•ç¨‹åºå¤„ç†çš„æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æ‚¨çš„æœ¬åœ°è®¾å¤‡ä¸Šï¼Œä¸ä¼šå‘é€åˆ°ä»»ä½•å¤–éƒ¨æœåŠ¡å™¨æˆ–ç¬¬ä¸‰æ–¹ã€‚æƒé™ä½¿ç”¨æˆ‘ä»¬çš„æ‰©å±•ç¨‹åºè¯·æ±‚ä»¥ä¸‹æƒé™ï¼š å­˜å‚¨ï¼šåœ¨æ‚¨çš„è®¾å¤‡ä¸Šæœ¬åœ°å­˜å‚¨å·¥å…·ä¿¡æ¯å’Œä¸‹è½½è¿›åº¦ æ ‡ç­¾é¡µï¼šä¸æµè§ˆå™¨ä¸­çš„ Cadence ä¸‹è½½ç½‘ç«™è¿›è¡Œäº¤äº’ ä¸‹è½½ï¼šç®¡ç†æ¥è‡ª Cadence ç½‘ç«™çš„ä¸‹è½½ è„šæœ¬æ³¨å…¥ï¼šä» Cadence ç½‘ç«™æå–å·¥å…·ä¿¡æ¯ ç½‘é¡µå¯¼èˆªï¼šç¡®ä¿åœ¨ Cadence ä¸‹è½½ç½‘ç«™ä¸Šæ­£å¸¸è¿è¡Œè¿™äº›æƒé™ä»…ç”¨äºæä¾›æ‰©å±•ç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½å¹¶æ”¹å–„ç”¨æˆ·ä½“éªŒã€‚å®ƒä»¬ä¸ç”¨äºæ”¶é›†ä»»ä½•ç”¨æˆ·æ•°æ®ã€‚æ•°æ®å­˜å‚¨æ‰€æœ‰ä¿¡æ¯éƒ½ä½¿ç”¨ Chrome çš„å­˜å‚¨ API å­˜å‚¨åœ¨æ‚¨çš„æœ¬åœ°è®¾å¤‡ä¸Šã€‚è¿™äº›ä¿¡æ¯åŒ…æ‹¬æ‚¨çš„åå¥½è®¾ç½®å’Œå·¥å…·å…ƒæ•°æ®ï¼Œç”¨äºæ”¹å–„æ‚¨ä½¿ç”¨æ‰©å±•ç¨‹åºæ—¶çš„ä½“éªŒã€‚ç¬¬ä¸‰æ–¹å…±äº«æˆ‘ä»¬ä¸ä¸ç¬¬ä¸‰æ–¹å…±äº«ä»»ä½•ä¿¡æ¯ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æ”¶é›†ä»»ä½•ç”¨æˆ·æ•°æ®ã€‚æ”¿ç­–å˜æ›´æˆ‘ä»¬å¯èƒ½ä¼šä¸æ—¶æ›´æ–°æœ¬éšç§æ”¿ç­–ã€‚æˆ‘ä»¬å°†é€šè¿‡æ›´æ–°æ­¤æ”¿ç­–é¡¶éƒ¨çš„â€æœ€åæ›´æ–°â€æ—¥æœŸæ¥é€šçŸ¥ç”¨æˆ·ä»»ä½•æ›´æ”¹ã€‚è”ç³»æ–¹å¼å¦‚æœæ‚¨å¯¹æœ¬éšç§æ”¿ç­–æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·é€šè¿‡ wanlin.wang@foxmail.com è”ç³»æˆ‘ä»¬ã€‚" }, { "title": "Cadence EDA Downloader User Guide ", "url": "/posts/cadence-eda-downloader-user-guide/", "categories": "icenv", "tags": "eda", "date": "2025-05-28 16:00:00 +0000", "snippet": "OverviewCadence EDA Downloader is a Chrome Extension designed to simplify the process of downloading tools from the Cadence Downloads website. It provides features such as filtering tools, batch do...", "content": "OverviewCadence EDA Downloader is a Chrome Extension designed to simplify the process of downloading tools from the Cadence Downloads website. It provides features such as filtering tools, batch downloads, and progress monitoring to enhance user experience.äº¤æµç¾¤æ•ˆæœå›¾Features Automatic Tool Detection: Automatically detects tools available on the Cadence Downloads page. Filters: Filter tools by platform, status, or search keywords. Batch Downloads: Download multiple tools simultaneously with the â€œDownload Allâ€ feature. Progress Monitoring: View active downloads, queued items, and completed downloads. Local Database: Stores tool information locally for quick access.InstallationDeveloper Mode Clone or download the repository. Open Chrome/Edge and navigate to chrome://extensions/ or edge://extensions/. Enable â€œDeveloper modeâ€ in the top right corner. Click â€œLoad unpackedâ€ and select the directory containing this extension. The extension should now appear in your browserâ€™s toolbar.UsageStep 1: Login to Cadence DownloadsLog in to Cadence Downloads using your credentials.Step 2: Open the ExtensionClick the Cadence EDA Downloader icon in your browser toolbar to open the extension interface.Step 3: Filter ToolsUse the filter options to narrow down the list of tools based on your requirements (e.g., platform, status).Step 4: Start DownloadsSelect individual tools or use the â€œDownload Allâ€ button to start downloading. Monitor progress in the extension interface.Cadence EDA Downloader ç”¨æˆ·æŒ‡å—æ¦‚è¿°Cadence EDA Downloader æ˜¯ä¸€ä¸ª Chrome æ‰©å±•ï¼Œæ—¨åœ¨ç®€åŒ–ä» Cadence ä¸‹è½½ç½‘ç«™ä¸‹è½½å·¥å…·çš„è¿‡ç¨‹ã€‚å®ƒæä¾›äº†ç­›é€‰å·¥å…·ã€æ‰¹é‡ä¸‹è½½å’Œè¿›åº¦ç›‘æ§ç­‰åŠŸèƒ½ï¼Œä»¥æå‡ç”¨æˆ·ä½“éªŒã€‚åŠŸèƒ½ è‡ªåŠ¨å·¥å…·æ£€æµ‹ï¼šè‡ªåŠ¨æ£€æµ‹ Cadence ä¸‹è½½é¡µé¢ä¸Šçš„å¯ç”¨å·¥å…·ã€‚ ç­›é€‰åŠŸèƒ½ï¼šæŒ‰å¹³å°ã€çŠ¶æ€æˆ–æœç´¢å…³é”®å­—ç­›é€‰å·¥å…·ã€‚ æ‰¹é‡ä¸‹è½½ï¼šä½¿ç”¨â€œå…¨éƒ¨ä¸‹è½½â€åŠŸèƒ½åŒæ—¶ä¸‹è½½å¤šä¸ªå·¥å…·ã€‚ è¿›åº¦ç›‘æ§ï¼šæŸ¥çœ‹æ­£åœ¨ä¸‹è½½çš„æ–‡ä»¶ã€æ’é˜Ÿé¡¹ç›®å’Œå·²å®Œæˆçš„ä¸‹è½½ã€‚ æœ¬åœ°æ•°æ®åº“ï¼šå°†å·¥å…·ä¿¡æ¯å­˜å‚¨åœ¨æœ¬åœ°ä»¥ä¾¿å¿«é€Ÿè®¿é—®ã€‚å®‰è£…å¼€å‘è€…æ¨¡å¼ å…‹éš†æˆ–ä¸‹è½½æ­¤ä»£ç åº“ã€‚ æ‰“å¼€ Chrome/Edge å¹¶å¯¼èˆªåˆ° chrome://extensions/ æˆ– edge://extensions/ã€‚ åœ¨å³ä¸Šè§’å¯ç”¨â€œå¼€å‘è€…æ¨¡å¼â€ã€‚ ç‚¹å‡»â€œåŠ è½½æœªæ‰“åŒ…çš„æ‰©å±•ç¨‹åºâ€ï¼Œé€‰æ‹©åŒ…å«æ­¤æ‰©å±•ç¨‹åºçš„ç›®å½•ã€‚ æ­¤æ‰©å±•ç¨‹åºç°åœ¨åº”è¯¥å‡ºç°åœ¨æµè§ˆå™¨çš„å·¥å…·æ ä¸­ã€‚ä½¿ç”¨æ–¹æ³•ç¬¬ä¸€æ­¥ï¼šç™»å½• Cadence ä¸‹è½½ç½‘ç«™ä½¿ç”¨æ‚¨çš„å‡­æ®ç™»å½• Cadence ä¸‹è½½ç½‘ç«™ã€‚ç¬¬äºŒæ­¥ï¼šæ‰“å¼€æ‰©å±•ç¨‹åºç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„ Cadence EDA Downloader å›¾æ ‡ä»¥æ‰“å¼€æ‰©å±•ç•Œé¢ã€‚ç¬¬ä¸‰æ­¥ï¼šç­›é€‰å·¥å…·ä½¿ç”¨ç­›é€‰é€‰é¡¹æ ¹æ®æ‚¨çš„éœ€æ±‚ç¼©å°å·¥å…·åˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼ŒæŒ‰å¹³å°æˆ–çŠ¶æ€ï¼‰ã€‚ç¬¬å››æ­¥ï¼šå¼€å§‹ä¸‹è½½é€‰æ‹©å•ä¸ªå·¥å…·æˆ–ä½¿ç”¨â€œå…¨éƒ¨ä¸‹è½½â€æŒ‰é’®å¼€å§‹ä¸‹è½½ã€‚åœ¨æ‰©å±•ç•Œé¢ä¸­ç›‘æ§ä¸‹è½½è¿›åº¦ã€‚" }, { "title": "Cadence Support Downloader: Privacy Policy", "url": "/posts/cadence-support-downloader-privacy-policy/", "categories": "ic", "tags": "tools", "date": "2025-05-23 16:00:00 +0000", "snippet": "IntroductionThis privacy policy outlines how the Cadence Support Downloader Chrome extension collects, uses, and protects your data. Our extension is designed with privacy in mind, keeping all your...", "content": "IntroductionThis privacy policy outlines how the Cadence Support Downloader Chrome extension collects, uses, and protects your data. Our extension is designed with privacy in mind, keeping all your data local to your device.Data Collection and StorageCadence Support Downloader collects and stores the following information locally on your device: Download History: Records of articles youâ€™ve downloaded, including titles, dates, and file information Web Activity: Limited information about pages visited on the Cadence Support portal to track which articles have been processed User Activity: Download status and interactions with the extension interfaceLocal Storage OnlyAll data collected by this extension is: Stored exclusively on your local device Never transmitted to external servers Never shared with third parties Accessible only to you through the extensionâ€™s interfaceData UsageWe use the locally stored data solely for the following purposes: Tracking which articles youâ€™ve already downloaded to prevent duplication Providing you with a searchable history of your downloads Allowing you to manage your downloaded content Enhancing the functionality of the extensionData ControlYou have complete control over your data: Clear your entire download history at any time through the settings gear icon Delete individual articles from your history Your data is automatically deleted if you uninstall the extensionPermissionsThe extension requests the following permissions: activeTab: To interact with Cadence Support pages scripting: To extract article information and download content downloads: To download and organize files storage: To save your download history locally cookies: To maintain authentication with Cadence Support Host access (support.cadence.com): To download content from the Cadence Support portalThird-Party ServicesThis extension does not: Use any third-party analytics services Share data with external parties Include any tracking technologies Connect to any external APIs except the Cadence Support websiteUpdates to Privacy PolicyAny future updates to this privacy policy will be reflected in the extensionâ€™s documentation and noted in version updates.Contact InformationFor questions about this privacy policy or the extension: Email: wanlin.wang@foxmail.com Website: https://www.icinfra.cnLast Updated: May 24, 2025Cadence Support Downloader is not affiliated with Cadence Design Systems. All trademarks belong to their respective owners." }, { "title": "Keysight SOS List Changes Since a Given Point", "url": "/posts/keysight-sos-history-from-date/", "categories": "icenv", "tags": "sos", "date": "2025-05-22 16:00:00 +0000", "snippet": "éœ€æ±‚SOSå·¥å…·ï¼Œéœ€è¦å®¡è®¡ä»æŸä¸ªæ—¶åˆ»å¼€å§‹æ‰€æœ‰çš„æäº¤ã€‚æ–¹æ³•åœ¨sosç•Œé¢ç‚¹å‡»Project-&gt;Audit Trailï¼Œå®ƒå¯ä»¥ä»¥GUI/HTML/Textçš„æ–¹å¼æ˜¾ç¤ºã€‚å®æµ‹GUIå’ŒHTMLå¯ä»¥ï¼Œä½†Textæ–¹å¼æ²¡æœ‰å¼¹å‡ºæ¥ï¼Œå¯èƒ½æ˜¯éœ€è¦é…ç½®å¥½ç›¸åº”çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚", "content": "éœ€æ±‚SOSå·¥å…·ï¼Œéœ€è¦å®¡è®¡ä»æŸä¸ªæ—¶åˆ»å¼€å§‹æ‰€æœ‰çš„æäº¤ã€‚æ–¹æ³•åœ¨sosç•Œé¢ç‚¹å‡»Project-&gt;Audit Trailï¼Œå®ƒå¯ä»¥ä»¥GUI/HTML/Textçš„æ–¹å¼æ˜¾ç¤ºã€‚å®æµ‹GUIå’ŒHTMLå¯ä»¥ï¼Œä½†Textæ–¹å¼æ²¡æœ‰å¼¹å‡ºæ¥ï¼Œå¯èƒ½æ˜¯éœ€è¦é…ç½®å¥½ç›¸åº”çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚" }, { "title": "How to Export and Import Docker Images Between Hosts", "url": "/posts/export-import-docker-images-between-hosts/", "categories": "åšå®¢", "tags": "jekyll, github", "date": "2025-05-22 16:00:00 +0000", "snippet": "ğŸ³ Docker é•œåƒè¿ç§»æ“ä½œæŒ‡å—ğŸ“Œ åœºæ™¯è¯´æ˜å°†æœ¬åœ° Docker é•œåƒå¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œæ‹·è´åˆ°å¦ä¸€å°ä¸»æœºï¼Œç„¶ååŠ è½½ä½¿ç”¨ã€‚é€‚ç”¨äºæ— ç½‘ç»œæˆ–è·¨ç¯å¢ƒéƒ¨ç½²åœºæ™¯ã€‚ğŸ”§ æ­¥éª¤ä¸€ï¼šä¿å­˜æœ¬åœ°é•œåƒä¸º tar æ–‡ä»¶# è¯­æ³•ï¼šdocker save -o &lt;ä¿å­˜è·¯å¾„&gt;.tar &lt;é•œåƒå&gt;:&lt;æ ‡ç­¾&gt;docker save -o myimage.tar myapp:latest ğŸ’¡ ç¤ºä¾‹...", "content": "ğŸ³ Docker é•œåƒè¿ç§»æ“ä½œæŒ‡å—ğŸ“Œ åœºæ™¯è¯´æ˜å°†æœ¬åœ° Docker é•œåƒå¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œæ‹·è´åˆ°å¦ä¸€å°ä¸»æœºï¼Œç„¶ååŠ è½½ä½¿ç”¨ã€‚é€‚ç”¨äºæ— ç½‘ç»œæˆ–è·¨ç¯å¢ƒéƒ¨ç½²åœºæ™¯ã€‚ğŸ”§ æ­¥éª¤ä¸€ï¼šä¿å­˜æœ¬åœ°é•œåƒä¸º tar æ–‡ä»¶# è¯­æ³•ï¼šdocker save -o &lt;ä¿å­˜è·¯å¾„&gt;.tar &lt;é•œåƒå&gt;:&lt;æ ‡ç­¾&gt;docker save -o myimage.tar myapp:latest ğŸ’¡ ç¤ºä¾‹ï¼š docker save -o myapp.tar myapp:1.0.0 ğŸš› æ­¥éª¤äºŒï¼šå°†é•œåƒæ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡ä¸»æœºæ–¹æ³•ä¸€ï¼šä½¿ç”¨ scpï¼ˆæ¨èï¼‰scp myapp.tar user@remote_host:/path/to/destination/æ–¹æ³•äºŒï¼šä½¿ç”¨ U ç›˜/ç§»åŠ¨ç¡¬ç›˜ æˆ–å…¶ä»–æ–¹å¼ä¼ è¾“ğŸ”„ æ­¥éª¤ä¸‰ï¼šåœ¨ç›®æ ‡ä¸»æœºåŠ è½½é•œåƒdocker load -i /path/to/destination/myapp.tar ğŸ’¡ é•œåƒåŠ è½½å®Œæˆåï¼Œå¯é€šè¿‡ docker images æŸ¥çœ‹æ˜¯å¦æˆåŠŸå¯¼å…¥ã€‚âœ… å¯é€‰ï¼šè¿è¡Œå¯¼å…¥çš„é•œåƒå®¹å™¨docker run -it --rm myapp:1.0.0ğŸ“ å…¶ä»–è¯´æ˜ è‹¥ä¸ç¡®å®šé•œåƒå®Œæ•´åï¼Œå¯ä»¥ç”¨ docker images æŸ¥çœ‹ã€‚ å¦‚æœé•œåƒè¾ƒå¤§ï¼Œè€ƒè™‘ä½¿ç”¨ gzip å‹ç¼©å†ä¼ è¾“ï¼š docker save myapp:1.0.0 | gzip &gt; myapp.tar.gz åœ¨ç›®æ ‡ä¸»æœºä¸Šè§£å‹åŠ è½½ï¼š gunzip -c myapp.tar.gz | docker load " }, { "title": "Cadence Support Downloader: User Guide and Documentation", "url": "/posts/cadence-support-downloader-user-guide/", "categories": "icenv", "tags": "eda", "date": "2025-05-22 16:00:00 +0000", "snippet": "Cadence Support Downloader å¸®åŠ©æŒ‡å—åœ°å€https://chromewebstore.google.com/detail/cadence-support-downloade/hmdaleneajcddlklbaniiimlgdkdgenkäº¤æµç¾¤æ•ˆæœäº¤æµç¾¤æ¦‚è¿°Cadence Support Downloader æ˜¯ä¸€ä¸ª Chrome æ‰©å±•ç¨‹åºï¼Œç”¨äºç®€åŒ–ä» Cadenc...", "content": "Cadence Support Downloader å¸®åŠ©æŒ‡å—åœ°å€https://chromewebstore.google.com/detail/cadence-support-downloade/hmdaleneajcddlklbaniiimlgdkdgenkäº¤æµç¾¤æ•ˆæœäº¤æµç¾¤æ¦‚è¿°Cadence Support Downloader æ˜¯ä¸€ä¸ª Chrome æ‰©å±•ç¨‹åºï¼Œç”¨äºç®€åŒ–ä» Cadence Support æœç´¢ç»“æœä¸­ä¸‹è½½ PDF å’Œé™„ä»¶çš„è¿‡ç¨‹ã€‚å®ƒå¯ä»¥å¸®åŠ©æ‚¨å°†ä¸‹è½½å†…å®¹ç»„ç»‡åˆ°æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶è·Ÿè¸ªæ‚¨å·²ç»ä¸‹è½½çš„å†…å®¹ã€‚åŠŸèƒ½ç‰¹ç‚¹ è‡ªåŠ¨ä»æœç´¢ç»“æœé¡µé¢æå–æ–‡ç«  ä¸‹è½½æ¯ç¯‡æ–‡ç« çš„ PDF æ–‡æ¡£å’Œé™„ä»¶ å°†ä¸‹è½½å†…å®¹æ•´ç†åˆ°ä»¥æ–‡ç« æ ‡é¢˜å‘½åçš„æ–‡ä»¶å¤¹ä¸­ è·Ÿè¸ªä¸‹è½½å†å²ï¼Œé¿å…é‡å¤ä¸‹è½½ç›¸åŒå†…å®¹ é€šè¿‡ç›´è§‚çš„ç•Œé¢ç®¡ç†ä¸‹è½½å†å² åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­æŸ¥çœ‹è¯¦ç»†çš„ä¸‹è½½ç»Ÿè®¡ä¿¡æ¯ æ”¯æŒå¤šä¸ªå¹¶å‘ä¸‹è½½ï¼ŒåŠ å¿«å¤„ç†é€Ÿåº¦å®‰è£…æ–¹æ³• ä» Chrome ç½‘ä¸Šåº”ç”¨åº—å®‰è£…ï¼š åœ¨ Chrome ç½‘ä¸Šåº”ç”¨åº—ä¸­æ‰¾åˆ°è¯¥æ‰©å±•ç¨‹åº ç‚¹å‡»â€æ·»åŠ åˆ° Chromeâ€å¹¶ç¡®è®¤å®‰è£… æ‰©å±•å›¾æ ‡å°†å‡ºç°åœ¨ Chrome å·¥å…·æ ä¸­ æ‰‹åŠ¨å®‰è£…ï¼ˆå¼€å‘è€…æ¨¡å¼ï¼‰ï¼š ä¸‹è½½æ‰©å±•ç¨‹åºæ–‡ä»¶ æ‰“å¼€ Chromeï¼Œè®¿é—® chrome://extensions/ åœ¨å³ä¸Šè§’å¯ç”¨â€å¼€å‘è€…æ¨¡å¼â€ ç‚¹å‡»â€åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€å¹¶é€‰æ‹©æ‰©å±•ç¨‹åºæ–‡ä»¶å¤¹ æ‰©å±•ç¨‹åºå°†å‡ºç°åœ¨ Chrome å·¥å…·æ ä¸­ ä½¿ç”¨æ–¹æ³•åŸºæœ¬ç”¨æ³• ç™»å½• Cadence Support ç½‘ç«™ æœç´¢æ‚¨éœ€è¦çš„å†…å®¹ï¼ˆä¾‹å¦‚â€RAKâ€ã€â€Virtuosoâ€ç­‰ï¼‰ åœ¨æœç´¢ç»“æœé¡µé¢ï¼Œç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„ Cadence Support Downloader å›¾æ ‡ ç‚¹å‡»â€Downloadâ€æŒ‰é’®å¼€å§‹ä¸‹è½½è¿‡ç¨‹ æ‰©å±•ç¨‹åºå°†ï¼š è¯†åˆ«å½“å‰é¡µé¢ä¸Šçš„æ‰€æœ‰æ–‡ç«  è¿‡æ»¤æ‰æ‚¨å·²ä¸‹è½½çš„æ–‡ç«  ä¸ºæ–°æ–‡ç« ä¸‹è½½ PDF å’Œé™„ä»¶ å°†æ–‡ä»¶æ•´ç†åˆ°ä»¥æ¯ç¯‡æ–‡ç« åç§°å‘½åçš„æ–‡ä»¶å¤¹ä¸­ ä¸‹è½½è¿‡ç¨‹ æ‰©å±•ç¨‹åºå°†åœ¨å¼¹å‡ºçª—å£ä¸­æ˜¾ç¤ºè¿›åº¦ æ‚¨å°†çœ‹åˆ°æ´»åŠ¨ä¸‹è½½å’Œä¸‹è½½é˜Ÿåˆ—ä¸­çš„é¡¹ç›® çŠ¶æ€æ¶ˆæ¯å°†å‡ºç°åœ¨æ—¥å¿—éƒ¨åˆ† å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨æµè§ˆå™¨çš„é»˜è®¤ä¸‹è½½ä½ç½®æ‰¾åˆ°æ‚¨çš„ä¸‹è½½å†…å®¹ä¸‹è½½å†å² ç‚¹å‡»â€Historyâ€æŒ‰é’®æŸ¥çœ‹æ‚¨çš„ä¸‹è½½å†å² æ¯ä¸ªæ¡ç›®æ˜¾ç¤ºï¼š æ–‡ç« æ ‡é¢˜ ä¸‹è½½æ—¥æœŸ å·²ä¸‹è½½æ–‡ä»¶åˆ—è¡¨ æ‚¨å¯ä»¥ä½¿ç”¨æœç´¢æ¡†æœç´¢å†å²è®°å½• å¯¹äºæ¯ç¯‡æ–‡ç« ï¼Œæ‚¨å¯ä»¥ï¼š æ‰“å¼€åŸå§‹æ–‡ç« é¡µé¢ é‡æ–°ä¸‹è½½å•ä¸ªæ–‡ä»¶ å¤åˆ¶æ–‡ä»¶ URL åˆ°å‰ªè´´æ¿ åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æ–‡ä»¶ ä»å†å²è®°å½•ä¸­åˆ é™¤å•ä¸ªæ–‡ç«  ç®¡ç†ä¸‹è½½ åœæ­¢ä¸‹è½½ï¼šç‚¹å‡»â€Stopâ€æŒ‰é’®å–æ¶ˆæ´»åŠ¨ä¸‹è½½ æ¸…é™¤å†å²è®°å½•ï¼šåœ¨å†å²è®°å½•éƒ¨åˆ†ï¼Œç‚¹å‡»â€Clear Download Historyâ€åˆ é™¤æ‰€æœ‰å†å²è®°å½• æœç´¢å†å²è®°å½•ï¼šä½¿ç”¨æœç´¢æ¡†åœ¨å†å²è®°å½•ä¸­æŸ¥æ‰¾ç‰¹å®šæ–‡ç« æˆ–æ–‡ä»¶æ•…éšœæ’é™¤å†…å®¹è„šæœ¬æœªå°±ç»ªé”™è¯¯å¦‚æœæ‚¨çœ‹åˆ°â€Content script not ready. Please refresh the page and try againâ€ï¼š ç­‰å¾…è‡ªåŠ¨æ¢å¤è¿‡ç¨‹å®Œæˆ å½“æ‚¨çœ‹åˆ°â€Content script injected. Please try downloading againâ€æ—¶ï¼Œå†æ¬¡ç‚¹å‡»â€Downloadâ€ å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œåˆ·æ–°é¡µé¢å¹¶é‡è¯•ä¸‹è½½å¤±è´¥å¦‚æœæ–‡ä»¶ä¸‹è½½å¤±è´¥ï¼š æ£€æŸ¥æ‚¨æ˜¯å¦ä»ç„¶ç™»å½• Cadence Support ç¡®ä¿æ‚¨æœ‰ç¨³å®šçš„äº’è”ç½‘è¿æ¥ å°è¯•ä»å†å²è®°å½•éƒ¨åˆ†å•ç‹¬ä¸‹è½½æ–‡ä»¶ æŸ¥çœ‹æ‰©å±•ç¨‹åºæ—¥å¿—ä¸­çš„é”™è¯¯æ¶ˆæ¯è®¸å¯åè®®é¡µé¢æ‰©å±•ç¨‹åºä¼šè‡ªåŠ¨å¤„ç†è®¿é—®æŸäº›æ–‡ç« æ—¶å¯èƒ½å‡ºç°çš„è®¸å¯åè®®é¡µé¢ï¼š å½“æ£€æµ‹åˆ°è®¸å¯åè®®é¡µé¢æ—¶ï¼Œæ‰©å±•ç¨‹åºå°†è‡ªåŠ¨å¤„ç† è¿™ä¸ªè¿‡ç¨‹ä¸éœ€è¦ç”¨æˆ·äº¤äº’ ä¸‹è½½å°†è‡ªåŠ¨ç»§ç»­å…¶ä»–å¸¸è§é—®é¢˜ æœªæ‰¾åˆ°æ–‡ç« ï¼šç¡®ä¿æ‚¨ä½äº Cadence Support æœç´¢ç»“æœé¡µé¢ ä¸‹è½½å¡ä½ï¼šç‚¹å‡»â€Stopâ€å¹¶é‡è¯•ï¼Œæˆ–åˆ·æ–°é¡µé¢ æ–‡ä»¶åç§°å¥‡æ€ªï¼šæ–‡ç« æ ‡é¢˜ä¸­çš„ä¸€äº›ç‰¹æ®Šå­—ç¬¦å¯èƒ½ä¼šè¢«æ›¿æ¢ä¸ºå®‰å…¨æ›¿ä»£å­—ç¬¦ æ‰©å±•ç¨‹åºæ— å“åº”ï¼šé‡å¯ Chrome æˆ–ä» chrome://extensions/ é‡æ–°åŠ è½½æ‰©å±•ç¨‹åºæœ‰æ•ˆä½¿ç”¨æŠ€å·§ å¤„ç†å¤šä¸ªé¡µé¢ï¼šæµè§ˆæœç´¢ç»“æœé¡µé¢å¹¶åœ¨æ¯ä¸ªé¡µé¢ä¸Šä½¿ç”¨æ‰©å±•ç¨‹åºä»¥ä¸‹è½½æ›´å¤šå†…å®¹ ä½¿ç”¨æœç´¢åŠŸèƒ½ï¼šå½“æ‚¨æœ‰å¤§é‡ä¸‹è½½å†å²æ—¶ï¼Œä½¿ç”¨æœç´¢æ¡†æŸ¥æ‰¾ç‰¹å®šæ–‡ç«  å®šæœŸæ¸…ç†ï¼šå¦‚æœä¸‹è½½å†å²å˜å¾—å¤ªå¤§ï¼Œè¯·å®šæœŸæ¸…ç† æŸ¥çœ‹æ—¥å¿—ï¼šæ—¥å¿—éƒ¨åˆ†æä¾›äº†æœ‰å…³ä¸‹è½½è¿‡ç¨‹çš„æœ‰ç”¨ä¿¡æ¯ ä½¿ç”¨æ›¿ä»£ä¸‹è½½æ–¹æ³•ï¼šå¯¹äºæœ‰é—®é¢˜çš„æ–‡ä»¶ï¼Œå°è¯•ä»å†å²è®°å½•éƒ¨åˆ†ä½¿ç”¨â€Open in new tabâ€éšç§å’Œæ•°æ®å­˜å‚¨ æ‰€æœ‰ä¸‹è½½å†å²è®°å½•éƒ½å­˜å‚¨åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ° ä¸ä¼šå‘å¤–éƒ¨æœåŠ¡å™¨å‘é€æ•°æ® æ¸…é™¤æµè§ˆå™¨æ•°æ®æˆ–æ‰©å±•ç¨‹åºæ•°æ®å°†åˆ é™¤æ‚¨çš„ä¸‹è½½å†å²è®°å½•æ”¯æŒå’Œåé¦ˆå¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·é€šè¿‡ wanlin.wang@foxmail.com è”ç³»æ‰©å±•ç¨‹åºå¼€å‘è€…ã€‚Cadence Support Downloader åœ¨ MIT è®¸å¯ä¸‹å‘å¸ƒã€‚æ­¤æ‰©å±•ç¨‹åºä¸ Cadence Design Systems æ²¡æœ‰å®˜æ–¹å…³è”ã€‚Cadence Support Downloader Help GuideOverviewCadence Support Downloader is a Chrome extension that streamlines the process of downloading PDFs, and attachments from Cadence Support search results. It helps you organize your downloads into folders and keeps track of what youâ€™ve already downloaded.Features Automatically extract articles from search result pages Download PDF documents and attachments for each article Organize downloads into folders named after article titles Track download history to avoid downloading the same content twice Manage download history through an intuitive interface View detailed download statistics during the download process Supports multiple concurrent downloads for faster processingInstallation Install from Chrome Web Store: Navigate to the extension in the Chrome Web Store Click â€œAdd to Chromeâ€ and confirm the installation The extension icon will appear in your Chrome toolbar Manual Installation (Developer Mode): Download the extension files Open Chrome and go to chrome://extensions/ Enable â€œDeveloper modeâ€ in the top-right corner Click â€œLoad unpackedâ€ and select the extension folder The extension will appear in your Chrome toolbar How to UseBasic Usage Log in to the Cadence Support website Search for your desired content (e.g., â€œRAKâ€, â€œVirtuosoâ€, etc.) On the search results page, click the Cadence Support Downloader icon in your browser toolbar Click the â€œDownloadâ€ button to start the download process The extension will: Identify all articles on the current page Filter out articles youâ€™ve already downloaded Download PDFs and attachments for new articles Organize files into folders named after each article Download Process The extension will show progress in the popup window Youâ€™ll see active downloads and items in the download queue Status messages will appear in the log section Once complete, you can find your downloads in your browserâ€™s default download locationDownload History Click the â€œHistoryâ€ button to view your download history Each entry shows: Article title Download date List of downloaded files You can search your history using the search box For each article, you can: Open the original article page Download individual files again Copy file URLs to clipboard Open files in a new tab Delete individual articles from history Managing Downloads Stop Downloads: Click the â€œStopâ€ button to cancel active downloads Clear History: In the history section, click â€œClear Download Historyâ€ to remove all history Search History: Use the search box to find specific articles or files in your historyTroubleshootingContent Script Not Ready ErrorIf you see â€œContent script not ready. Please refresh the page and try againâ€: Wait for the auto-recovery process to complete When you see â€œContent script injected. Please try downloading againâ€, click â€œDownloadâ€ again If the issue persists, refresh the page and try againDownload FailuresIf files fail to download: Check if youâ€™re still logged in to Cadence Support Ensure you have a stable internet connection Try downloading the file individually from the history section Look for error messages in the extension logLicense Agreement PagesThe extension automatically handles license agreement pages that may appear when accessing certain articles: When a license agreement page is detected, the extension will automatically process it This happens without requiring user interaction The download will continue automaticallyOther Common Issues No articles found: Make sure youâ€™re on a Cadence Support search results page Downloads stuck: Click â€œStopâ€ and try again, or refresh the page Files with strange names: Some special characters in article titles may be replaced with safe alternatives Extension not responding: Restart Chrome or reload the extension from chrome://extensions/Tips for Effective Use Process multiple pages: Navigate through search result pages and use the extension on each to download more content Use the search function: When you have a large download history, use the search box to find specific articles Regular cleanup: Periodically clear your download history if it grows too large Check the log: The log section provides useful information about the download process Use alternative download methods: For problematic files, try using â€œOpen in new tabâ€ from the history sectionPrivacy and Data Storage All downloaded history is stored locally in your browser No data is sent to external servers Clearing your browser data or extension data will remove your download historySupport and FeedbackIf you encounter issues or have suggestions for improvement, please contact the extension developer at wanlin.wang@foxmail.com.Cadence Support Downloader is licensed under the MIT License. This extension is not officially affiliated with Cadence Design Systems." }, { "title": "Lumerical job scheduler integration (Slurm, Torque, LSF, SGE) ", "url": "/posts/Lumerical-job-scheduler-integration-Slurm-Torque-LSF-SGE/", "categories": "icenv", "tags": "job, lsf", "date": "2025-05-22 16:00:00 +0000", "snippet": "Lumerical ä¸ä½œä¸šè°ƒåº¦ç³»ç»Ÿé›†æˆ (æ”¯æŒ SGE, Slurm, Torque, LSF)æ¦‚è¿°æœ¬æŒ‡å—ä»‹ç»äº†å¦‚ä½•å°† Lumerical CAD çš„ Job Manager ä¸ä¸€äº›å¸¸è§çš„ä½œä¸šè°ƒåº¦ç³»ç»Ÿï¼ˆå¦‚ SGEã€Slurmã€Torque å’Œ IBM LSFï¼‰è¿›è¡Œé›†æˆã€‚ å®Œæˆè¿™äº›æ­¥éª¤åï¼Œåœ¨é›†ç¾¤ä¸Šè¿è¡Œä»¿çœŸå°†ä¸åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œä¸€æ ·æ— ç¼ã€‚ æ‚¨åªéœ€ç‚¹å‡»â€œè¿è¡Œâ€ï¼Œä½œä¸šå°±ä¼šè‡ªåŠ¨æäº¤åˆ°ä½œä¸šè°ƒåº¦ç³»ç»Ÿçš„é˜Ÿåˆ—...", "content": "Lumerical ä¸ä½œä¸šè°ƒåº¦ç³»ç»Ÿé›†æˆ (æ”¯æŒ SGE, Slurm, Torque, LSF)æ¦‚è¿°æœ¬æŒ‡å—ä»‹ç»äº†å¦‚ä½•å°† Lumerical CAD çš„ Job Manager ä¸ä¸€äº›å¸¸è§çš„ä½œä¸šè°ƒåº¦ç³»ç»Ÿï¼ˆå¦‚ SGEã€Slurmã€Torque å’Œ IBM LSFï¼‰è¿›è¡Œé›†æˆã€‚ å®Œæˆè¿™äº›æ­¥éª¤åï¼Œåœ¨é›†ç¾¤ä¸Šè¿è¡Œä»¿çœŸå°†ä¸åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œä¸€æ ·æ— ç¼ã€‚ æ‚¨åªéœ€ç‚¹å‡»â€œè¿è¡Œâ€ï¼Œä½œä¸šå°±ä¼šè‡ªåŠ¨æäº¤åˆ°ä½œä¸šè°ƒåº¦ç³»ç»Ÿçš„é˜Ÿåˆ—ä¸­ï¼ˆå¦‚æœéœ€è¦ï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨ä¼ è¾“ï¼‰ï¼ŒLumerical ä½œä¸šç®¡ç†å™¨ä¼šå®šæœŸæ›´æ–°ä»¿çœŸçš„å½“å‰çŠ¶æ€å’Œè¿›åº¦ï¼Œå®Œæˆåï¼Œç»“æœä¼šè‡ªåŠ¨åŠ è½½åˆ°æ‚¨å½“å‰çš„ CAD ä¼šè¯ä¸­ã€‚å·²çŸ¥é™åˆ¶ ä½œä¸šç®¡ç†å™¨çš„â€œé€€å‡ºä½†ä¸ä¿å­˜â€å’Œâ€œé€€å‡ºå¹¶ä¿å­˜â€é€‰é¡¹ç›®å‰ä¸å—æ”¯æŒã€‚ è¿™é€‚ç”¨äºå•ä¸ªä»¿çœŸä»¥åŠå°†ä½œä¸šè°ƒåº¦å™¨ä½œä¸ºèµ„æºçš„å‚æ•°æ‰«æã€‚ ç‚¹å‡»â€œå¼ºåˆ¶é€€å‡ºâ€æ—¶ï¼Œå·²æäº¤çš„ä½œä¸šä¸ä¼šè¢«å–æ¶ˆï¼Œéœ€è¦æ‰‹åŠ¨å–æ¶ˆã€‚ å½“ä½¿ç”¨é€šè¿‡ SSH è¿›è¡Œæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½åŠŸèƒ½æ—¶ï¼Œä¼ è¾“çŠ¶æ€ä¸ä¼šåæ˜ åœ¨ä½œä¸šç®¡ç†å™¨çš„çŠ¶æ€è§†å›¾ä¸­ã€‚ ä½œä¸šç®¡ç†å™¨çª—å£åœ¨åå°ä¸‹è½½æ–‡ä»¶æœŸé—´å°†ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥è¿‡ç¨‹å®Œæˆåå…³é—­ã€‚è¦æ±‚ Lumerical Products 2020a R3 (æˆ–æ›´æ–°ç‰ˆæœ¬) Ansys Lumerical 2023 R2.2 (æˆ–æ›´æ–°ç‰ˆæœ¬) ç”¨äºåŸºäºç”¨æˆ·çš„é…ç½® é›†ç¾¤éœ€å®‰è£…ä»¥ä¸‹ä»»ä¸€ä½œä¸šè°ƒåº¦ç³»ç»Ÿï¼šSlurmã€Torqueã€LSFã€SGEï¼Œå¹¶é…ç½®å¥½ X11 æ˜¾ç¤ºä»¥åŠå·²å®‰è£…å¹¶é…ç½®å¥½è®¸å¯è¯æœåŠ¡å™¨çš„ Lumerical äº§å“ã€‚ å¦‚æœä½¿ç”¨ AWS ParallelClusterï¼Œè¯·å‚é˜… AWS-ParallelCluster æ–‡æ¡£äº†è§£è¯¦æƒ…ã€‚èµ„æºé…ç½® æ·»åŠ /ç¼–è¾‘èµ„æºï¼š åœ¨ Lumerical CAD çš„â€œèµ„æºé…ç½®â€ (Resource Configuration) ç•Œé¢ä¸­ï¼Œæ·»åŠ æˆ–ç¼–è¾‘ä¸€ä¸ªæ–°çš„èµ„æºã€‚ å¦‚æœé˜Ÿåˆ—å·²é…ç½®ä¸ºå¤„ç†å¯ç”¨è®¸å¯è¯çš„æ•°é‡ï¼Œåˆ™å°†å®¹é‡ (Capacity) è®¾ç½®ä¸º 0 (æ— é™)ï¼›å¦åˆ™ï¼Œå°†å…¶è®¾ç½®ä¸ºè®¸å¯è¯æœåŠ¡å™¨ä¸Šå¯ç”¨çš„æœ€å¤§æ±‚è§£å¼•æ“è®¸å¯è¯æ•°é‡ã€‚ é«˜çº§èµ„æºè®¾ç½®ï¼š ç¼–è¾‘é«˜çº§èµ„æºè®¾ç½® (advanced resource settings)ï¼Œä»â€œä½œä¸šå¯åŠ¨é¢„è®¾â€ (Job Launching Presets) ä¸­é€‰æ‹©æ‚¨çš„ä½œä¸šè°ƒåº¦ç³»ç»Ÿï¼ˆä¾‹å¦‚ Slurmï¼‰ã€‚ æ³¨æ„äº‹é¡¹ï¼š é¢„è®¾ä¼šè‡ªåŠ¨å¡«å……ç¤ºä¾‹è®¾ç½®ï¼Œå¯èƒ½ä¸é€‚ç”¨äºæ‚¨çš„ç‰¹å®šé›†ç¾¤ã€‚ è¯·ä¿®æ”¹æäº¤å‘½ä»¤ (submission command) ä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„èŠ‚ç‚¹æ•°å’Œæ¯èŠ‚ç‚¹è¿›ç¨‹æ•°ï¼Œå¹¶æ›´æ–°æäº¤è„šæœ¬ (submission script) ä»¥é€‚åº”æ‚¨é›†ç¾¤å’Œä»¿çœŸéœ€æ±‚çš„ Lumerical è®¡ç®—ç¯å¢ƒã€‚ ä½¿ç”¨ Slurm æäº¤ä½œä¸šæ—¶ï¼Œè¯·ç¡®ä¿è®¾ç½®äº†è¯·æ±‚è®¡ç®—é›†ç¾¤èµ„æºçš„æ ‡å¿—ï¼ˆä¾‹å¦‚ CPUã€GPU å’Œå†…å­˜ï¼‰ï¼Œä¾‹å¦‚é€šè¿‡ --cpus-per-taskã€--gpus-per-node å’Œ --memã€‚ å¦åˆ™ï¼Œä»¿çœŸå¯èƒ½ä¼šå¤±è´¥æˆ–æ— æ³•ä½¿ç”¨æ‰€æœ‰å¯ç”¨ç¡¬ä»¶ã€‚ æœ‰å…³è¯·æ±‚èµ„æºçš„æ ‡å¿—çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… Slurm çš„ sbatch æ–‡æ¡£ã€‚ä»æœ¬åœ°è®¡ç®—æœºå‘ä½œä¸šè°ƒåº¦ç³»ç»Ÿæäº¤ä½œä¸šå¦‚æœæ‚¨å¸Œæœ›ä»æœ¬åœ°è®¡ç®—æœºå¯åŠ¨ä½œä¸šä»¥è·å¾—æ›´æ— ç¼çš„ä½“éªŒï¼Œå¯ä»¥æŒ‰ç…§ä¸åœ¨é›†ç¾¤ä¸Šé…ç½®èµ„æºç›¸åŒçš„æ­¥éª¤åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šé…ç½® Lumericalï¼Œå¹¶é€šè¿‡è®¾ç½® job_scheduler_input.json æ–‡ä»¶æ¥å¯ç”¨ SSHã€‚ é€šè¿‡ JSON æ–‡ä»¶è¿›è¡Œé…ç½®çš„åŠŸèƒ½æ˜¯åœ¨ Lumerical 2023 R2.2 ç‰ˆæœ¬ä¸­å¼•å…¥çš„ã€‚ å¯¹äºä¹‹å‰çš„ç‰ˆæœ¬ï¼Œæ‚¨éœ€è¦ä¿®æ”¹ä¸æ‚¨çš„ä½œä¸šè°ƒåº¦ç³»ç»Ÿç›¸å¯¹åº”çš„ .py æ–‡ä»¶ã€‚ job_scheduler_input.json æ¨¡æ¿æ–‡ä»¶å¯ä»¥åœ¨ Lumerical å®‰è£…ç›®å½•ä¸­æ‰¾åˆ°ï¼š Windows (é»˜è®¤å®‰è£…è·¯å¾„): C:\\Program Files\\Lumerical\\v251\\scripts\\job_schedulers Linux (é»˜è®¤å®‰è£…è·¯å¾„): /opt/lumerical/v251/scripts/job_schedulers job_scheduler_input.json æ–‡ä»¶å†…å®¹æ¨¡æ¿ï¼š{ \"user_name\":\"\", \"use_ssh\":0, \"use_scp\":0, \"cluster_cwd\":\"\", \"master_node_ip\":\" &lt;master-node-ip&gt; \", \"ssh_key\":\"~/.ssh/ &lt;private-key&gt; .pem\", \"path_translation\": [\"\",\"\"]}é‡è¦æ­¥éª¤ï¼š å°† job_scheduler_input.json æ–‡ä»¶å¤åˆ¶åˆ°æ‚¨ç”¨æˆ·çš„ â€œhomeâ€ æ–‡ä»¶å¤¹ä¸‹å¯¹åº”çš„ Lumerical é…ç½®è·¯å¾„ï¼š Linux: ~/.config/Lumerical Windows: %APPDATA%\\Lumerical ç„¶åç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„ä½œä¸šè°ƒåº¦ç³»ç»Ÿè®¾ç½®ã€‚job_scheduler_input.json å‚æ•°è¯´æ˜ï¼š å‚æ•° æè¿° user_name æ‚¨åœ¨ä¸»èŠ‚ç‚¹ä¸Šçš„ç”¨æˆ·åã€‚å¦‚æœç•™ç©ºï¼Œå°†ä½¿ç”¨ import getpass; getpass.getuser() åŠ¨æ€åˆ†é…ç”¨æˆ·åã€‚ use_ssh å¦‚æœè®¾ç½®ä¸º 1ï¼Œåˆ™ä½¿ç”¨ ssh* åœ¨ä¸»èŠ‚ç‚¹ä¸Šè¿è¡Œæäº¤å‘½ä»¤ã€‚ use_scp å¦‚æœè®¾ç½®ä¸º 1ï¼Œä»¿çœŸæ–‡ä»¶å°†ä½¿ç”¨ scp* å¤åˆ¶åˆ°ä¸»èŠ‚ç‚¹ã€‚ cluster_cwd å½“ use_scp=1 æ—¶ï¼Œä»¿çœŸæ–‡ä»¶å°†è¢«å¤åˆ¶åˆ°çš„å…±äº«æ–‡ä»¶å¤¹è·¯å¾„ï¼Œä¾‹å¦‚ \"\"\"/cluster_path/of_simulationfile/\"\"\"ã€‚ master_node_ip ç”¨äºè¿œç¨‹è¿æ¥å’Œä½œä¸šæäº¤çš„ä¸»èŠ‚ç‚¹çš„ IP åœ°å€æˆ–ä¸»æœºåã€‚ ssh_key ç”¨äºæ— å¯†ç è¿æ¥çš„ç§é’¥æ–‡ä»¶çš„ä½ç½®ã€‚ path_translation å¯ç”¨äºåœ¨ Windows å…±äº«æ–‡ä»¶ç³»ç»Ÿä¸ Linux é›†ç¾¤ä¹‹é—´è½¬æ¢è·¯å¾„ã€‚ä½¿ç”¨ Unix é£æ ¼çš„è·¯å¾„åˆ†éš”ç¬¦ /ï¼Œä¾‹å¦‚ \"\"\"path_translation\"\": [\"\"local_path/of_simulationfile/\"\", \"\"/cluster_path/of_simulationfile/\"\"]ã€‚ è¦ä»æœ¬åœ°è®¡ç®—æœºå‘ Linux é›†ç¾¤æäº¤ä½œä¸šï¼Œè¯·å°† use_ssh å’Œ use_scp è®¾ç½®ä¸º 1ï¼Œå¹¶å°† master_node_ip è®¾ç½®ä¸ºèŠ‚ç‚¹çš„ IP åœ°å€ã€‚ æ­¤æ–¹æ³•å°†ä½¿ç”¨ scp* å°†æ‚¨çš„ä»¿çœŸæ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œä½¿ç”¨ ssh* å¯åŠ¨ä½œä¸šï¼Œå¹¶åœ¨ç»“æŸæ—¶å°†æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶å¤åˆ¶å›æ‚¨çš„æœ¬åœ°è®¡ç®—æœºã€‚æ³¨æ„ï¼šåœ¨ Windows ä¸Šï¼Œæ‚¨éœ€è¦ç¡®ä¿ SSH å’Œ SCP å·²æ·»åŠ åˆ°ç³»ç»Ÿçš„ PATH ç¯å¢ƒå˜é‡ä¸­ã€‚ æ ¹æ® Windows çš„ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥å®‰è£… Git Bash æˆ– OpenSSH for Windowsã€‚ç»“æœç°åœ¨ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä» CAD çš„ä½œä¸šç®¡ç†å™¨è¿è¡Œä»»ä½• Lumerical ä»¿çœŸï¼ˆå•ä¸ªã€æ‰«æã€ä¼˜åŒ–ç­‰ï¼‰ã€‚ä½œä¸šè°ƒåº¦ç³»ç»Ÿæäº¤è„šæœ¬ (SGE, Slurm, Torque, LSF)ä½œä¸šè°ƒåº¦ç³»ç»Ÿè„šæœ¬é€šå¸¸åŒ…å«ä¸¤ä¸ªé‡è¦éƒ¨åˆ†ã€‚ ç¬¬ä¸€éƒ¨åˆ†æ˜¯è®¾ç½®ä½œä¸šè¿è¡Œçš„ç¯å¢ƒï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯è¿è¡Œä½œä¸šçš„å‘½ä»¤ã€‚ä»¥ä¸‹ç¤ºä¾‹åˆ©ç”¨äº† IntelMPI å’Œ OpenMPI æä¾›çš„ mpirun è„šæœ¬ã€‚ ç”±äºæˆ‘ä»¬åœ¨æ‰§è¡Œå‰è®¾ç½®äº†ç¯å¢ƒï¼Œå› æ­¤æ— éœ€æä¾› mpirun çš„å®Œæ•´è·¯å¾„ã€‚ è¿™äº›è„šæœ¬ä¼šè‡ªåŠ¨è¯»å–ä½œä¸šè°ƒåº¦ç³»ç»Ÿè®¾ç½®çš„ç¯å¢ƒå˜é‡å¹¶æ‰§è¡Œç›¸åº”çš„ mpiexec å‘½ä»¤ã€‚ç¤ºä¾‹ 1ï¼šAWS ParallelCluster ç¤ºä¾‹#!/bin/shmodule load intelmpimpirun /opt/lumerical/v251/bin/fdtd-engine-impi-lcl -logall -fullinfo fdtd_100mb.fspç¤ºä¾‹ 2ï¼šä½¿ç”¨ MPI ç¯å¢ƒè„šæœ¬è®¸å¤š MPI å‘è¡Œç‰ˆä¸­éƒ½å¯ä»¥æ‰¾åˆ° mpivars.sh æˆ–ç±»ä¼¼çš„è„šæœ¬ã€‚ æ­¤è„šæœ¬ä¼šä¸ºå…¶ MPI å‘è¡Œç‰ˆè®¾ç½®ç›¸åº”çš„ MPI å˜é‡ã€‚#!/bin/shsource /opt/intel_2019/compilers_and_libraries_2019.3.199/linux/mpi/intel64/bin/mpivars.shmpirun /opt/lumerical/v251/bin/fdtd-engine-impi-lcl -logall -fullinfo fdtd_100mb.fspç¤ºä¾‹ 3 (é«˜çº§)ï¼šä½¿ç”¨ Modules ç®¡ç†è½¯ä»¶ç‰ˆæœ¬æ‚¨å¯ä»¥ä½¿ç”¨ Modules æ¥ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„ Lumerical è½¯ä»¶ã€‚ Modules æ˜¯é›†ç¾¤ç®¡ç†ä¸­ç”¨äºå¤„ç†ä½œä¸šç¯å¢ƒçš„å¸¸ç”¨å·¥å…·ã€‚ æ‚¨å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æœ‰å…³å¦‚ä½•åˆ›å»º Modules çš„æ›´å¤šä¿¡æ¯ï¼šhttp://www.admin-magazine.com/HPC/Articles/Environment-Modules#!/bin/shmodule load intel-mpimodule load lumerical-2019bmpirun fdtd-engine-impi-lcl -logall -fullinfo fdtd_100mb.fspå„è°ƒåº¦ç³»ç»Ÿè¿è¡Œå‘½ä»¤ Slurm: sbatch -N {nodes} --ntasks-per-node={ppn} {submit.sh} Torque: qsub -l nodes={n}:ppn={ppn} {submit.sh} SGE: qsub -pe mpi {nodes*ppn} {submit.sh} IBM Platform/Spectrum LSF: bsub -Ip -n {nodes*ppn} {submit.sh} é¢å¤–æŠ€å·§ï¼šå•å‘½ä»¤æäº¤ä½œä¸šæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å•ä¸ªå‘½ä»¤æäº¤ä½œä¸šï¼šprintf '#!/bin/sh\\nmodule load intelmpi\\nmpirun /opt/lumerical/v251/bin/fdtd-engine-impi-lcl -logall -fullinfo fdtd_1000000mb.fsp' | {job_scheduler_command}" }, { "title": "Cadence Support Downloader", "url": "/posts/cadence-support-downloader/", "categories": "icenv", "tags": "eda", "date": "2025-05-20 16:00:00 +0000", "snippet": "å¯¹RAKæ–‡ç« å†…å«PDFå’Œattachmentä¸‹è½½ï¼Œåšä¸»åšäº†ä¸€ä¸ªChrome Extensionæ¥è‡ªåŠ¨åŒ–è·å–ã€‚ç•Œé¢ä¸æ•ˆæœå¦‚å›¾ï¼Œ", "content": "å¯¹RAKæ–‡ç« å†…å«PDFå’Œattachmentä¸‹è½½ï¼Œåšä¸»åšäº†ä¸€ä¸ªChrome Extensionæ¥è‡ªåŠ¨åŒ–è·å–ã€‚ç•Œé¢ä¸æ•ˆæœå¦‚å›¾ï¼Œ" }, { "title": "Instructions for ST Package Setup", "url": "/posts/instructions-for-st-package-setup/", "categories": "icenv", "tags": "pdk", "date": "2025-05-11 16:00:00 +0000", "snippet": "è¿™ç¯‡æ–‡æ¡£ä»‹ç»äº†æ„æ³•åŠå¯¼ä½“ï¼ˆSTï¼‰å†…éƒ¨ä½¿ç”¨çš„è®¾è®¡ç¯å¢ƒé…ç½®å’Œç®¡ç†æ–¹å¼ï¼Œå…¶ä¸­æ˜ç¡®åŒºåˆ†äº†ç³»ç»Ÿç®¡ç†å‘˜ï¼ˆCAD Administratorï¼‰å’Œæ™®é€šè®¾è®¡å·¥ç¨‹å¸ˆçš„è§’è‰²ä¸ä»»åŠ¡ï¼Œå…·ä½“æ¦‚æ‹¬å¦‚ä¸‹ï¼šä¸€ã€ç®¡ç†å‘˜é…ç½®æµç¨‹ï¼ˆSystem Administratorï¼‰ç®¡ç†å‘˜çš„ä¸»è¦èŒè´£æ˜¯å‡†å¤‡è®¾è®¡ç¯å¢ƒï¼Œä½¿æ‰€æœ‰ç”¨æˆ·èƒ½å¤Ÿæ— éšœç¢åœ°ä½¿ç”¨ EDA å·¥å…·å’Œåº“ã€‚ç®¡ç†å‘˜æµç¨‹åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š1. Design Kit å®Œæ•´åŒ… å®‰è£…å®Œæˆåï¼Œ...", "content": "è¿™ç¯‡æ–‡æ¡£ä»‹ç»äº†æ„æ³•åŠå¯¼ä½“ï¼ˆSTï¼‰å†…éƒ¨ä½¿ç”¨çš„è®¾è®¡ç¯å¢ƒé…ç½®å’Œç®¡ç†æ–¹å¼ï¼Œå…¶ä¸­æ˜ç¡®åŒºåˆ†äº†ç³»ç»Ÿç®¡ç†å‘˜ï¼ˆCAD Administratorï¼‰å’Œæ™®é€šè®¾è®¡å·¥ç¨‹å¸ˆçš„è§’è‰²ä¸ä»»åŠ¡ï¼Œå…·ä½“æ¦‚æ‹¬å¦‚ä¸‹ï¼šä¸€ã€ç®¡ç†å‘˜é…ç½®æµç¨‹ï¼ˆSystem Administratorï¼‰ç®¡ç†å‘˜çš„ä¸»è¦èŒè´£æ˜¯å‡†å¤‡è®¾è®¡ç¯å¢ƒï¼Œä½¿æ‰€æœ‰ç”¨æˆ·èƒ½å¤Ÿæ— éšœç¢åœ°ä½¿ç”¨ EDA å·¥å…·å’Œåº“ã€‚ç®¡ç†å‘˜æµç¨‹åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š1. Design Kit å®Œæ•´åŒ… å®‰è£…å®Œæˆåï¼Œä¼šåˆ›å»ºç‰¹å®šç›®å½•ï¼š &lt;ST_AREA&gt;/SETUP/SETUP_&lt;ID_delivery&gt;/ ç›®å½•ä¸­åŒ…å«ï¼š .cdsinit ä¸ .cdsinit.userï¼ˆCadence ç¯å¢ƒåˆå§‹åŒ–ï¼‰ cds.libï¼ˆåº“å®šä¹‰æ–‡ä»¶ï¼‰ .simrc ä¸ .simrc.userï¼ˆä»¿çœŸé…ç½®ï¼‰ csh_initï¼ˆç¯å¢ƒå˜é‡å®šä¹‰ï¼Œæ ¸å¿ƒæ–‡ä»¶ï¼Œç®¡ç†å‘˜å¿…é¡»ä¿®æ”¹ï¼‰ soft_initï¼ˆEDAå·¥å…·é…ç½®ï¼Œç®¡ç†å‘˜å¿…é¡»ä¿®æ”¹ï¼‰ .ucdprodï¼ˆUnicadKernel äº§å“å®šä¹‰æ–‡ä»¶ï¼Œæ— éœ€ä¿®æ”¹ï¼‰ é‡ç‚¹æ–‡ä»¶è¯´æ˜ï¼š csh_init æ–‡ä»¶ å®šä¹‰é‡è¦ç¯å¢ƒå˜é‡ï¼š ST_AREAï¼šå®‰è£…ç›®å½•æ ¹è·¯å¾„ SETUP_DIRï¼šå½“å‰é…ç½®ç›®å½•è·¯å¾„ UCDPRJDIRï¼šé¡¹ç›®è·¯å¾„ .cdsinit.userã€.simrc.userã€cds.libæ–‡ä»¶è·¯å¾„ å¦‚æœä½¿ç”¨ Keysight çš„ Goldengate ä»¿çœŸå™¨ï¼Œéœ€å®šä¹‰å˜é‡opusverä»¥ç¡®ä¿ CSFæœºåˆ¶æ­£å¸¸å·¥ä½œã€‚ soft_init æ–‡ä»¶ åŒ…å«å„ç§ EDA å·¥å…·è®¾ç½®ï¼ˆCadenceã€Mentor Graphicsã€Synopsysã€Keysightï¼‰ éœ€æ›´æ–°å®é™…ä½¿ç”¨çš„å·¥å…·é…ç½®ï¼Œæœªä½¿ç”¨çš„å¯æ³¨é‡Šæ‰ã€‚ ç®¡ç†å‘˜éªŒè¯æ–¹æ³•ï¼šsource &lt;ST_AREA&gt;/SETUP/SETUP_&lt;ID_delivery&gt;/csh_init2. Addon åŒ…ï¼ˆä»…é™„åŠ åº“æˆ–å·¥å…·åŒ…ï¼Œæ—  Design Kitï¼‰ è‹¥å·²å®‰è£…åŸºç¡€ Design Kitï¼Œä¸”åŒ…å« UnicadKernelï¼š ä»…éœ€æ›´æ–°&lt;ST_AREA&gt;/SETUP/SETUP_&lt;ID_delivery&gt;/.ucdprodæ–‡ä»¶ã€‚ è‹¥æœªå®‰è£… UnicadKernelï¼š éœ€è¦æ‰‹åŠ¨å°†æ–°åº“æ·»åŠ åˆ°cds.libä¸­ã€‚ éªŒè¯æ–¹å¼ä¸å®Œæ•´åŒ…ç›¸åŒã€‚äºŒã€ç”¨æˆ·é…ç½®æµç¨‹ï¼ˆDesign Engineerï¼‰ç”¨æˆ·ç«¯ç¯å¢ƒé…ç½®ç›¸å¯¹ç®€å•ï¼Œç®¡ç†å‘˜å®Œæˆå‰è¿°é…ç½®åï¼š ç”¨æˆ·è¿›å…¥è‡ªå·±çš„å·¥ä½œç›®å½•ï¼ˆä¸åŒäº&lt;ST_AREA&gt;ï¼‰ï¼š source &lt;ST_AREA&gt;/SETUP/SETUP_&lt;ID_delivery&gt;/csh_init æ¨èæ–¹å¼ï¼šåœ¨ç”¨æˆ·å·¥ä½œç›®å½•ä¸­å»ºç«‹é“¾æ¥åˆ°ä¸Šè¿°csh_initæ–‡ä»¶ï¼Œä¾¿äºåç»­è‡ªåŠ¨ç»§æ‰¿ç®¡ç†å‘˜é…ç½®çš„æ›´æ–°ï¼š ln -s &lt;ST_AREA&gt;/SETUP/SETUP_&lt;ID_delivery&gt;/csh_init . è¿è¡Œä¸Šè¿°å‘½ä»¤åï¼Œè‡ªåŠ¨åœ¨ç”¨æˆ·ç›®å½•åˆ›å»ºï¼š .cdsinit .simrc cds.lib ç”¨æˆ·æ¯æ¬¡å¯åŠ¨ç¯å¢ƒæ—¶ï¼Œä¼šè‡ªåŠ¨å¼•ç”¨æœ€æ–°çš„.cdsinitä¸.simrcé…ç½®ï¼Œå³ä½¿ç”¨æˆ·åœ¨æœ¬åœ°è¿›è¡Œè¿‡ä¿®æ”¹ï¼Œä¹Ÿä¼šæç¤ºè¦†ç›–.ucdprodæ–‡ä»¶ï¼Œæ¥å—å³å¯ã€‚ä¸‰ã€å¯åŠ¨åº”ç”¨ç¨‹åºç¤ºä¾‹ï¼ˆApplication launchï¼‰å®Œæˆä¸Šè¿°ç¯å¢ƒé…ç½®åï¼Œç”¨æˆ·å³å¯å¯åŠ¨å…·ä½“çš„ EDA åº”ç”¨ï¼š æ¨¡æ‹Ÿè®¾è®¡ï¼š virtuoso &amp; æ•°å­—è®¾è®¡ï¼š encounter &amp; ä»¥ä¸Šå³ä¸ºæ„æ³•åŠå¯¼ä½“PDKçš„é…ç½®ä¸ä½¿ç”¨è¿‡ç¨‹ï¼Œç®¡ç†å‘˜è´Ÿè´£åˆå§‹ç¯å¢ƒéƒ¨ç½²ä¸å®šåˆ¶ï¼Œæ™®é€šç”¨æˆ·åˆ™é€šè¿‡ç®€å•çš„å‘½ä»¤ç»§æ‰¿ç®¡ç†å‘˜çš„é…ç½®ï¼Œæœ€ç»ˆå¯åŠ¨å„è‡ªçš„è®¾è®¡å·¥å…·è¿›è¡Œå·¥ä½œã€‚" }, { "title": "RHEL9 XFCE ETX Multiple Session Gray Screen Fix", "url": "/posts/rhel9-xfce-etx-multiple-session-gray-screen-fix/", "categories": "icenv", "tags": "etx", "date": "2025-05-10 16:00:00 +0000", "snippet": "RHEL 9 ä¸‹ XFCE åœ¨ OpenText ETX å¤šä¼šè¯ä¸­å‡ºç°ç°å±é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ å‚è€ƒèµ„æ–™ï¼š XFCE Forum - Cannot run multiple xfce4-session as same user Xfce Bugzilla - Bug 7502 èƒŒæ™¯åœ¨ä½¿ç”¨ OpenText Exceed TurboXï¼ˆETXï¼‰éƒ¨ç½²è¿œç¨‹ Linux æ¡Œé¢æ—¶ï¼Œç”¨æˆ·å¾€...", "content": "RHEL 9 ä¸‹ XFCE åœ¨ OpenText ETX å¤šä¼šè¯ä¸­å‡ºç°ç°å±é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ å‚è€ƒèµ„æ–™ï¼š XFCE Forum - Cannot run multiple xfce4-session as same user Xfce Bugzilla - Bug 7502 èƒŒæ™¯åœ¨ä½¿ç”¨ OpenText Exceed TurboXï¼ˆETXï¼‰éƒ¨ç½²è¿œç¨‹ Linux æ¡Œé¢æ—¶ï¼Œç”¨æˆ·å¾€å¾€ä¼šé…ç½®è½»é‡çº§æ¡Œé¢å¦‚ xfce4-session ä»¥é€‚é… RHEL 9 å›¾å½¢æ ˆã€‚ä½†å½“åŒä¸€ç”¨æˆ·å°è¯•å¯åŠ¨ç¬¬äºŒä¸ªä¼šè¯æ—¶ï¼Œæ¡Œé¢æ— æ³•æ­£ç¡®åŠ è½½ï¼Œå¸¸è§è¡¨ç°ä¸ºï¼š ä»…æ˜¾ç¤ºç°å±ï¼ˆæ— ä»»åŠ¡æ /çª—å£ç®¡ç†å™¨ï¼‰ ä¸å“åº”é¼ æ ‡/é”®ç›˜ å…³é—­ Session æ—¶æ— æ³•æ­£å¸¸é€€å‡ºæ ¹å› åˆ†ææ ¹æ®ç¤¾åŒºè®¨è®ºä¸å®˜æ–¹ bug è·Ÿè¸ªï¼Œå‡ºç°è¯¥é—®é¢˜çš„ä¸»è¦åŸå› åŒ…æ‹¬ï¼š1. xfce4-session ä¸æ”¯æŒå¹¶å‘è¿è¡Œå¤šå®ä¾‹ï¼ˆåŒç”¨æˆ·ï¼‰XFCE çš„ session ç®¡ç†å™¨ï¼ˆxfce4-sessionï¼‰ä¼šå°è¯•é€šè¿‡ DBus æ³¨å†Œ sessionï¼Œå¦‚æœåŒä¸€ç”¨æˆ·å·²æœ‰è¿è¡Œä¸­çš„ sessionï¼Œåˆ™ç¬¬äºŒä¸ª session ä¼šå› ä¸ºæ³¨å†Œå¤±è´¥æˆ–èµ„æºé”å†²çªè€Œé€€å‡ºæˆ–æŒ‚èµ·ã€‚2. ç¯å¢ƒå˜é‡ç»§æ‰¿å¯¼è‡´èµ„æºå†²çªå½“å¯åŠ¨ç¬¬äºŒä¸ª ETX ä¼šè¯æ—¶ï¼Œè‹¥å¤ç”¨äº†ä»¥ä¸‹å…³é”®ç¯å¢ƒå˜é‡ï¼Œä¼šè¯åˆå§‹åŒ–å°†å¤±è´¥ï¼š DBUS_SESSION_BUS_ADDRESS XDG_RUNTIME_DIR XAUTHORITY DISPLAYè¿™äº›å˜é‡ä¸ç¬¬ä¸€ä¸ª session ç´§å¯†å…³è”ï¼Œå¯¼è‡´æ¡Œé¢ç»„ä»¶ï¼ˆå¦‚ xfwm4ã€xfce4-panelï¼‰æ— æ³•åˆå§‹åŒ–æˆ–è¿æ¥é”™è¯¯çš„ socket æ–‡ä»¶ã€‚3. ~/.cache/sessions/ ä¸‹çš„ session æ–‡ä»¶æœªéš”ç¦»XFCE ä¼šåœ¨è¯¥ç›®å½•è®°å½• session çŠ¶æ€ï¼Œå¤š session å¹¶å‘å†™å…¥/è¯»å–ä¼šè§¦å‘ race conditionã€‚è§£å†³æ–¹æ¡ˆâœ… ä½¿ç”¨å¹²å‡€ç¯å¢ƒå˜é‡å¯åŠ¨ xfce4-sessionåˆ›å»ºå¦‚ä¸‹è„šæœ¬ï¼ˆå¦‚ /nfs/etx/scripts/startxfce4-clean.shï¼‰ï¼š#!/bin/bashenv -i /bin/sh -c \"export PATH=$PATH; export XAUTHORITY=$XAUTHORITY; export DISPLAY=$DISPLAY; export HOME=$HOME; export LOGNAME=$LOGNAME; export USER=$USER; /usr/bin/xfce4-session\"ç¡®ä¿è®¾ç½®æƒé™ï¼šchmod +x /nfs/etx/scripts/startxfce4-clean.shåœ¨ ETX ä¸­ï¼Œå°†è¯¥è„šæœ¬è®¾ç½®ä¸ºä¼šè¯çš„å¯åŠ¨å‘½ä»¤ï¼ˆlaunch commandï¼‰ã€‚éªŒè¯æ–¹å¼ å¯åŠ¨ç¬¬ä¸€ä¸ª ETX sessionï¼Œè§‚å¯Ÿæ—¥å¿—æ˜¯å¦æ­£å¸¸ï¼š tail -f ~/.xsession-errors å¯åŠ¨ç¬¬äºŒä¸ª sessionï¼Œç¡®è®¤ç°å±æ˜¯å¦æ¶ˆå¤±ã€‚ å¯å¯¹æ¯”å‰å env å·®å¼‚ï¼š env &gt; /tmp/env1 # ç¬¬ä¸€ä¸ªæ­£å¸¸env &gt; /tmp/env2 # ç¬¬äºŒä¸ªå¤±è´¥diff -u /tmp/env1 /tmp/env2 æ€»ç»“åœ¨ RHEL 9 + ETX ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ XFCE æ¡Œé¢æ—¶é‡åˆ°ç°å±ï¼Œç»å¤§å¤šæ•°æ˜¯ç”±äºç¯å¢ƒå˜é‡æœªéš”ç¦»å¼•èµ·çš„ã€‚é€šè¿‡ env -i å¯åŠ¨ä¸€ä¸ªæœ€å°åŒ–çš„ä¼šè¯ç¯å¢ƒï¼Œå¯ä»¥å½»åº•ç»•è¿‡ xfce4-session å¤šå®ä¾‹å¸¦æ¥çš„å†²çªã€‚é™„å½•ï¼šå¼•ç”¨ XFCE Forum: https://forum.xfce.org/viewtopic.php?id=11046 XFCE Bugzilla: https://bugzilla.xfce.org/show_bug.cgi?id=7502" }, { "title": "æ¡Œé¢å·¥å…·åœ¨HPC/èŠ¯ç‰‡ç ”å‘ä¸­çš„â€œé›†ä½“å¤±æ•ˆâ€ï¼šè·¨æœºå™¨ä½¿ç”¨ä¸ºä½•é¢‘ç¹æŠ¥é”™ï¼Ÿ", "url": "/posts/why-desktop-tools-break-in-multi-user-hpc/", "categories": "icenv", "tags": "tools", "date": "2025-05-07 16:00:00 +0000", "snippet": "æ¡Œé¢å·¥å…·åœ¨HPC/èŠ¯ç‰‡ç ”å‘ä¸­çš„â€œé›†ä½“å¤±æ•ˆâ€ï¼šè·¨æœºå™¨ä½¿ç”¨ä¸ºä½•é¢‘ç¹æŠ¥é”™ï¼Ÿ å½“æˆ‘ä»¬åœ¨ EDA æµç¨‹ä¸­ï¼Œé€šè¿‡ SSH ç™»å½•å¤šä¸ªæœåŠ¡å™¨ï¼Œæ‰“å¼€ VS Codeã€LibreOffice æˆ–ç±»ä¼¼æ¡Œé¢å·¥å…·æ—¶ï¼Œç»å¸¸é‡åˆ° EACCESã€socket æ— æ³•åˆ›å»ºã€é…ç½®ç›®å½•ä¸å¯å†™ ç­‰å¥‡æ€ªæŠ¥é”™ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿéšç€èŠ¯ç‰‡ç ”å‘ã€éªŒè¯å’Œåä»¿ç­‰æµç¨‹åœ¨ åˆ†å¸ƒå¼è®¡ç®—èµ„æºï¼ˆHPC é›†ç¾¤ï¼‰ ä¸Šé€æ¸å¸¸æ€åŒ–ï¼Œè¶Šæ¥è¶Šå¤šå¼€å‘è€…å°è¯•å°†æœ¬åœ°ç†Ÿæ‚‰çš„æ¡Œé¢...", "content": "æ¡Œé¢å·¥å…·åœ¨HPC/èŠ¯ç‰‡ç ”å‘ä¸­çš„â€œé›†ä½“å¤±æ•ˆâ€ï¼šè·¨æœºå™¨ä½¿ç”¨ä¸ºä½•é¢‘ç¹æŠ¥é”™ï¼Ÿ å½“æˆ‘ä»¬åœ¨ EDA æµç¨‹ä¸­ï¼Œé€šè¿‡ SSH ç™»å½•å¤šä¸ªæœåŠ¡å™¨ï¼Œæ‰“å¼€ VS Codeã€LibreOffice æˆ–ç±»ä¼¼æ¡Œé¢å·¥å…·æ—¶ï¼Œç»å¸¸é‡åˆ° EACCESã€socket æ— æ³•åˆ›å»ºã€é…ç½®ç›®å½•ä¸å¯å†™ ç­‰å¥‡æ€ªæŠ¥é”™ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿéšç€èŠ¯ç‰‡ç ”å‘ã€éªŒè¯å’Œåä»¿ç­‰æµç¨‹åœ¨ åˆ†å¸ƒå¼è®¡ç®—èµ„æºï¼ˆHPC é›†ç¾¤ï¼‰ ä¸Šé€æ¸å¸¸æ€åŒ–ï¼Œè¶Šæ¥è¶Šå¤šå¼€å‘è€…å°è¯•å°†æœ¬åœ°ç†Ÿæ‚‰çš„æ¡Œé¢å·¥å…·ï¼ˆå¦‚ VS Codeï¼‰è¿ç§»è‡³è¿œç¨‹æœåŠ¡å™¨æˆ–å®¹å™¨ä¸­ä½¿ç”¨ã€‚ç„¶è€Œï¼Œä¸€æ—¦ä½¿ç”¨æ–¹å¼çªç ´â€œæœ¬åœ°æ¡Œé¢â€çš„ä½¿ç”¨å‡è®¾ï¼Œè¿™äº›å·¥å…·çš„â€œè„†å¼±æ€§â€å°±æš´éœ²å‡ºæ¥ã€‚ä¸€ã€é—®é¢˜ç°è±¡åœ¨è¿œç¨‹æœåŠ¡å™¨æˆ–å®¹å™¨ä¸­å¯åŠ¨ VS Codeã€LibreOffice æ—¶ï¼Œå¸¸è§æŠ¥é”™åŒ…æ‹¬ï¼š âŒ EACCES: permission denied, /run/user/10000/...sock âŒ Failed to write user data âŒ æ’ä»¶æ— æ³•åŠ è½½æˆ–è¢«æ¸…ç©º âŒ æ— æ³•ä¿å­˜é…ç½®ã€çª—å£å¸ƒå±€ã€æœ€è¿‘ä½¿ç”¨åˆ—è¡¨ç­‰ä¿¡æ¯ âŒ åœ¨å¤šä¸ªæœºå™¨ä¸ŠåŒæ—¶æ‰“å¼€ VS Code ä¼šäº’ç›¸è¦†ç›–é…ç½®æˆ–å´©æºƒäºŒã€æ ¹å› åˆ†æï¼šå·¥å…·çš„â€œè®¾è®¡å‡è®¾â€ VS â€œå®é™…ä½¿ç”¨ç¯å¢ƒâ€ğŸ¯ è¿™äº›é—®é¢˜å¹¶ä¸æ˜¯ Bugï¼Œè€Œæ˜¯è¿™äº›å·¥å…·è®¾è®¡ä¹‹åˆ â€œåªè€ƒè™‘äº†æœ¬åœ°æ¡Œé¢åœºæ™¯â€ï¼š è®¾è®¡å‡è®¾ åœ¨ HPC/ç ”å‘åœºæ™¯ä¸­çš„ç°å® æ¯ä¸ªç”¨æˆ·æœ‰ç‹¬å çš„ ~/.config å¤šç”¨æˆ·å…±äº« NFS Homeï¼Œé…ç½®å¯èƒ½å¹¶å‘å†™å…¥ æ¯ä¸ªä¼šè¯ç»‘å®š systemd å¯åŠ¨çš„ /run/user/$UID å®¹å™¨/è¿œç¨‹ SSH ç¯å¢ƒä¸­è¯¥ç›®å½•å¯èƒ½ä¸å­˜åœ¨æˆ–æ— æƒé™ æ‰©å±•ã€æ’ä»¶å­˜æ”¾åœ¨ ~/.vscode/extensions ä¸åŒæœºå™¨é—´ä¸å…±äº«æˆ–è¢«å¤šä¸ªå®ä¾‹åŒæ—¶è®¿é—® IPCï¼ˆè¯­è¨€æœåŠ¡å™¨ç­‰ï¼‰é€šè¿‡æœ¬åœ° UNIX socket è·¨ä¸»æœºã€NFS/AFS æŒ‚è½½æ—¶ socket æ— æ³•å·¥ä½œæˆ–å†²çª è¿™äº›æ¶æ„å‡è®¾åœ¨å•æœºæ¡Œé¢ä¸Šè¿è½¬è‰¯å¥½ï¼Œä½†åœ¨èŠ¯ç‰‡è®¾è®¡æˆ– HPC åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬çš„å·¥ä½œæ¨¡å¼æ˜¯ï¼š ğŸ‘¥ å¤šç”¨æˆ·ã€å¤šå®ä¾‹å…±äº«åŒä¸€å¥—å·¥å…·ï¼› ğŸŒ ä½¿ç”¨ NFSã€AFS ç­‰ç½‘ç»œæŒ‚è½½çš„ Home ç›®å½•ï¼› ğŸ§  åœ¨ä¸åŒèŠ‚ç‚¹å¹¶å‘è¿è¡Œ GUI å·¥å…·è°ƒè¯•å¤šä¸ªå·¥ç¨‹ï¼› ğŸ§± å®¹å™¨ä¸­è¿è¡Œ code-serverï¼Œæ— æ³•å¯åŠ¨ systemdï¼› ğŸ”§ ä½¿ç”¨ SLURM/LSF è°ƒåº¦çš„åå°æœºå™¨ä¸Šè°ƒè¯•å›¾å½¢ç•Œé¢ã€‚æ­¤æ—¶ï¼ŒåŸæœ¬éšè—çš„é—®é¢˜å°±è¢«â€œæ”¾å¤§â€äº†å‡ºæ¥ã€‚ä¸‰ã€ç°å®éœ€æ±‚ï¼šæˆ‘ä»¬å¸Œæœ›å·¥å…·â€œåƒ CLI ä¸€æ ·å¯é â€åœ¨èŠ¯ç‰‡ç ”å‘ä¸­ï¼Œä½¿ç”¨è€…å…³å¿ƒçš„æ˜¯ï¼š ğŸ“‚ å·¥ç¨‹ç¯å¢ƒèƒ½è·¨æœºå™¨å¤ç”¨ï¼Œé…ç½®ä¸äº’ç›¸è¦†ç›–ï¼› ğŸ”§ æ’ä»¶å¯æ§ã€å¯éƒ¨ç½²ï¼Œæœ€å¥½èƒ½ç¼“å­˜æˆ–é›†ä¸­ç®¡ç†ï¼› ğŸ§‘â€ğŸ’» åŒä¸€å·¥å…·èƒ½å¼€å¤šä¸ªå·¥ç¨‹å®ä¾‹ï¼ˆå¤šä»»åŠ¡å¹¶å‘è°ƒè¯•ï¼‰ï¼› ğŸš€ ä¸ä¾èµ– systemdã€æ¡Œé¢ç¯å¢ƒã€dbus ç­‰åº•å±‚æœºåˆ¶ï¼› ğŸ“¦ å¯å®¹å™¨åŒ–ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œæ”¯æŒ DevContainerã€code-server ç­‰è¿œç¨‹æ–¹å¼ã€‚é—æ†¾çš„æ˜¯ï¼ŒVS Codeã€LibreOffice ç­‰å·¥å…·çš„æ¶æ„å¹¶æœªä¸ºè¿™äº›éœ€æ±‚è€Œè®¾è®¡ã€‚è¿™ç§â€œä½¿ç”¨è€…éœ€æ±‚â€ä¸â€œå¼€å‘è€…è®¾è®¡â€çš„ç»“æ„æ€§ä¸åŒ¹é…ï¼Œæ˜¯è®¸å¤šä½¿ç”¨ç—›ç‚¹çš„æ ¹æºã€‚å››ã€è§£å†³æ–¹å‘ï¼šç»•è¿‡å‡è®¾ã€æ§åˆ¶çŠ¶æ€é’ˆå¯¹è¿™ç§è®¾è®¡é”™é…ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€äº›å·¥ç¨‹æ€§æ‰‹æ®µè¿›è¡Œâ€œéä¾µå…¥å¼é€‚é…â€ï¼šâœ… é‡å®šå‘æ‰€æœ‰å†™å…¥è·¯å¾„å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šï¼šcode \\ --user-data-dir=$HOME/.vscode-user-data \\ --extensions-dir=$HOME/.vscode-extensionsæˆ–è€…è®¾ç½®ç¯å¢ƒå˜é‡ï¼šexport XDG_RUNTIME_DIR=/tmp/runtime-$USERexport VSCODE_PORTABLE=$HOME/.vscode-portableä¹Ÿå¯å†™æˆwrapperï¼Œå¯¹ç”¨æˆ·é€æ˜ï¼š#!/bin/bashUSER_DIR=\"$HOME/.vscode-user-data\"EXT_DIR=\"$HOME/.vscode-extensions\"XDG_RUNTIME_DIR=\"/tmp/runtime-$USER\"mkdir -p \"$USER_DIR\" \"$EXT_DIR\" \"$XDG_RUNTIME_DIR\"chmod 700 \"$XDG_RUNTIME_DIR\"export XDG_RUNTIME_DIRcode --user-data-dir=\"$USER_DIR\" --extensions-dir=\"$EXT_DIR\" \"$@\" é¿å…è§¦å‘ /run/user/$UID å’Œé»˜è®¤è·¯å¾„çš„å†™å…¥å†²çªã€‚âœ… ä½¿ç”¨ç‹¬ç«‹é…ç½®å‰¯æœ¬éš”ç¦»ä¸åŒå·¥ç¨‹æˆ–èŠ‚ç‚¹åœ¨ä¸åŒæœºå™¨ä¸Šç”¨ä¸åŒè·¯å¾„è¿è¡Œï¼šcode --user-data-dir=~/.vscode-data-node1 --extensions-dir=~/.vscode-ext-node1âœ… åˆ©ç”¨å®¹å™¨æˆ– code-server æ˜¾å¼æ§åˆ¶ç›®å½•docker run \\ -v $HOME/dev:/home/coder/project \\ -v $HOME/.vscode-server:/home/coder/.vscode-server \\ -p 8080:8080 \\ codercom/code-serverâœ… æ ‡å‡†åŒ–éƒ¨ç½²ï¼šå°† GUI å·¥å…·å®¹å™¨åŒ–å°è£…ä¸ºè¿œç¨‹æœåŠ¡é€šè¿‡ devcontainerã€VNCã€XPRAã€WebSocket proxyï¼ˆå¦‚ vscode-webï¼‰æ–¹å¼å°†æ¡Œé¢å·¥å…·â€œæœåŠ¡åŒ–â€ï¼Œé¿å… socketã€ç”¨æˆ·ç©ºé—´è·¯å¾„çš„å†²çªã€‚äº”ã€å±•æœ›ï¼šéœ€è¦â€œè·¨èŠ‚ç‚¹ã€å¹¶å‘ã€å®‰å…¨â€çš„ GUI å·¥å…·æˆ‘ä»¬æœŸå¾…çš„ä¸‹ä¸€ä»£å¼€å‘å·¥å…·åº”å…·å¤‡ï¼š ğŸ§© é…ç½®å¯ç»„åˆï¼ˆConfiguration as Codeï¼‰ï¼› ğŸ“¦ çŠ¶æ€å¯è¿ç§»ï¼ˆçŠ¶æ€è·¯å¾„ã€æ’ä»¶ã€ç¼“å­˜å¯å®šåˆ¶ï¼‰ï¼› ğŸ§µ å¤šå®ä¾‹éš”ç¦»ï¼ˆä¸€ä¸ªå·¥å…·å¤šä¸ªå·¥ç¨‹å¹¶å‘è¿è¡Œï¼‰ï¼› ğŸ§‘â€ğŸ¤â€ğŸ§‘ æ”¯æŒå¤šç”¨æˆ·ç¯å¢ƒï¼ˆå…±äº« HPC é›†ç¾¤èµ„æºï¼‰ï¼› â˜ï¸ æ”¯æŒ remote-first / container-native çš„æ¶æ„ç†å¿µã€‚å†™åœ¨æœ€å VS Codeã€LibreOfficeã€Jupyter ç­‰ç°ä»£å·¥å…·çš„å´›èµ·æå¤§æå‡äº†æ¡Œé¢å¼€å‘æ•ˆç‡ï¼Œä½†å½“å®ƒä»¬è¢«å¸¦å…¥ HPCã€èŠ¯ç‰‡ç ”å‘è¿™æ ·çš„â€œè¿œç¨‹+å…±äº«+é«˜å¹¶å‘â€ç¯å¢ƒæ—¶ï¼Œå¿…é¡»è¦è€ƒè™‘å®ƒä»¬åº•å±‚è®¾è®¡ä¸å®é™…éœ€æ±‚ä¹‹é—´çš„ç¼éš™ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸åªæ˜¯åšä¸€äº›å‚æ•°é…ç½®ï¼Œæ›´æ˜¯è®©æˆ‘ä»¬è®¤è¯†åˆ°ï¼šâ€œä¸ºæ¡Œé¢è€Œç”Ÿâ€çš„å·¥å…·ï¼Œå¹¶ä¸èƒ½å¤©ç„¶èƒœä»»â€œé›†ç¾¤åŒ–å·¥ä½œâ€ã€‚å¦‚æœä½ æ‰€åœ¨å›¢é˜Ÿä¹Ÿé‡åˆ°ç±»ä¼¼å·¥å…·â€œåœ¨é›†ç¾¤ä¸­å¤±æ•ˆâ€çš„æƒ…å†µï¼Œæ¬¢è¿äº¤æµè®¨è®ºã€‚" }, { "title": "é‡ç½®Typoraè¯•ç”¨", "url": "/posts/restore-typora-trial/", "categories": "åšå®¢", "tags": "markdown", "date": "2025-05-05 16:00:00 +0000", "snippet": "æœ€è¿‘å®‰è£…äº† Typora ä½†æ˜¯æ²¡æ¥å¾—åŠè¯•ç”¨å°±åˆ°æœŸäº†ã€‚æƒ³é‡æ–°è¯•ç”¨ä¸‹ã€‚æ‰“å¼€CMDæ‰§è¡Œä»¥ä¸‹å‘½ä»¤cd C:%HOMEPATH%\\AppData\\Roaming\\Typoradel typora.logdel profile.data", "content": "æœ€è¿‘å®‰è£…äº† Typora ä½†æ˜¯æ²¡æ¥å¾—åŠè¯•ç”¨å°±åˆ°æœŸäº†ã€‚æƒ³é‡æ–°è¯•ç”¨ä¸‹ã€‚æ‰“å¼€CMDæ‰§è¡Œä»¥ä¸‹å‘½ä»¤cd C:%HOMEPATH%\\AppData\\Roaming\\Typoradel typora.logdel profile.data" }, { "title": "FLEXLM_DIAGNOSTICS å˜é‡", "url": "/posts/flexlm-diagnostics/", "categories": "icenv", "tags": "lic", "date": "2025-05-05 16:00:00 +0000", "snippet": "FLEXLM_DIAGNOSTICS æ˜¯ç”± Revenera å…¬å¸åœ¨å…¶ FlexNet Publisherï¼ˆåŸå FLEXlmï¼‰è®¸å¯è¯ç®¡ç†ç³»ç»Ÿä¸­å®šä¹‰çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œç”¨äºè¯Šæ–­å’Œè°ƒè¯•è®¸å¯è¯æ£€æŸ¥è¿‡ç¨‹ä¸­çš„é—®é¢˜ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯è®©åº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶è¾“å‡ºæ›´è¯¦ç»†çš„è®¸å¯å¤„ç†æ—¥å¿—ä¿¡æ¯ï¼Œå¸®åŠ©ç”¨æˆ·æˆ–ç³»ç»Ÿç®¡ç†å‘˜å®šä½è®¸å¯å¤±è´¥çš„å…·ä½“åŸå› ã€‚ğŸ“Œ å˜é‡åŠŸèƒ½ç®€è¿°FLEXLM_DIAGNOSTICS ç”¨äºæ§åˆ¶è¯Šæ–­ä¿¡æ¯çš„è¾“å‡ºçº§åˆ«ã€‚å®ƒä¸»...", "content": "FLEXLM_DIAGNOSTICS æ˜¯ç”± Revenera å…¬å¸åœ¨å…¶ FlexNet Publisherï¼ˆåŸå FLEXlmï¼‰è®¸å¯è¯ç®¡ç†ç³»ç»Ÿä¸­å®šä¹‰çš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œç”¨äºè¯Šæ–­å’Œè°ƒè¯•è®¸å¯è¯æ£€æŸ¥è¿‡ç¨‹ä¸­çš„é—®é¢˜ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯è®©åº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶è¾“å‡ºæ›´è¯¦ç»†çš„è®¸å¯å¤„ç†æ—¥å¿—ä¿¡æ¯ï¼Œå¸®åŠ©ç”¨æˆ·æˆ–ç³»ç»Ÿç®¡ç†å‘˜å®šä½è®¸å¯å¤±è´¥çš„å…·ä½“åŸå› ã€‚ğŸ“Œ å˜é‡åŠŸèƒ½ç®€è¿°FLEXLM_DIAGNOSTICS ç”¨äºæ§åˆ¶è¯Šæ–­ä¿¡æ¯çš„è¾“å‡ºçº§åˆ«ã€‚å®ƒä¸»è¦ä¼šå½±å“å¦‚ä¸‹è¡Œä¸ºï¼š åº”ç”¨ç¨‹åºå¯åŠ¨åï¼Œåœ¨æ ‡å‡†è¾“å‡ºæˆ–é”™è¯¯è¾“å‡ºä¸­æ‰“å°è¯¦ç»†çš„è®¸å¯è¯æœç´¢è·¯å¾„ã€æ‰¾åˆ°çš„ license æ–‡ä»¶ã€æœåŠ¡å™¨äº¤äº’è¿‡ç¨‹ç­‰ä¿¡æ¯ï¼› å¸®åŠ©å¼€å‘è€…æˆ–ç®¡ç†å‘˜äº†è§£è®¸å¯è¯æŸ¥æ‰¾è·¯å¾„ã€å¤±è´¥åŸå› ï¼ˆå¦‚ feature ä¸å­˜åœ¨ã€è¿‡æœŸã€æœªå¯ç”¨ç­‰ï¼‰ï¼› é€šå¸¸ä¸ LM_LICENSE_FILE é…åˆä½¿ç”¨ï¼Œå¯å¸®åŠ©è°ƒè¯•è®¸å¯è¯è·¯å¾„æ˜¯å¦è®¾ç½®æ­£ç¡®ã€‚ğŸ§ª å¸¸è§ä½¿ç”¨æ–¹æ³•è®¾ç½®å˜é‡çš„æ–¹å¼è§†æ“ä½œç³»ç»Ÿä»¥åŠshellç±»å‹è€Œå®šï¼šâ–ª Linux / macOS:export FLEXLM_DIAGNOSTICS=3 #for bashsetenv FLEXLM_DIAGNOSTICS 3 #for [t]cshâ–ª Windowsï¼ˆcmd å‘½ä»¤è¡Œï¼‰:set FLEXLM_DIAGNOSTICS=3ğŸ”¢ å¯ç”¨çš„å–å€¼ å€¼ æè¿° 1 è¾“å‡ºåŸºæœ¬çš„è¯Šæ–­ä¿¡æ¯ï¼ˆlicense pathã€server status ç­‰ï¼‰ 2 è¾“å‡ºä¸­ç­‰è¯¦ç»†åº¦çš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬ feature æ£€æŸ¥å¤±è´¥çš„åŸå› ï¼‰ 3 è¾“å‡ºæœ€è¯¦ç»†çš„è¯Šæ–­ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®Œæ•´çš„è®¸å¯è¯æ£€æŸ¥ã€è·¯å¾„ã€æœåŠ¡å™¨äº¤äº’ç»†èŠ‚ å»ºè®®ä»ç­‰çº§ 1 æˆ– 2 å¼€å§‹ï¼Œå¦‚æœé—®é¢˜éš¾ä»¥å®šä½ï¼Œå¯ä»¥è®¾ç½®ä¸º 3ã€‚ğŸ“‹ ç¤ºä¾‹è¾“å‡ºï¼ˆç­‰çº§ 3ï¼‰FLEXnet Licensing error:-5,357 [Detecting lmgrd processes...] [Trying license file: C:\\licenses\\app.lic] [Checking in with license server: 27000@licserver] [Feature 'mytool' not found in license file.]ğŸš¨ æ³¨æ„äº‹é¡¹ ä½¿ç”¨ FLEXLM_DIAGNOSTICS å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼ˆå°¤å…¶åœ¨å¤§å‹ç¨‹åºå¯åŠ¨æ—¶ï¼‰ï¼Œä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒé•¿æœŸå¼€å¯ï¼› æŸäº›å·¥å…·ï¼ˆå¦‚ Cadenceã€Synopsysï¼‰ä¹Ÿæ”¯æŒè¯¥å˜é‡ï¼Œä½†å®é™…æ•ˆæœå–å†³äºå·¥å…·æ˜¯å¦å¯ç”¨äº†è¯¥è°ƒè¯•æ”¯æŒï¼› å¦‚æœæ˜¯è„šæœ¬è°ƒç”¨çš„ç¨‹åºï¼Œæ³¨æ„ redirect æ ‡å‡†è¾“å‡ºåˆ°æ—¥å¿—ä¸­ä¾¿äºæŸ¥çœ‹ã€‚" }, { "title": "ä½¿ç”¨pipä¸‹è½½é€‚ç”¨äºä¸åŒPythonç‰ˆæœ¬çš„pipåŒ…", "url": "/posts/use-pip-to-install-python-packages-across-versions/", "categories": "icenv", "tags": "python", "date": "2025-04-28 16:00:00 +0000", "snippet": "ç»å¸¸æœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œä»¥ä¸€ä¸ªPythonç‰ˆæœ¬ä¸‹è½½pipåŒ…ï¼Œæ”¾åˆ°å¦ä¸€ä¸ªç‰ˆæœ¬çš„Pythoné‡Œå®‰è£…ä½¿ç”¨ã€‚C:\\Users\\ben\\Downloads\\pip-pkgs&gt;python3 --versionPython 3.11.9C:\\Users\\ben\\Downloads\\pip-pkgs&gt;python3 -m pip download --python-version 3.13 -d ....", "content": "ç»å¸¸æœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œä»¥ä¸€ä¸ªPythonç‰ˆæœ¬ä¸‹è½½pipåŒ…ï¼Œæ”¾åˆ°å¦ä¸€ä¸ªç‰ˆæœ¬çš„Pythoné‡Œå®‰è£…ä½¿ç”¨ã€‚C:\\Users\\ben\\Downloads\\pip-pkgs&gt;python3 --versionPython 3.11.9C:\\Users\\ben\\Downloads\\pip-pkgs&gt;python3 -m pip download --python-version 3.13 -d . pyyaml[notice] A new release of pip is available: 25.0.1 -&gt; 25.1[notice] To update, run: C:\\Users\\ben\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe -m pip install --upgrade pipERROR: When restricting platform and interpreter constraints using --python-version, --platform, --abi, or --implementation, either --no-deps must be set, or --only-binary=:all: must be set and --no-binary must not be set (or must be set to :none:).æç¤ºå¦‚æœä½¿ç”¨â€â€“python-versionâ€åˆ™å¿…é¡»è¦æŒ‡æ˜â€â€“no-depsâ€æˆ–â€â€“only-binary=:all:â€ã€‚ç†è§£ä¸€ä¸‹ï¼Œå°±æ˜¯å¦‚æœæŒ‡å®šPythonç‰ˆæœ¬æ—¶ï¼Œåˆ™å®ƒæ— æ³•è§£æä¾èµ–æ ‘ï¼Œè¦ä¹ˆä¸ä¸‹è½½ä¾èµ–ï¼Œè¦ä¹ˆå°†æ‰€æœ‰çš„äºŒè¿›åˆ¶ä¸‹è½½ä¸‹æ¥ã€‚C:\\Users\\ben\\Downloads\\pip-pkgs&gt;python3 -m pip download --python-version 3.13 --no-deps -d . pyyamlCollecting pyyaml Downloading PyYAML-6.0.2-cp313-cp313-win_amd64.whl.metadata (2.1 kB)Downloading PyYAML-6.0.2-cp313-cp313-win_amd64.whl (156 kB)Saved c:\\users\\ben\\downloads\\pip-pkgs\\pyyaml-6.0.2-cp313-cp313-win_amd64.whlSuccessfully downloaded pyyaml[notice] A new release of pip is available: 25.0.1 -&gt; 25.1[notice] To update, run: C:\\Users\\ben\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\python.exe -m pip install --upgrade pip" }, { "title": "How to Configure DNS Forwarding with Microsoft AD DS and Dnsmasq", "url": "/posts/dns-forwarding-microsoft-ad-ds-dnsmasq/", "categories": "icenv", "tags": "dns", "date": "2025-04-28 16:00:00 +0000", "snippet": "é—®é¢˜åœ¨èŠ¯ç‰‡ç ”å‘ç¯å¢ƒï¼Œ æœ‰äº›EDA toolsä¼šåå°å‘é€ä½¿ç”¨æ•°æ®è‡³å…¶å…¬å¸åå°ï¼Œç»™å…¬å¸å¸¦æ¥ä¿¡æ¯å®‰å…¨é£é™©ï¼ˆå®‰å…¨ï¼‰ã€‚ EDA toolsåœ¨ä½¿ç”¨æ—¶è®¿é—®ä¸€ä¸ªæ— æ³•é€šä¿¡çš„åœ°å€æ—¶ï¼Œä¼šç­‰å¾…ï¼Œå¯¼è‡´å·¥å…·æ€§èƒ½ä½ä¸‹ï¼ˆæ€§èƒ½ï¼‰ã€‚åˆ†æå®‰å…¨æ–¹é¢ï¼Œä¸šç•Œçš„åšæ³•æ˜¯é˜²ç«å¢™éš”ç¦»ã€‚å½“ä¸å¯é¿å…åœ°éœ€è¦åœ¨ä¸Šç½‘ç¯å¢ƒä½¿ç”¨æ—¶ï¼Œåˆ™å¯ä»¥é’ˆå¯¹å…¶å…¬å¸çš„äºŒçº§åŸŸååŠå…¶å­åŸŸåï¼Œå…¨éƒ¨åŠ«æŒè§£æåˆ°ä¸€ä¸ªä¸èƒ½è®¿é—®çš„åœ°å€ï¼Œä»¥æ­¤é™ä½é£é™©ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼Œç©·ä¸¾å…¶ç”¨åˆ°çš„ï¼ˆäºŒçº§ã€ä¸‰...", "content": "é—®é¢˜åœ¨èŠ¯ç‰‡ç ”å‘ç¯å¢ƒï¼Œ æœ‰äº›EDA toolsä¼šåå°å‘é€ä½¿ç”¨æ•°æ®è‡³å…¶å…¬å¸åå°ï¼Œç»™å…¬å¸å¸¦æ¥ä¿¡æ¯å®‰å…¨é£é™©ï¼ˆå®‰å…¨ï¼‰ã€‚ EDA toolsåœ¨ä½¿ç”¨æ—¶è®¿é—®ä¸€ä¸ªæ— æ³•é€šä¿¡çš„åœ°å€æ—¶ï¼Œä¼šç­‰å¾…ï¼Œå¯¼è‡´å·¥å…·æ€§èƒ½ä½ä¸‹ï¼ˆæ€§èƒ½ï¼‰ã€‚åˆ†æå®‰å…¨æ–¹é¢ï¼Œä¸šç•Œçš„åšæ³•æ˜¯é˜²ç«å¢™éš”ç¦»ã€‚å½“ä¸å¯é¿å…åœ°éœ€è¦åœ¨ä¸Šç½‘ç¯å¢ƒä½¿ç”¨æ—¶ï¼Œåˆ™å¯ä»¥é’ˆå¯¹å…¶å…¬å¸çš„äºŒçº§åŸŸååŠå…¶å­åŸŸåï¼Œå…¨éƒ¨åŠ«æŒè§£æåˆ°ä¸€ä¸ªä¸èƒ½è®¿é—®çš„åœ°å€ï¼Œä»¥æ­¤é™ä½é£é™©ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼Œç©·ä¸¾å…¶ç”¨åˆ°çš„ï¼ˆäºŒçº§ã€ä¸‰çº§ï¼‰åŸŸåå¹¶åœ¨DNSæœåŠ¡å™¨åŠ ä¸ŠAè®°å½•ï¼Œä½†è¿™æ ·çš„åšæ³•æ˜¯ä¸å®Œå–„çš„ï¼š ä¸€æ–¹é¢æ— æ³•ä¿è¯ç©·ä¸¾æ˜¯å¦å®Œå…¨ï¼› å¦ä¸€æ–¹é¢ï¼ŒEDA tool vendorä¹Ÿå¯èƒ½ä¼šåœ¨æ–°ç‰ˆæœ¬æ›´æ–°å­åŸŸåå¯¼è‡´å·²æ·»åŠ çš„DNS Aè®°å½•æœªè¦†ç›–åˆ°ã€‚æ€§èƒ½æ–¹é¢ï¼Œéœ€è¦ç¡®ä¿è®¿é—®æ— æ³•é€šä¿¡çš„åœ°å€èƒ½ç«‹å³æ‹’ç»ï¼Œæå‡å·¥å…·æ€§èƒ½ã€‚å› æ­¤éœ€è¦ä¸€ä¸ªèƒ½è‡ªé€‚åº”ï¼Œæˆ–è€…è¦†ç›–å®Œå…¨çš„è§£å†³æ–¹æ¡ˆã€‚æ¶æ„è¿™é‡Œè®¾è®¡ä¸€ä¸ªæ¶æ„ï¼Œèƒ½å¤Ÿè¦†ç›–synopsys.comåŠå…¶å­åŸŸåçš„æ‰€æœ‰åŸŸåè§£æã€‚+-----------------------+ +------------------------+| | | || å®¢æˆ·ç«¯ (Client) | è¯·æ±‚: synopsys.com | Microsoft AD DNS || +-------------------------&gt;| Server || | | |+-----------------------+ +------------------------+ | | | | | è½¬å‘æŸ¥è¯¢ | | v | +------------------------+ | | | Forwarder é…ç½® | | synopsys.com -&gt; | | dnsmasq Server | | | +------------------------+ | | è¯·æ±‚è§£æ v +------------------------++-----------------------+ | || | | dnsmasq Server || å®¢æˆ·ç«¯ (Client) | è¿”å›: 127.0.0.1 | è§£æ synopsys.com å’Œ || |&lt;------------------------ | *.synopsys.com -&gt; |+-----------------------+ | 127.0.0.1 | +------------------------+" }, { "title": "Automated Cell and Library Renaming with Instance Master Updates in Cadence Virtuoso", "url": "/posts/automated-cell-and-library-renaming-with-instance-master-updates-in-cadence-virtuoso/", "categories": "icenv", "tags": "analog", "date": "2025-04-22 16:00:00 +0000", "snippet": "IntroductionIn large-scale analog/digital IC design projects, design reuse and project forking are common practices. These often require renaming of entire libraries and cell hierarchies to conform...", "content": "IntroductionIn large-scale analog/digital IC design projects, design reuse and project forking are common practices. These often require renaming of entire libraries and cell hierarchies to conform to new naming conventions (e.g., transitioning from Hi5800V100 to Hi5800V200). Manual renaming of cells and libraries, along with updating all hierarchical instance references, is a tedious and error-prone task. To address this, we have developed a robust SKILL-based automation script: CCSRenameAndUpdate.il.ObjectiveThe primary goal of this script is to: Batch rename cells using a specified prefix change. Rename entire libraries while preserving their internal structure. Recursively update all instance master references within layout, symbol, and schematic views.By automating this process, we ensure consistency, reduce manual intervention, and accelerate design preparation for derivative projects.Implementation OverviewThe script is implemented in three major steps, encapsulated in a top-level procedure: CCSRenameCellsAndInstancesByPrefix.Source code,;;--------------------------------------------------------------------;; File : CCSRenameAndUpdate.il;; Purpose : ä½¿ç”¨å®˜æ–¹ API é‡å‘½åå‰ç¼€ + æ›´æ–° instance masterï¼ˆlayout/symbol/schematicï¼‰;; Author : wanlin.wang;; Updated : 2025/04/22;;-------------------------------------------------------------------- ;; === Step 1: ä½¿ç”¨ ccpRename é‡å‘½å Cell ===procedure(renameCellPrefixByCCP(libList origPrefix newPrefix) let( (oldName newName srcSpec destSpec) foreach(libName libList foreach(cell ddGetObj(libName)-&gt;cells oldName = cell~&gt;name when(rexMatchp(strcat(\"^\" origPrefix) oldName) newName = rexReplace(oldName newPrefix 0) printf(\"Renaming cell: %s/%s -&gt; %s\\n\" libName oldName newName) srcSpec = gdmCreateSpec(libName oldName \"\" \"\" \"CDBA\") destSpec = gdmCreateSpec(libName newName \"\" \"\" \"CDBA\") let((dummySpecList) dummySpecList = gdmCreateSpecList() ccpRename( srcSpec destSpec t 'CCP_EXPAND_ALL 'CCP_UPDATE_COPIED_DATA dummySpecList ) ) ) ) ) )) ;; === Step 2: é‡å‘½å Libraryprocedure(CCSRenameLibsByPrefix(libList origPrefix newPrefix) let((oldLibName newLibName src dst dummySpecList) foreach(oldLibName libList when(stringp(oldLibName) &amp;&amp; rexMatchp(strcat(\"^\" origPrefix) oldLibName) newLibName = rexReplace(oldLibName newPrefix 0) printf(\"Renaming library: %s -&gt; %s\\n\" oldLibName newLibName) srcSpec = gdmCreateSpec(oldLibName nil nil nil \"CDBA\") dstSpec = gdmCreateSpec(newLibName nil nil nil \"CDBA\") dummySpecList = gdmCreateSpecList() ccpRename( srcSpec dstSpec t ;; allow overwrite 'CCP_EXPAND_ALL 'CCP_UPDATE_COPIED_DATA ;; do not update references dummySpecList ) ) ) t )) ;; === Step 3: éå†æ¯ä¸ª cellViewï¼Œæ›´æ–°å®ä¾‹çš„ master ===procedure(updateInstanceMasterReference(libList origPrefix newPrefix) let( (lib cell cellView cv inst master oldMasterName newMasterName oldLibName newLibName newMasterCv renamedLibList) ;; åˆ›å»ºé‡å‘½ååçš„åº“åˆ—è¡¨ renamedLibList = list() ;; åˆå§‹åŒ–ç©ºåˆ—è¡¨ foreach(lib libList when(stringp(lib) &amp;&amp; rexMatchp(strcat(\"^\" origPrefix) lib) newLibName = rexReplace(lib newPrefix 0) ;; æ›¿æ¢åº“å renamedLibList = cons(newLibName renamedLibList) ;; å°†æ›¿æ¢åçš„åº“åæ·»åŠ åˆ°æ–°çš„åˆ—è¡¨ä¸­ printf(\"Library renamed: %s -&gt; %s\\n\" lib newLibName) ;; æ–°å¢æ—¥å¿—æ‰“å° ) ) ;; éå†æ¯ä¸ªæ–°çš„åº“å foreach(lib renamedLibList printf(\"Processing library: %s\\n\" lib) ;; æ—¥å¿—æ‰“å°åº“ foreach(cell ddGetObj(lib)-&gt;cells printf(\" Processing cell: %s\\n\" cell~&gt;name) ;; æ—¥å¿—æ‰“å° cell foreach(cellView cell~&gt;views printf(\" Processing cellView: %s\\n\" cellView~&gt;name) ;; æ—¥å¿—æ‰“å° cellView when(member(cellView~&gt;name '(\"layout\" \"symbol\" \"schematic\")) cv = dbOpenCellViewByType(lib cell~&gt;name cellView~&gt;name \"\" \"a\") when(cv foreach(instHeader cv~&gt;instHeaders when(instHeader~&gt;cellName printf(\" Processing instance's master cellName: %s\\n\" instHeader~&gt;cellName) ;; æ—¥å¿—æ‰“å°å®ä¾‹ oldMasterName = instHeader~&gt;cellName oldLibName = instHeader~&gt;libName ;; æ‰“å° oldLibName å’Œ oldMasterNameï¼Œå¸®åŠ©è°ƒè¯• printf(\" oldLibName: %s, oldMasterName: %s\\n\" oldLibName oldMasterName) ;; å¦‚æœåº“ååŒ¹é…å‰ç¼€ï¼Œåˆ™ç»§ç»­æ›´æ–° cell å when(stringp(oldLibName) &amp;&amp; rexMatchp(strcat(\"^\" origPrefix) oldLibName) newLibName = rexReplace(oldLibName newPrefix 0) ;; å¦‚æœ master ååŒ¹é…å‰ç¼€ï¼Œåˆ™æ›¿æ¢ master åï¼Œå¦åˆ™ä¿æŒåŸå newMasterName = oldMasterName when(stringp(oldMasterName) &amp;&amp; rexMatchp(strcat(\"^\" origPrefix) oldMasterName) newMasterName = rexReplace(oldMasterName newPrefix 0) ) printf(\"Updating instance in %s/%s/%s: %s/%s -&gt; %s/%s\\n\" lib cell~&gt;name cellView~&gt;name oldLibName oldMasterName newLibName newMasterName) ;; é€šè¿‡dbSetInstHeaderMasterNameæ¥æ›¿æ¢å®ä¾‹çš„master dbSetInstHeaderMasterName(instHeader newLibName newMasterName nil) ) ) ) dbSave(cv) dbClose(cv) ) ) ) ) ) )) ;; === é¡¶å±‚å‡½æ•° ===procedure(CCSRenameCellsAndInstancesByPrefix(libList origPrefix newPrefix) printf(\"&gt;&gt;&gt; Step 1: Rename Cells by Prefix...\\n\") renameCellPrefixByCCP(libList origPrefix newPrefix) printf(\"&gt;&gt;&gt; Step 2: Rename Libraries by Prefix...\\n\") CCSRenameLibsByPrefix(libList origPrefix newPrefix) printf(\"&gt;&gt;&gt; Step 3: Update Instance Master References...\\n\") updateInstanceMasterReference(libList origPrefix newPrefix) printf(\"&gt;&gt;&gt; All Done.\\n\"))Step 1: Rename Cells by PrefixProcedure: renameCellPrefixByCCP Iterates through all cells in the specified libraries. Detects cells with a given prefix using regular expressions. Renames matched cells to a new prefix using the official ccpRename API. Ensures that all data, including schematic/layout content, is copied and expanded (CCP_EXPAND_ALL and CCP_UPDATE_COPIED_DATA).ccpRename( srcSpec destSpec t 'CCP_EXPAND_ALL 'CCP_UPDATE_COPIED_DATA dummySpecList)Step 2: Rename Libraries by PrefixProcedure: CCSRenameLibsByPrefix Operates on library names matching the specified prefix. Reconstructs a new name and uses ccpRename to duplicate and rename the entire library. Maintains internal cell structure but does not update references at this stage.Step 3: Update Instance Master ReferencesProcedure: updateInstanceMasterReference Opens each relevant layout, symbol, and schematic view in the renamed libraries. Iterates through instance headers to identify references to old libraries or cell names. If both the library and cell names match the original prefix, it updates the instanceâ€™s master path using dbSetInstHeaderMasterName.dbSetInstHeaderMasterName(instHeader newLibName newMasterName nil) Saves and closes each modified cellView after updates.Top-Level InvocationProcedure: CCSRenameCellsAndInstancesByPrefix Accepts a list of target libraries, original prefix, and desired new prefix. Sequentially calls the three core steps to complete the transformation.Example usage:CCSRenameCellsAndInstancesByPrefix( (list \"Hi5800V100_PLL\" \"Hi5800V100_TX\") \"Hi5800V100\" \"Hi5800V200\")ConclusionThe CCSRenameAndUpdate.il script provides a comprehensive, automated solution for prefix-based renaming across cells, libraries, and instance references. It significantly simplifies the process of adapting legacy designs to new project naming conventions, improving both design integrity and engineer productivity.This solution is particularly useful in IP reuse workflows, project fork management, and hierarchical tapeout preparations in Cadence Virtuoso environments.For integration, simply load the script into CIW, and invoke the top-level procedure with appropriate parameters." }, { "title": "æ ¹æ®æ–‡ä»¶ä¸­æŒ‡å®šçš„æ˜ å°„å…³ç³»æ‰¹é‡é‡å‘½åå¤šä¸ªåº“ï¼Œå¹¶æ›´æ–°ï¼ˆåŒ…æ‹¬æ–°åº“åç§°åœ¨å†…çš„ï¼‰åº“åˆ—è¡¨ä¸‹cell viewçš„å¼•ç”¨å…³ç³»", "url": "/posts/rename-library-and-update-reference/", "categories": "icenv", "tags": "analog", "date": "2025-04-20 16:00:00 +0000", "snippet": "è„šæœ¬è¯´æ˜æˆ‘å¸Œæœ›èƒ½å¤Ÿä¸€æ¬¡æ€§é‡å‘½åå¤šä¸ªåº“ã€‚è¿™äº›åº“çš„æ—§åç§°ä¸æ–°åç§°ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ ¼å¼å¦‚ä¸‹ï¼šoldlib1 newlib1oldlib2 newlib2oldlib3 newlib3åŒæ—¶ï¼Œæˆ‘è¿˜å¸Œæœ›æ›´æ–°å…¶ä»–å¼•ç”¨äº†è¿™äº›åº“ä¸­ cell çš„åº“ï¼Œä½¿å®ƒä»¬æŒ‡å‘æ–°çš„åº“åã€‚æˆ‘ä¼šå°†éœ€è¦æ›´æ–°å¼•ç”¨çš„åº“åç§°å†™åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸€è¡Œåˆ—å‡ºæ‰€æœ‰åº“åï¼Œä¾‹å¦‚ï¼šSAMPLE MAJOR MINOR FINAL FORWARDé‚£ä¹ˆï¼Œå¦‚ä½•...", "content": "è„šæœ¬è¯´æ˜æˆ‘å¸Œæœ›èƒ½å¤Ÿä¸€æ¬¡æ€§é‡å‘½åå¤šä¸ªåº“ã€‚è¿™äº›åº“çš„æ—§åç§°ä¸æ–°åç§°ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ ¼å¼å¦‚ä¸‹ï¼šoldlib1 newlib1oldlib2 newlib2oldlib3 newlib3åŒæ—¶ï¼Œæˆ‘è¿˜å¸Œæœ›æ›´æ–°å…¶ä»–å¼•ç”¨äº†è¿™äº›åº“ä¸­ cell çš„åº“ï¼Œä½¿å®ƒä»¬æŒ‡å‘æ–°çš„åº“åã€‚æˆ‘ä¼šå°†éœ€è¦æ›´æ–°å¼•ç”¨çš„åº“åç§°å†™åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸€è¡Œåˆ—å‡ºæ‰€æœ‰åº“åï¼Œä¾‹å¦‚ï¼šSAMPLE MAJOR MINOR FINAL FORWARDé‚£ä¹ˆï¼Œå¦‚ä½•å®ç°è¿™äº›åº“çš„é‡å‘½åå’Œå¼•ç”¨æ›´æ–°å‘¢ï¼Ÿç”¨æ³•è¯´æ˜ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢æä¾›çš„ SKILL è„šæœ¬æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚è¯·å°†ä»¥ä¸‹ SKILL ä»£ç å¤åˆ¶ä¿å­˜ä¸ºæ–‡ä»¶ CCSren_libs.ilï¼Œè¯¥ä»£ç ä¹Ÿä½œä¸ºè§£å†³æ–¹æ¡ˆçš„é™„ä»¶æä¾›ã€‚åœ¨ CIW ä¸­åŠ è½½è„šæœ¬ï¼šload \"CCSren_libs.il\"åˆ›å»ºåº“é‡å‘½åæ˜ å°„æ–‡ä»¶ï¼Œå‡è®¾æ–‡ä»¶åä¸º oldLibToNewLibMapFileï¼Œæ ¼å¼å¦‚ä¸‹ï¼šoldlib1 newlib1 oldlib2 newlib2 oldlib3 newlib3åˆ›å»ºå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨æ¥æŒ‡å®šå“ªäº›åº“éœ€è¦æ›´æ–°å¼•ç”¨ã€‚å‡è®¾æ–‡ä»¶åä¸º LibsToUpdateï¼Œå†…å®¹æ ¼å¼å¦‚ä¸‹ï¼šSAMPLE MAJOR MINOR FINAL FORWARDç„¶åï¼Œåœ¨ CIW ä¸­è°ƒç”¨ä»¥ä¸‹å‘½ä»¤ï¼šCCSren_libs(\"oldLibToNewLibMapFile\" \"LibsToUpdate\")è¿™å°†ä¼šå®Œæˆåº“çš„é‡å‘½åï¼Œå¹¶åœ¨ç›®æ ‡åº“ä¸­æ›´æ–°å¼•ç”¨å…³ç³»ã€‚è„šæœ¬ä»£ç ;-----------------------x Copy from here x-------------------/************************************************************************** DISCLAIMER: The following code is provided for Cadence customers ** to use at their own risk. The code may require modification to ** satisfy the requirements of any user. The code and any modifications ** to the code may not be compatible with current or future versions of ** Cadence products. THE CODE IS PROVIDED \"AS IS\" AND WITH NO WARRANTIES, ** INCLUDING WITHOUT LIMITATION ANY EXPRESS WARRANTIES OR IMPLIED ** WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE. **************************************************************************/procedure(CCSren_libs(oldToNewLibFile libsToUpdateFile) let((src dst newName libList1 libSpecList ip str spec ip1 libList)\t ;; Read the name of libraries to be updated after rename ip1=infile(libsToUpdateFile) gets(str ip1) libList=parseString(str \" \\n\")\t ;; Read the set of old and new lib name and form a list of list with oldlib newlib pair ip=infile(oldToNewLibFile) libList1=list() while(gets(str ip)\tstr=parseString(str \" \\n\")\tlibList1=cons(str libList1) ) ;while ;; Operate on each pair of oldlib-newlib one by one\tforeach(lib libList1\t\tnewName=cadr(lib)\t\tsrc=gdmCreateSpec(car(lib) nil nil nil \"CDBA\")\t\tdst=gdmCreateSpec(newName nil nil nil \"CDBA\")\t\t\t\t;; replace the old lib name to new lib name in master library list\t\tlibList=subst(newName car(lib) libList)\t\t;; Cover the scenario of oldlib not in list, add newlib anyways\t\tunless(member(newName libList) libList=cons(newName libList))\t\t\t\t;; Create specList for libs to be updated\t\tlibSpecList=gdmCreateSpecList()\t\t\t\tforeach(lib1 libList\t\t\tspec=gdmCreateSpec(lib1 \"\" \"\" \"\" \"CDBA\")\t\t\tgdmAddSpecToSpecList(spec libSpecList)\t\t) ;foreach\t\tccpRename(src dst t 'CCP_EXPAND_COMANAGED 'CCP_UPDATE_FROM_LIBLIST libSpecList)\t) ; foreach oldToNewLibFile libList1 t ) ; let) ; procedure" }, { "title": "Rename CellName and Update Reference", "url": "/posts/rename-cellname-and-update-references/", "categories": "icenv", "tags": "analog", "date": "2025-04-20 16:00:00 +0000", "snippet": "Skillä»£ç ;;--------------------------------------------------------------------;; Function: CCSRenameCellAndUpdateReference;; Purpose : åœ¨å¤šåº“ä¸­æ‰¹é‡é‡å‘½å cell å‰ç¼€ï¼Œå¹¶æ›´æ–°å®ä¾‹å¼•ç”¨;; Usage ï¼šåœ¨ CIW load è¿™ä¸ªè„šæœ¬ï¼Œç„¶åè¿è¡Œ CCSRe...", "content": "Skillä»£ç ;;--------------------------------------------------------------------;; Function: CCSRenameCellAndUpdateReference;; Purpose : åœ¨å¤šåº“ä¸­æ‰¹é‡é‡å‘½å cell å‰ç¼€ï¼Œå¹¶æ›´æ–°å®ä¾‹å¼•ç”¨;; Usage ï¼šåœ¨ CIW load è¿™ä¸ªè„šæœ¬ï¼Œç„¶åè¿è¡Œ CCSRenameCellAndUpdateReference è¿™ä¸ª procedure;; Args : libList - list of library names to process;; origPrefix - the prefix to replace (string);; newPrefix - the new prefix (string);; Example : CCSRenameCellAndUpdateReference(;; (list \"libA\" \"libB\");; \"OLD_\";; \"NEW_\";; T;; );; Author : wanlin.wang;; Date : 2025/04/21;;--------------------------------------------------------------------procedure( CCSRenameCellAndUpdateReference( libList origPrefix newPrefix @optional (overwrite nil)) let( ( srcSpec destSpec newCellName ovrFlag libSpecList) if(overwrite then ovrFlag = `TRUE ; If overwrite is selected else ovrFlag = `FALSE ) ; if ;; æ„å»ºgdm spec listï¼ˆfor libListï¼‰ ;; 1. åˆ›å»ºç©ºçš„ specList libSpecList = gdmCreateSpecList() ;; 2. éå†åº“ååˆ—è¡¨ï¼Œç”Ÿæˆå¹¶æ·»åŠ  spec foreach(libName libList let((libSpec) libSpec = gdmCreateSpec(libName \"\" \"\" \"\" \"CDBA\") gdmAddSpecToSpecList(libSpec libSpecList) ) ) ;; éå†æ‰€æœ‰æŒ‡å®šçš„ library foreach(libName libList ;; è·å–è¯¥ library ä¸‹æ‰€æœ‰ cell åç§° foreach(cell ddGetObj(libName)-&gt;cells rexCompile(sprintf(nil \"^%s\" origPrefix)) if(rexExecute(cell~&gt;name) then newCellName = rexReplace(cell~&gt;name newPrefix 0) ;; æ„é€ æºå’Œç›®æ ‡çš„ GDM spec srcSpec = gdmCreateSpec( libName cell~&gt;name \"\" \"\" \"CDBA\" ) destSpec = gdmCreateSpec( libName newCellName \"\" \"\" \"CDBA\" ) ;; è°ƒç”¨ ccpRenameï¼šå±•å¼€æ‰€æœ‰å±‚æ¬¡ï¼Œä» libSpecList ä¸­æ›´æ–°å¼•ç”¨ ccpRename( srcSpec destSpec ovrFlag `CCP_EXPAND_ALL `CCP_UPDATE_FROM_LIBLIST libSpecList ) );; end if ) ;; foreach cell ) ;; foreach libName ) ;; let) ;; procedure" }, { "title": "Why ANSYS does not utilize GPU for rendering when I use it over RDP?", "url": "/posts/question-why-ansys-does-not-utilize-gpu-for-rendering-when-i-use-it-over-rdp/", "categories": "icenv", "tags": "gpu", "date": "2025-04-16 16:00:00 +0000", "snippet": "å½“ä½ é€šè¿‡ RDPï¼ˆè¿œç¨‹æ¡Œé¢åè®®ï¼‰ä½¿ç”¨ ANSYS æ—¶ï¼Œå¯èƒ½ä¼šå‘ç°å®ƒå¹¶æ²¡æœ‰åˆ©ç”¨ GPU è¿›è¡Œå›¾å½¢æ¸²æŸ“ï¼Œå¯¼è‡´å›¾å½¢æ€§èƒ½å˜å·®ã€‚è¿™æ˜¯å› ä¸º Windows é»˜è®¤åœ¨ RDP ä¼šè¯ä¸­ä¸ä¼šå¯ç”¨ GPU æ¸²æŸ“ã€‚ğŸ›  è§£å†³æ–¹æ³•ï¼šå¯ç”¨ RDP ä¼šè¯çš„ GPU åŠ é€Ÿè¦è®© ANSYS åœ¨è¿œç¨‹æ¡Œé¢ä¸­ä¹Ÿèƒ½ä½¿ç”¨ GPUï¼Œéœ€è¦åœ¨è¿œç¨‹ä¸»æœºä¸Šä¿®æ”¹ç»„ç­–ç•¥ï¼šæ­¥éª¤å¦‚ä¸‹ï¼š æ‰“å¼€æœ¬åœ°ç»„ç­–ç•¥ç¼–è¾‘å™¨ æŒ‰ä¸‹ Win + ...", "content": "å½“ä½ é€šè¿‡ RDPï¼ˆè¿œç¨‹æ¡Œé¢åè®®ï¼‰ä½¿ç”¨ ANSYS æ—¶ï¼Œå¯èƒ½ä¼šå‘ç°å®ƒå¹¶æ²¡æœ‰åˆ©ç”¨ GPU è¿›è¡Œå›¾å½¢æ¸²æŸ“ï¼Œå¯¼è‡´å›¾å½¢æ€§èƒ½å˜å·®ã€‚è¿™æ˜¯å› ä¸º Windows é»˜è®¤åœ¨ RDP ä¼šè¯ä¸­ä¸ä¼šå¯ç”¨ GPU æ¸²æŸ“ã€‚ğŸ›  è§£å†³æ–¹æ³•ï¼šå¯ç”¨ RDP ä¼šè¯çš„ GPU åŠ é€Ÿè¦è®© ANSYS åœ¨è¿œç¨‹æ¡Œé¢ä¸­ä¹Ÿèƒ½ä½¿ç”¨ GPUï¼Œéœ€è¦åœ¨è¿œç¨‹ä¸»æœºä¸Šä¿®æ”¹ç»„ç­–ç•¥ï¼šæ­¥éª¤å¦‚ä¸‹ï¼š æ‰“å¼€æœ¬åœ°ç»„ç­–ç•¥ç¼–è¾‘å™¨ æŒ‰ä¸‹ Win + Rï¼Œè¾“å…¥ gpedit.mscï¼Œç„¶åå›è½¦ã€‚ å¯¼èˆªåˆ°ä»¥ä¸‹è·¯å¾„ï¼š è®¡ç®—æœºé…ç½® â†’ç®¡ç†æ¨¡æ¿ â†’Windows ç»„ä»¶ â†’è¿œç¨‹æ¡Œé¢æœåŠ¡ â†’è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº â†’è¿œç¨‹ä¼šè¯ç¯å¢ƒ æ‰¾åˆ°å¹¶å¯ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š â€œä¸ºæ‰€æœ‰è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯ä½¿ç”¨ç¡¬ä»¶å›¾å½¢é€‚é…å™¨â€ å¯ç”¨ç­–ç•¥åï¼Œé‡å¯è¿œç¨‹ä¸»æœº or è¿è¡Œgpupdate /forceç”Ÿæ•ˆã€‚ âš  æ³¨æ„äº‹é¡¹ï¼š æŸäº› Windows ç‰ˆæœ¬ï¼ˆå¦‚ Windows 10 LTSBï¼‰å¯èƒ½æ²¡æœ‰æ­¤ç­–ç•¥é¡¹ã€‚ å¯ç”¨è¯¥è®¾ç½®åï¼Œåœ¨è¿œç¨‹è¿æ¥ä¸‹ï¼ŒANSYS çš„å›¾å½¢æ€§èƒ½ä¼šæ˜æ˜¾æå‡ï¼Œå› ä¸ºå®ƒå°†å¼€å§‹ä½¿ç”¨æ˜¾å¡ï¼ˆGPUï¼‰åŠ é€Ÿæ¸²æŸ“ã€‚å¦‚éœ€ç¡®è®¤æ˜¯å¦ç”Ÿæ•ˆï¼Œå¯é€šè¿‡ä»»åŠ¡ç®¡ç†å™¨ â†’ æ€§èƒ½ â†’ GPU è§‚å¯Ÿè¿œç¨‹ä¼šè¯æœŸé—´ GPU æ˜¯å¦æœ‰è´Ÿè½½ã€‚When using ANSYS over Remote Desktop Protocol (RDP), you may notice that the GPU is not utilized for rendering. This behavior occurs because, by default, Windows 10 does not enable GPU rendering over RDP sessions. As a result, graphical performance can be significantly degraded during remote sessions.Solution: Enable GPU Rendering for RDPTo allow ANSYS to utilize the GPU during RDP sessions, you need to modify the Group Policy settings on the remote (host) machine:îˆ† Open the Local Group Policy Editor: Press Win + R, type gpedit.msc, and press Enter.îˆ† Navigate to the following path: Computer Configuration â†’ Administrative Templates â†’ Windows Components â†’ Remote Desktop Services â†’ Remote Desktop Session Host â†’ Remote Session Environmentîˆ† Locate and enable the policy named: â€œUse hardware graphics adapters for all Remote Desktop Services sessionsâ€îˆ† After enabling the policy, restart the remote machine to apply the changes.îˆ† Note: This policy setting may not be available on certain editions of Windows 10, such as the Long-Term Servicing Branch (LTSB) îˆ€citeîˆ‚turn0search0îˆ.îˆ†By enabling this setting, you should observe improved graphical performance in ANSYS during RDP sessions, as the GPU will be utilized for rendering tasks.îˆ†" }, { "title": "SmartTotem GUI", "url": "/posts/smarttotem-gui/", "categories": "icenv", "tags": "emir", "date": "2025-04-13 16:00:00 +0000", "snippet": "å¯åŠ¨å›¾å½¢é…ç½®ç•Œé¢é€‰æ‹©å·¥è‰ºã€é¡¹ç›®ä»¥åŠFlowå¡«å†™å¹¶ç”Ÿæˆuser.configç®¡ç†stateï¼Œå¦‚æœæ˜¯ç®¡ç†å‘˜è¿˜å¯ä»¥ç®¡ç†ADMIN_DBé…ç½®add_option.configç”Ÿæˆrunç›®å½•æ”¯æŒä¿¡æ¯", "content": "å¯åŠ¨å›¾å½¢é…ç½®ç•Œé¢é€‰æ‹©å·¥è‰ºã€é¡¹ç›®ä»¥åŠFlowå¡«å†™å¹¶ç”Ÿæˆuser.configç®¡ç†stateï¼Œå¦‚æœæ˜¯ç®¡ç†å‘˜è¿˜å¯ä»¥ç®¡ç†ADMIN_DBé…ç½®add_option.configç”Ÿæˆrunç›®å½•æ”¯æŒä¿¡æ¯" }, { "title": "IBM LSF RTM backups", "url": "/posts/ibm-lsf-rtm-backups/", "categories": "icenv", "tags": "lsf, rtm", "date": "2025-04-12 16:00:00 +0000", "snippet": "è¯¦ç»†çš„å¤‡ä»½æ­¥éª¤å’Œæ–¹æ¡ˆï¼š1. æ—¥å¸¸å¤‡ä»½RTM ä¼šåœ¨æ¯å¤©çš„ 00:00 è‡ªåŠ¨è¿›è¡Œé»˜è®¤çš„è®¾ç½®å’Œé…ç½®å¤‡ä»½ï¼Œå¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨ RTM_TOP/cacti/backup/cacti_db_backup_xx.tgz ä¸­ã€‚éœ€è¦æ³¨æ„ï¼Œè¿™æ˜¯è®¾ç½®ä¸é…ç½®çš„æ•°æ®åº“å¤‡ä»½ï¼Œä¸æ˜¯RTMå®Œæ•´å¤‡ä»½ã€‚2. å¤‡ä»½æ•°æ®åˆ†åŒºé€šè¿‡å¯ç”¨åˆ†åŒºåŠŸèƒ½ï¼Œå¯ä»¥æœ€å°åŒ–ç¾éš¾æ¢å¤æ—¶çš„æ•°æ®ä¸¢å¤±ã€‚åˆ†åŒºå¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨ RTM_TOP/backup/partit...", "content": "è¯¦ç»†çš„å¤‡ä»½æ­¥éª¤å’Œæ–¹æ¡ˆï¼š1. æ—¥å¸¸å¤‡ä»½RTM ä¼šåœ¨æ¯å¤©çš„ 00:00 è‡ªåŠ¨è¿›è¡Œé»˜è®¤çš„è®¾ç½®å’Œé…ç½®å¤‡ä»½ï¼Œå¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨ RTM_TOP/cacti/backup/cacti_db_backup_xx.tgz ä¸­ã€‚éœ€è¦æ³¨æ„ï¼Œè¿™æ˜¯è®¾ç½®ä¸é…ç½®çš„æ•°æ®åº“å¤‡ä»½ï¼Œä¸æ˜¯RTMå®Œæ•´å¤‡ä»½ã€‚2. å¤‡ä»½æ•°æ®åˆ†åŒºé€šè¿‡å¯ç”¨åˆ†åŒºåŠŸèƒ½ï¼Œå¯ä»¥æœ€å°åŒ–ç¾éš¾æ¢å¤æ—¶çš„æ•°æ®ä¸¢å¤±ã€‚åˆ†åŒºå¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨ RTM_TOP/backup/partition_backups/*.tgzï¼Œéœ€å®šæœŸå¤‡ä»½ã€‚åˆ†åŒºè®¾å®šåœ¨ Console &gt; Configuration &gt; RTM Settings &gt; Maint &gt; Large System Settingsã€‚3. é‡è¦ç›®å½•çš„å¤‡ä»½ä»¥ä¸‹æ˜¯å…³é”®ç›®å½•åŠå…¶å¤‡ä»½å»ºè®®ï¼š RTM_TOP/advocate - æ¯æ—¥å¤‡ä»½ RTM_TOP/cacti - æ¯æ—¥å¤‡ä»½ RTM_TOP/flexlm - æ¯æ—¥å¤‡ä»½ RTM_TOP/ioncube - æ¯æ—¥å¤‡ä»½ RTM_TOP/rlmï¼ˆå¦‚æœä½¿ç”¨ Reprise License Managerï¼‰ - æ¯æ—¥å¤‡ä»½ RTM_TOP/rtm - æ¯æ—¥å¤‡ä»½ RTMP_TOP/spine - æ¯æ—¥å¤‡ä»½ RTM_TOP/cacti/rra - æ¯å°æ—¶ä½¿ç”¨ rsync æˆ–åŒç±»å·¥å…·å¤‡ä»½4. Cacti æ•°æ®åº“å¤‡ä»½ä½¿ç”¨ mysqldump å‘½ä»¤å®šæœŸå¤‡ä»½ MariaDB æ•°æ®åº“å†…å®¹ï¼ˆæ¨èæ¯æ—¥å¤‡ä»½ï¼‰ï¼šmysqldump --lock-tables=FALSE cacti &gt; /somewhere/somefilename.sqlå¦‚æœä½¿ç”¨tableåˆ†åŒºï¼Œmysqldumpæ—¶è¯·æ’é™¤è¿™äº›tableï¼Œå¹¶é¢å¤–å•ç‹¬å¤‡ä»½tableåˆ†åŒºæ–‡ä»¶ã€‚5. è‡ªå®šä¹‰æ–‡ä»¶çš„å¤‡ä»½å¦‚æœæœ‰è‡ªå®šä¹‰æ–‡ä»¶ï¼Œä»¥ä¸‹ç›®å½•éœ€è¦æ¯æ—¥å¤‡ä»½ï¼š RTM_TOP/cacti/plugins RTM_TOP/cacti/scripts RTM_TOP/cacti/resource6. å…¶ä»–é…ç½®æ–‡ä»¶å¤‡ä»½å»ºè®®æ¯æ—¥å¤‡ä»½ä»¥ä¸‹æ–‡ä»¶å’Œè·¯å¾„ï¼ˆå…·ä½“è·¯å¾„ä¾æ®æ“ä½œç³»ç»Ÿç‰ˆæœ¬è€Œå®šï¼‰ï¼š /etc/php.ini /etc/php.d/* /etc/my.cnf /etc/my.cnf.d/* /etc/cron.d/cacti /etc/rsyslog.conf /etc/rsyslog.d/*ä»¥ä¸Šæ˜¯åŸºäº IBM LSF RTM å®˜æ–¹çš„å¤‡ä»½æ–¹æ¡ˆï¼Œå¯ä»¥ç¡®ä¿ç³»ç»Ÿå’Œæ•°æ®çš„é«˜å¯ç”¨æ€§ä¸ç¾éš¾æ¢å¤èƒ½åŠ›ã€‚" }, { "title": "Enable Marmaid support", "url": "/posts/enable-marmaid-support/", "categories": "icenv", "tags": "", "date": "2025-04-12 16:00:00 +0000", "snippet": "æ‰“å¼€æµç¨‹å›¾çš„æ”¯æŒï¼Œæ›´æ–¹ä¾¿å±•ç¤ºæµç¨‹å…³ç³»ã€‚ä»¥ä¸‹æ˜¯æµç¨‹å›¾æ ·ä¾‹ï¼šgraph TD; A--&gt;B; A--&gt;C; B--&gt;D; C--&gt;D;", "content": "æ‰“å¼€æµç¨‹å›¾çš„æ”¯æŒï¼Œæ›´æ–¹ä¾¿å±•ç¤ºæµç¨‹å…³ç³»ã€‚ä»¥ä¸‹æ˜¯æµç¨‹å›¾æ ·ä¾‹ï¼šgraph TD; A--&gt;B; A--&gt;C; B--&gt;D; C--&gt;D;" }, { "title": "Discuz å®¹å™¨åŒ–éƒ¨ç½²", "url": "/posts/disuz-deployment/", "categories": "icenv", "tags": "forum", "date": "2025-04-12 16:00:00 +0000", "snippet": "ğŸ›  ç¯å¢ƒå‡†å¤‡ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Docker å’Œ Docker Composeã€‚ä»¥RockyLinux 8.10ä¸ºä¾‹ï¼Œ# å®‰è£… Podman &amp; Podman-Composednf install -y podman podman-composeğŸ“ ç›®å½•ç»“æ„æœ¬ä¾‹å­ä»¥ ~/discuz ä½œä¸ºå·¥ä½œç›®å½•ã€‚åœ¨å·¥ä½œç›®å½•ä¸‹åˆ›å»º html å’Œ mysql ä¸¤ä¸ªå­ç›®å½•ï¼šmkdir -p ~/discuz...", "content": "ğŸ›  ç¯å¢ƒå‡†å¤‡ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Docker å’Œ Docker Composeã€‚ä»¥RockyLinux 8.10ä¸ºä¾‹ï¼Œ# å®‰è£… Podman &amp; Podman-Composednf install -y podman podman-composeğŸ“ ç›®å½•ç»“æ„æœ¬ä¾‹å­ä»¥ ~/discuz ä½œä¸ºå·¥ä½œç›®å½•ã€‚åœ¨å·¥ä½œç›®å½•ä¸‹åˆ›å»º html å’Œ mysql ä¸¤ä¸ªå­ç›®å½•ï¼šmkdir -p ~/discuz/html ~/discuz/mysqlä» https://www.discuz.vip/download ä¸‹è½½çš„ Discuz_X3.5_SC_UTF8_20250205.zip ï¼Œè§£å‹åå¤åˆ¶ upload ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ° html ç›®å½•ï¼šunzip Discuz_X3.5_SC_UTF8_20250205.zipcp -r upload/* ~/discuz/html/ğŸ³ Dockerfile é…ç½®åœ¨ html ç›®å½•ä¸‹åˆ›å»º Dockerfileï¼Œå†…å®¹å¦‚ä¸‹ï¼š# ä½¿ç”¨å®˜æ–¹ PHP é•œåƒä½œä¸ºåŸºç¡€é•œåƒFROM php:8.2-apache# å®‰è£… PHP æ‰©å±•å’Œä¾èµ–RUN apt-get update &amp;&amp; apt-get install -y \\ libpng-dev \\ libjpeg-dev \\ libfreetype6-dev \\ &amp;&amp; docker-php-ext-configure gd --with-freetype --with-jpeg \\ &amp;&amp; docker-php-ext-install gd mysqli \\ &amp;&amp; a2enmod rewrite# è®¾ç½®æ–‡æ¡£æ ¹ç›®å½•COPY . /var/www/html# è®¾ç½®å·¥ä½œç›®å½•WORKDIR /var/www/htmlğŸ“¦ Docker Compose é…ç½®åœ¨å·¥ä½œç›®å½•ä¸‹åˆ›å»º docker-compose.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼šversion: '3'services: web: build: ./html container_name: discuz_web ports: - \"8080:80\" volumes: - ./html:/var/www/html depends_on: - mysql mysql: image: mysql:8.0 container_name: discuz_mysql environment: - MYSQL_ROOT_PASSWORD=root - MYSQL_DATABASE=ultrax - MYSQL_USER=discuz - MYSQL_PASSWORD=discuz volumes: - ./mysql:/var/lib/mysql healthcheck: test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\", \"-u\", \"discuz\", \"-pdiscuz\"] interval: 5s timeout: 5s retries: 5ğŸš€ å¯åŠ¨æœåŠ¡åœ¨å·¥ä½œç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼šcd ~/discuzdocker-compose up -dæ­¤å‘½ä»¤ä¼šå¯åŠ¨ Discuz! çš„ Web æœåŠ¡å’Œ MySQL æ•°æ®åº“æœåŠ¡ã€‚ğŸŒ è®¿é—®å®‰è£…ç•Œé¢åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://:8080/installï¼Œå³å¯è¿›å…¥ Discuz! çš„å®‰è£…ç•Œé¢ã€‚ğŸ“ å®‰è£…æ­¥éª¤ é˜…è¯»å¹¶åŒæ„æˆæƒåè®®ï¼šç‚¹å‡»â€œæˆ‘åŒæ„â€ç»§ç»­ã€‚ ç¯å¢ƒæ£€æµ‹ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æŸ¥ç¯å¢ƒé…ç½®ï¼Œç¡®ä¿æ»¡è¶³å®‰è£…è¦æ±‚ã€‚ é€‰æ‹©å®‰è£…ç±»å‹ï¼šé€‰æ‹©â€œå…¨æ–°å®‰è£… Discuz! X3.5ï¼ˆå« UCenter Serverï¼‰â€ã€‚ é…ç½®æ•°æ®åº“ä¿¡æ¯ï¼š æ•°æ®åº“æœåŠ¡å™¨åœ°å€ï¼šmysql æ•°æ®åº“åï¼šultrax æ•°æ®åº“ç”¨æˆ·åï¼šroot æ•°æ®åº“å¯†ç ï¼šroot è®¾ç½®ç®¡ç†å‘˜è´¦å·ï¼šå¡«å†™ç®¡ç†å‘˜ç”¨æˆ·åå’Œå¯†ç ã€‚ å¼€å§‹å®‰è£…ï¼šç‚¹å‡»â€œå®‰è£…â€æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å®Œæˆå®‰è£…è¿‡ç¨‹ã€‚ å®Œæˆå®‰è£…ï¼šå®‰è£…å®Œæˆåï¼Œç³»ç»Ÿä¼šæç¤ºå®‰è£…æˆåŠŸã€‚ éƒ¨åˆ†æˆªå›¾å¦‚ä¸‹ï¼šâœ… å®‰è£…å®Œæˆå®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡ http://:8080 è®¿é—®æ‚¨çš„ Discuz! è®ºå›ã€‚ğŸ” å®‰å…¨å»ºè®® åˆ é™¤å®‰è£…ç›®å½•ï¼šå®‰è£…å®Œæˆåï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®åˆ é™¤ install ç›®å½•ã€‚ è®¾ç½®æ–‡ä»¶æƒé™ï¼šç¡®ä¿è®ºå›ç›®å½•çš„æƒé™è®¾ç½®æ­£ç¡®ï¼Œé¿å…å‡ºç°æƒé™é—®é¢˜ã€‚ å®šæœŸå¤‡ä»½ï¼šå®šæœŸå¤‡ä»½æ•°æ®åº“å’Œè®ºå›æ–‡ä»¶ï¼Œä»¥é˜²æ•°æ®ä¸¢å¤±ã€‚å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€ã€‚" }, { "title": "RTMè°ƒä¼˜", "url": "/posts/administering-rtm-advanced-configuration-and-performance-tuning/", "categories": "icenv", "tags": "rtm", "date": "2025-04-12 16:00:00 +0000", "snippet": "ç®¡ç† RTM - é«˜çº§é…ç½®å’Œæ€§èƒ½è°ƒä¼˜æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† IBM Spectrum LSF RTM (RTM) çš„é«˜çº§é…ç½®é€‰é¡¹å’Œæ€§èƒ½è°ƒä¼˜æŠ€æœ¯ï¼Œæ—¨åœ¨å¸®åŠ©ç®¡ç†å‘˜æ›´å¥½åœ°ç›‘æ§é›†ç¾¤å¹¶ä¼˜åŒ– RTM æ€§èƒ½ã€‚æ§åˆ¶ LSF é›†ç¾¤RTM æä¾›äº†æ§åˆ¶ LSF é›†ç¾¤ã€ä¸»æœºã€é˜Ÿåˆ—å’Œä½œä¸šçš„åŠŸèƒ½ï¼Œå‰ææ˜¯æ‚¨å·²å¯ç”¨ RTM å¯¹ LSF é›†ç¾¤çš„æ§åˆ¶æƒé™ã€‚RTM é€šè¿‡åœ¨ LSF ç®¡ç†ä¸»æœºä¸Šå¯åŠ¨ LSF å‘½ä»¤æ¥å®ç°å¯¹é›†ç¾¤çš„æ§åˆ¶ã€‚å¯æ§åˆ¶çš„...", "content": "ç®¡ç† RTM - é«˜çº§é…ç½®å’Œæ€§èƒ½è°ƒä¼˜æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† IBM Spectrum LSF RTM (RTM) çš„é«˜çº§é…ç½®é€‰é¡¹å’Œæ€§èƒ½è°ƒä¼˜æŠ€æœ¯ï¼Œæ—¨åœ¨å¸®åŠ©ç®¡ç†å‘˜æ›´å¥½åœ°ç›‘æ§é›†ç¾¤å¹¶ä¼˜åŒ– RTM æ€§èƒ½ã€‚æ§åˆ¶ LSF é›†ç¾¤RTM æä¾›äº†æ§åˆ¶ LSF é›†ç¾¤ã€ä¸»æœºã€é˜Ÿåˆ—å’Œä½œä¸šçš„åŠŸèƒ½ï¼Œå‰ææ˜¯æ‚¨å·²å¯ç”¨ RTM å¯¹ LSF é›†ç¾¤çš„æ§åˆ¶æƒé™ã€‚RTM é€šè¿‡åœ¨ LSF ç®¡ç†ä¸»æœºä¸Šå¯åŠ¨ LSF å‘½ä»¤æ¥å®ç°å¯¹é›†ç¾¤çš„æ§åˆ¶ã€‚å¯æ§åˆ¶çš„ç»„ä»¶å’Œæ“ä½œï¼š é›†ç¾¤çº§ç»„ä»¶ï¼š mbatchd (ç®¡ç†æ‰¹å¤„ç†å®ˆæŠ¤è¿›ç¨‹): å¯åŠ¨ã€é‡å¯æˆ–å…³é—­ã€‚ LIM (è´Ÿè½½ä¿¡æ¯ç®¡ç†å™¨): å¯åŠ¨ã€é‡å¯æˆ–å…³é—­ã€‚ RES (èµ„æºæ‰§è¡ŒæœåŠ¡å™¨): å¯åŠ¨ã€é‡å¯æˆ–å…³é—­ã€‚ è¿è¡Œ badmin reconfig: åŠ¨æ€é‡æ–°é…ç½® LSFã€‚ è¿è¡Œ lsadmin reconfig: é‡å¯é›†ç¾¤ä¸­æ‰€æœ‰ä¸»æœºä¸Šçš„ LIMã€‚ ä¸»æœºï¼š æ‰“å¼€æˆ–å…³é—­ LSF é›†ç¾¤ä¸­çš„ä¸»æœºã€‚ é˜Ÿåˆ—ï¼š æ‰“å¼€é˜Ÿåˆ— å…³é—­é˜Ÿåˆ— æ¿€æ´»é˜Ÿåˆ— å–æ¶ˆæ¿€æ´»é˜Ÿåˆ— å°†æ‰€æœ‰ä½œä¸šä»ä¸€ä¸ªé˜Ÿåˆ—åˆ‡æ¢åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ— ä½œä¸šï¼š btop: å°†æŒ‚èµ·ä½œä¸šç›¸å¯¹äºé˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä½œä¸šç§»åŠ¨ã€‚ bbot: å°†æŒ‚èµ·ä½œä¸šç›¸å¯¹äºé˜Ÿåˆ—ä¸­çš„æœ€åä¸€ä¸ªä½œä¸šç§»åŠ¨ã€‚ bswitch: å°†æœªå®Œæˆçš„ä½œä¸šä»ä¸€ä¸ªé˜Ÿåˆ—åˆ‡æ¢åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ã€‚ bresume: æ¢å¤æŒ‚èµ·çš„ä½œä¸šã€‚ brun: å¼ºåˆ¶ä½œä¸šç«‹å³è¿è¡Œã€‚ bstop: æŒ‚èµ·æœªå®Œæˆçš„ä½œä¸šã€‚ bkill: å‘é€ä¿¡å·ä»¥ç»ˆæ­¢æœªå®Œæˆçš„ä½œä¸šã€‚ å¼ºåˆ¶ç»ˆæ­¢ (Force kill): ä½¿ç”¨ bkill -r å‘½ä»¤å¼ºåˆ¶ç»ˆæ­¢ä½œä¸šã€‚ ä¿¡å·ç»ˆæ­¢ (Signal kill): ä½¿ç”¨ bkill -s å‘½ä»¤å‘é€ç‰¹å®šä¿¡å·ä»¥ç»ˆæ­¢ä½œä¸šã€‚ åœ¨ LSF é›†ç¾¤ä¸Šè¿è¡Œ Grid æ§åˆ¶å‘½ä»¤å¯ä»¥é€šè¿‡ RTM æ§åˆ¶å°åœ¨ LSF é›†ç¾¤ä¸Šè¿è¡Œ LSF å‘½ä»¤ã€‚å‰ææ¡ä»¶ï¼š å¿…é¡»å·²åœ¨ LSF é›†ç¾¤ä¸Šå¯ç”¨äº† Grid æ§åˆ¶ã€‚æ­¥éª¤ï¼š åœ¨ RTM æ§åˆ¶å°ä¸­ï¼Œç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Grid Management éƒ¨åˆ†ï¼Œç‚¹å‡» Clustersã€‚ ç‚¹å‡»æ‚¨æƒ³è¦é…ç½®çš„é›†ç¾¤çš„ Cluster Name é“¾æ¥ã€‚ é…ç½®é›†ç¾¤è®¾ç½®ã€‚å¦‚æœ Grid æ§åˆ¶éœ€è¦æ›´å¤šä¿¡æ¯ï¼Œè¯·åœ¨æ˜¾ç¤ºçš„å­—æ®µä¸­æŒ‡å®šè¯¦ç»†ä¿¡æ¯ã€‚ ç‚¹å‡» Saveã€‚ç»“æœï¼š å¯ä»¥åœ¨â€œæŸ¥çœ‹ LSF é›†ç¾¤å’Œä½œä¸šä¿¡æ¯â€éƒ¨åˆ†æŸ¥çœ‹é›†ç¾¤çš„çŠ¶æ€ã€‚å¼ºåˆ¶æ‰§è¡Œé›†ç¾¤æ“ä½œæ§åˆ¶æ³¨é‡ŠRTM å¯ä»¥ä¸ºä»¥ä¸‹æ“ä½œå¼ºåˆ¶è¦æ±‚è¾“å…¥æ³¨é‡Šï¼š æŒ‰ä¸»æœº (By Host) æŒ‰é˜Ÿåˆ— (By Queue) é›†ç¾¤ (Cluster)æ‚¨å¿…é¡»è®¾ç½® Mandatory Cluster Action Control Comments é€‰é¡¹ï¼Œä»¥å…è®¸æ‚¨çš„ Grid ç®¡ç†å‘˜åœ¨æäº¤ä¸»æœºã€é˜Ÿåˆ—æˆ–é›†ç¾¤çš„æ§åˆ¶æ“ä½œï¼ˆå¦‚å¯åŠ¨/é‡å¯/å…³é—­ã€æ‰“å¼€/å…³é—­ï¼‰ä¹‹å‰è¾“å…¥æ³¨é‡Šã€‚è®¾ç½®å¼ºåˆ¶é›†ç¾¤æ“ä½œæ§åˆ¶æ³¨é‡Šæ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Configuration éƒ¨åˆ†ï¼Œç‚¹å‡» Grid Settingsã€‚ ç‚¹å‡» General æ ‡ç­¾é¡µã€‚ åœ¨ Cluster Control Settings ä¸‹ï¼Œé€‰ä¸­ Mandatory Cluster Action Control Comments å¤é€‰æ¡†ã€‚ ç‚¹å‡» Saveã€‚å¯¹ä¸»æœºã€é˜Ÿåˆ—æˆ–é›†ç¾¤çš„é›†ç¾¤æ“ä½œæ§åˆ¶æ·»åŠ æ³¨é‡Šæ­¥éª¤ï¼š ç‚¹å‡» Grid æ ‡ç­¾é¡µã€‚ åœ¨ Job Info éƒ¨åˆ†ï¼Œç‚¹å‡» By Host, By Queue, æˆ– By Clusterã€‚ é€‰ä¸­æ‚¨æƒ³è¦æ‰§è¡Œæ“ä½œçš„ä¸€ä¸ªæˆ–å¤šä¸ªä¸»æœºåå¯¹åº”çš„å¤é€‰æ¡†ã€‚ ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªæ“ä½œã€‚ ç‚¹å‡» Goã€‚å°†æ˜¾ç¤ºä¸€ä¸ªç¡®è®¤å¯¹è¯æ¡†ã€‚ åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥æ‚¨çš„æ³¨é‡Šã€‚å¦‚æœè®¾ç½®äº†å¼ºåˆ¶é›†ç¾¤æ“ä½œæ³¨é‡Šï¼Œæ‚¨å¿…é¡»è¾“å…¥æ³¨é‡Šæ‰èƒ½ç»§ç»­æäº¤ã€‚ ç‚¹å‡» Yesã€‚ä¸ºé›†ç¾¤é…ç½®ç©ºé—²ä½œä¸šæ£€æµ‹å…³äºæ­¤ä»»åŠ¡ï¼š ç©ºé—²ä½œä¸šæ˜¯æŒ‰é›†ç¾¤åœ¨ Cluster Edit é¡µé¢ä¸Šé…ç½®çš„ï¼Œå¹¶éå…¨å±€é…ç½®ã€‚ å¯ä»¥æ’é™¤ç‰¹å®šé˜Ÿåˆ—ï¼ˆä¾‹å¦‚ï¼Œæäº¤åˆ°äº¤äº’å¼é˜Ÿåˆ—çš„ä½œä¸šï¼‰ä¸å‚ä¸ç©ºé—²ä½œä¸šè®¡ç®—ã€‚ æ³¨æ„ï¼š å…¨æ–°å®‰è£… RTM 10.2 åï¼Œä»»ä½•å…ˆå‰çš„ç©ºé—²ä½œä¸šè®¾ç½®éƒ½å°†å¤±æ•ˆï¼Œæ‚¨å¿…é¡»é‡æ–°é…ç½®å®ƒä»¬ã€‚æ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Grid Management éƒ¨åˆ†ï¼Œç‚¹å‡» Clustersã€‚ ç‚¹å‡»æ‚¨æƒ³è¦è®¾ç½®ç©ºé—²ä½œä¸šæ£€æµ‹çš„é›†ç¾¤çš„ Cluster Nameã€‚ å¦‚æœæ‚¨æƒ³åœ¨é›†ç¾¤ä¸­æœç´¢ç©ºé—²ä½œä¸šï¼Œè¯·é€‰ä¸­ Enable Idle Job Detection å¤é€‰æ¡†ã€‚ æ‚¨å¯ä»¥é€‰æ‹©ä¸ºä»¥ä¸‹å­—æ®µè®¾ç½®å€¼ï¼š Email Notification Type (é‚®ä»¶é€šçŸ¥ç±»å‹) Minimum Runtime (æœ€å°è¿è¡Œæ—¶é—´) Floating Window (æµ®åŠ¨çª—å£) CPU Time Threshold (CPU æ—¶é—´é˜ˆå€¼) Include Job Types (åŒ…å«çš„ä½œä¸šç±»å‹) Job Commands (ä½œä¸šå‘½ä»¤) Idle Jobs Exclude Queues (ç©ºé—²ä½œä¸šæ’é™¤é˜Ÿåˆ—) ç‚¹å‡» Saveã€‚é…ç½®ç©ºé—²ä½œä¸šæ£€æµ‹ (Grid è®¾ç½®)æ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Configuration éƒ¨åˆ†ï¼Œç‚¹å‡» Grid Settingsï¼Œç„¶åè½¬åˆ° Idle jobs æ ‡ç­¾é¡µã€‚ è®¾ç½® Idle Job Detection å­—æ®µçš„å€¼ï¼š Filter Name (è¿‡æ»¤å™¨åç§°): æä¾›è¿‡æ»¤å™¨åç§°ä»¥æ˜¾ç¤ºå›¾ä¾‹å’Œä½œä¸šå¼‚å¸¸ã€‚ Email Subject (é‚®ä»¶ä¸»é¢˜): ä½¿ç”¨æ›¿æ¢æ ‡ç­¾ &lt;JOBID&gt;, &lt;INDEXID&gt;, &lt;SUBMITTIME&gt;, &lt;CLUSTERNAME&gt;, &lt;USER&gt;, å’Œ &lt;CPUSECS&gt; å®šä¹‰ç©ºé—²ä½œä¸šé‚®ä»¶ä¸»é¢˜ã€‚ Email Message (é‚®ä»¶å†…å®¹): ä½¿ç”¨æ›¿æ¢æ ‡ç­¾ &lt;JOBID&gt;, &lt;SUBMITTIME&gt;, &lt;CLUSTERNAME&gt;, &lt;USER&gt;, å’Œ &lt;CPUSECS&gt; å®šä¹‰é‚®ä»¶å†…å®¹ã€‚ Legend Background Color (å›¾ä¾‹èƒŒæ™¯é¢œè‰²): å®šä¹‰å›¾ä¾‹ã€‚å¦‚æœé¢œè‰²è®¾ç½®ä¸º Noneï¼Œåˆ™ç¦ç”¨æ­¤åŠŸèƒ½ã€‚ ç‚¹å‡» Saveã€‚é…ç½®å†…å­˜è¿è§„æ£€æµ‹å…³äºæ­¤ä»»åŠ¡ï¼š æ‚¨å¯ä»¥é…ç½®ä½œä¸šçš„å†…å­˜è®¾ç½®ï¼Œä»¥å¸®åŠ©æ‚¨ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µå¹¶çµæ´»æ§åˆ¶ä½œä¸šã€‚æ­¥éª¤ï¼š è½¬åˆ° Console &gt; Configuration &gt; RTM Settingsã€‚ è½¬åˆ° Memory Exceptions æ ‡ç­¾é¡µã€‚ è®¾ç½® Memory RUSAGE Violations å­—æ®µçš„å€¼ï¼š Enable Memory RUSAGE Job Detection: æœç´¢å†…å­˜è¿è§„ä½œä¸šã€‚ Email Summary Reports: æ¥æ”¶é‚®ä»¶æ‘˜è¦æŠ¥å‘Šé€šçŸ¥çš„å¸æˆ·ã€‚ Email Schedule: æ¥æ”¶é‚®ä»¶çš„é€šçŸ¥é¢‘ç‡ã€‚é‚®ä»¶åœ¨æ•°æ®åº“ç»´æŠ¤æœŸé—´æ¯å‘¨æ—¥å‘é€ã€‚ Memory Overusage Filter Name: åœ¨ä½œä¸šè¯¦æƒ…å›¾ä¾‹ä¸­æ˜¾ç¤ºçš„å†…å­˜è¿‡åº¦ä½¿ç”¨è¿‡æ»¤å™¨åç§°ã€‚ Memory Overusage Allocation: åœ¨æ ‡è®°ä½œä¸šä¹‹å‰ï¼Œå¯æ¥å—çš„é«˜äº RUSAGE çº§åˆ«çš„å†…å­˜ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚ Memory Overusage Background Color: å›¾ä¾‹é¢œè‰²ã€‚å¦‚æœé¢œè‰²è®¾ç½®ä¸º Noneï¼Œåˆ™ç¦ç”¨æ­¤åŠŸèƒ½ã€‚ Memory Underusage Filter Name: åœ¨å›¾ä¾‹å’Œä½œä¸šå¼‚å¸¸è¿‡æ»¤å™¨æ˜¾ç¤ºä¸­æ˜¾ç¤ºçš„å†…å­˜ä½¿ç”¨ä¸è¶³è¿‡æ»¤å™¨åç§°ã€‚ Memory Underusage Allocation: åœ¨æ ‡è®°ä½œä¸šä¹‹å‰ï¼Œå¯æ¥å—çš„ä½äº RUSAGE çº§åˆ«çš„å†…å­˜ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚ Memory Underusage Background Color: å›¾ä¾‹å’Œè¡Œæ˜¾ç¤ºçš„é¢œè‰²ã€‚å¦‚æœé¢œè‰²è®¾ç½®ä¸º Noneï¼Œåˆ™ç¦ç”¨æ­¤åŠŸèƒ½ã€‚ Minimum Run Window: æœ€å°è¿è¡Œæ—¶é—´ã€‚ Minimum Memory Limit: ä½œä¸šçš„æœ€å°å†…å­˜é™åˆ¶ã€‚ Email Subject: ä½¿ç”¨æ›¿æ¢æ ‡ç­¾ &lt;OVERFILTER&gt;/&lt;UNDERFILTER&gt; å’Œ &lt;CLUSTERNAME&gt; å®šä¹‰ã€‚ Email Message: ä½¿ç”¨æ›¿æ¢æ ‡ç­¾ &lt;CLUSTERNAME&gt;, &lt;OVERFILTER&gt;, &lt;OVERSHOOT&gt;, &lt;UNDERFILTER&gt;, &lt;UNDERSHOOT&gt;, å’Œ &lt;REPORTTABLE&gt; å®šä¹‰ã€‚ ç‚¹å‡» Saveã€‚æ·»åŠ æˆ–ç¼–è¾‘ RTM ç›‘æ§çš„ LSF é›†ç¾¤è¦æ·»åŠ æˆ–ç¼–è¾‘ RTM ç›‘æ§çš„ LSF é›†ç¾¤ï¼Œéœ€è¦æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š æ·»åŠ æˆ–ç¼–è¾‘é›†ç¾¤ã€‚ å°† RTM ä¸»æœºä½œä¸º LSF å®¢æˆ·ç«¯æ·»åŠ åˆ° LSF é›†ç¾¤ã€‚æ·»åŠ æˆ–ç¼–è¾‘é›†ç¾¤å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»»ä¸€æ–¹æ³•æ·»åŠ æˆ–ç¼–è¾‘æ‚¨å¸Œæœ› RTM ç›‘æ§çš„ä»»ä½• LSF é›†ç¾¤ï¼š ä½¿ç”¨ RTM æ§åˆ¶å°æ·»åŠ æˆ–ç¼–è¾‘é›†ç¾¤ ä½¿ç”¨è„šæœ¬å°†é›†ç¾¤æ·»åŠ åˆ° RTMä½¿ç”¨ RTM æ§åˆ¶å°æ·»åŠ æˆ–ç¼–è¾‘é›†ç¾¤æ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Grid Management éƒ¨åˆ†ï¼Œç‚¹å‡» Clustersã€‚ é€‰æ‹©æ·»åŠ æˆ–ç¼–è¾‘é›†ç¾¤ï¼š è¦æ·»åŠ  LSF é›†ç¾¤ï¼Œç‚¹å‡» Addã€‚ è¦ç¼–è¾‘ç°æœ‰ LSF é›†ç¾¤ï¼Œç‚¹å‡»æ‚¨æƒ³è¦ç¼–è¾‘çš„é›†ç¾¤çš„åç§°ã€‚ æŒ‡å®šï¼ˆæˆ–æ›´æ–°ï¼‰æè¿°æ‚¨çš„ LSF é›†ç¾¤æ‰€éœ€çš„å­—æ®µã€‚è‡³å°‘éœ€è¦æŒ‡å®šä»¥ä¸‹å­—æ®µæ¥æ·»åŠ  LSF é›†ç¾¤ï¼šCluster Name, LSF Master LIM Hostname, LSF Master LIM Port, Grid Poller, å’Œ Primary LSF Administrator Usernameã€‚ å®‰è£…ä½ç½®æ³¨æ„äº‹é¡¹ï¼š ç›‘æ§å¤šä¸ªç‹¬ç«‹é›†ç¾¤ï¼š ä¸ºè·å¾—æœ€ä½³æ€§èƒ½ï¼Œè¯·å°† RTM å®‰è£…åœ¨ LSF å®¢æˆ·ç«¯ä¸»æœºä¸Šã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ‰“ç®—ç›‘æ§å¤šä¸ªç‹¬ç«‹é›†ç¾¤å¹¶ä¸”æ‚¨çš„ RTM ä¸»æœºå……å½“ LSF æœåŠ¡å™¨ï¼Œè¯·ç¡®ä¿é›†ç¾¤ä½¿ç”¨ä¸åŒçš„ LIM ç«¯å£ã€‚ ç›‘æ§ LSF å¤šé›†ç¾¤æˆå‘˜ï¼š å½“ç›‘æ§ LSF å¤šé›†ç¾¤ç¯å¢ƒä¸­çš„ä¸¤ä¸ªæˆ–å¤šä¸ªæˆå‘˜æ—¶ï¼Œå¿…é¡»å°† RTM å®‰è£…åœ¨å¤šé›†ç¾¤å†…ä»»ä½•æˆå‘˜çš„ LSF å®¢æˆ·ç«¯ä¸»æœºä¸Šã€‚ å¯¹äº Grid Poller å­—æ®µï¼Œé€‰æ‹©é€‚åˆæ‚¨çš„ LSF é›†ç¾¤ç‰ˆæœ¬çš„è½®è¯¢å™¨ã€‚æ­¤ç‰ˆæœ¬å…è®¸é€‰æ‹© Poller for LSF 8ã€‚ ç‚¹å‡» Create (æˆ– Save) æ¥ä¿å­˜æ‚¨çš„ LSF é›†ç¾¤è®¾ç½®ã€‚åç»­æ“ä½œï¼š å¦‚æœæ‚¨ç¼–è¾‘äº†å·²åœ¨ RTM æ§åˆ¶å°ä¸­çš„ LSF é›†ç¾¤ï¼Œåˆ™æ— éœ€æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ å¦‚æœæ‚¨å‘ RTM æ§åˆ¶å°æ·»åŠ äº† LSF é›†ç¾¤ï¼Œåˆ™å¿…é¡»æŒ‰ç…§â€œå°† RTM ä¸»æœºä½œä¸º LSF å®¢æˆ·ç«¯æ·»åŠ åˆ° LSF é›†ç¾¤â€ä¸­çš„è¯´æ˜å°† RTM ä¸»æœºæ·»åŠ åˆ° LSF é›†ç¾¤ã€‚ä½¿ç”¨è„šæœ¬å°†é›†ç¾¤æ·»åŠ åˆ° RTMå…³äºæ­¤ä»»åŠ¡ï¼š ä½¿ç”¨ grid_add_cluster.php è„šæœ¬å°† LSF é›†ç¾¤æ·»åŠ åˆ° RTMã€‚æ­¥éª¤ï¼š ä»å‘½ä»¤è¡Œè½¬åˆ° Cacti å®‰è£…ç›®å½•çš„ plugins/grid å­ç›®å½•ã€‚ ä½¿ç”¨ php è¿è¡Œ grid_add_cluster.php è„šæœ¬ï¼š php -q grid_add_cluster.php --type=0 --pollerid=lsf_type --cluster_name=cluster_name_text --cluster_env=lsf_envdir_path å…¶ä¸­ï¼š lsf_type: ä»£è¡¨é›†ç¾¤ä¸­è¿è¡Œçš„ LSF ç‰ˆæœ¬çš„æ•´æ•° Poller IDã€‚æ³¨æ„ï¼š Poller ID ä¸ä¸€å®šæŒ‰é¡ºåºæ’åˆ—ã€‚æœ€å¥½ä½¿ç”¨ RTM æ§åˆ¶å° (Console &gt; Clusters &gt; Pollers) æ¥è¯†åˆ«æ‚¨è¦ä½¿ç”¨çš„ Poller IDã€‚ cluster_name_text: é›†ç¾¤çš„åç§°ã€‚ lsf_envdir_path: LSF é›†ç¾¤çš„ lsf.conf æ–‡ä»¶è·¯å¾„ã€‚ ç¤ºä¾‹ï¼š æ·»åŠ ä¸€ä¸ªåä¸º maincluster çš„ LSF 10.1 é›†ç¾¤ï¼Œå…¶ lsf.conf åœ¨ /share/lsf/confï¼ŒPoller ID ä¸º 9ï¼š php -q grid_add_cluster.php --type=0 --pollerid=9 --cluster_name=maincluster --cluster_env=/share/lsf/conf åç»­æ“ä½œï¼š å°† RTM ä¸»æœºä½œä¸º LSF å®¢æˆ·ç«¯æ·»åŠ åˆ° LSF é›†ç¾¤ã€‚ é€šè¿‡ RTM æ§åˆ¶å° (Clusters) éªŒè¯æ–°é›†ç¾¤å·²æ·»åŠ å¹¶å¤„äºâ€œupâ€çŠ¶æ€ã€‚å°† RTM ä¸»æœºä½œä¸º LSF å®¢æˆ·ç«¯æ·»åŠ åˆ° LSF é›†ç¾¤å…³äºæ­¤ä»»åŠ¡ï¼š å¯¹äº RTM ç›‘æ§çš„ä»»ä½• LSF é›†ç¾¤ï¼Œæ‚¨å¿…é¡»å°† RTM ä¸»æœºä½œä¸º LSF å®¢æˆ·ç«¯æ·»åŠ åˆ°è¯¥é›†ç¾¤ï¼Œä»¥ä¾¿ RTM è®¿é—® LSF é›†ç¾¤æ•°æ®ã€‚æ­¥éª¤ï¼š ç™»å½•åˆ° LSF ç®¡ç†ä¸»æœºã€‚ å¦‚æœ LSF ç®¡ç†ä¸»æœºæ— æ³•å°† RTM ä¸»æœºåè§£æä¸º IP åœ°å€ï¼Œè¯·ç¼–è¾‘ /etc/hosts æ–‡ä»¶å¹¶æ·»åŠ  RTM ä¸»æœºçš„ IP åœ°å€å’Œä¸»æœºåã€‚ï¼ˆå¦‚æœèƒ½æˆåŠŸ ping é€š RTM ä¸»æœºåï¼Œåˆ™è·³è¿‡æ­¤æ­¥ï¼‰ã€‚ ç¼–è¾‘ lsf.cluster.&lt;cluster_name&gt; æ–‡ä»¶ï¼Œå¹¶å°† RTM ä¸»æœºæ·»åŠ åˆ° Host éƒ¨åˆ†ã€‚ï¼ˆå¦‚æœé…ç½®äº†æµ®åŠ¨å®¢æˆ·ç«¯ï¼Œåˆ™æ— éœ€æ·»åŠ  RTM ä¸»æœºï¼‰ã€‚ é‡æ–°é…ç½® LIM å¹¶é‡å¯ mbatchd ä»¥åº”ç”¨æ›´æ”¹ï¼š lsadmin reconfigbadmin mbdrestart æµ‹è¯• RTM ä¸»æœºæ˜¯å¦æˆåŠŸæ·»åŠ åˆ° LSF é›†ç¾¤ï¼ša. ç™»å½•åˆ° RTM ä¸»æœºã€‚b. ä» RTM ä¸»æœºä½¿ç”¨ telnet ç™»å½•åˆ° LSF ç®¡ç†ä¸»æœºçš„ LSF LIM ç«¯å£ï¼ˆLSF 8 åŠä»¥ä¸Šç‰ˆæœ¬é»˜è®¤ä¸º 7869ï¼‰ã€‚ bash telnet &lt;LSF_management_host_IP&gt; 7869 å¦‚æœèƒ½è¿æ¥åˆ° LSF ç®¡ç†ä¸»æœºçš„ IP åœ°å€ï¼Œåˆ™è¡¨ç¤ºæ·»åŠ æˆåŠŸã€‚ç»“æœï¼š RTM ç°åœ¨å¯ä»¥ç›‘æ§è¯¥ LSF é›†ç¾¤äº†ã€‚åç»­æ“ä½œï¼š å¦‚æœæ‚¨å¸Œæœ› RTM èƒ½å¤Ÿç›‘æ§ LSF é›†ç¾¤ä¸­çš„æ‰€æœ‰å•ä¸ªä¸»æœºï¼Œè¯·å°† LSF é›†ç¾¤ä¸­çš„æ‰€æœ‰ä¸»æœºæ·»åŠ åˆ° RTMã€‚Grid Heuristics (JobIQ)JobIQ ä¸º LSF ç”¨æˆ·æä¾›äº†ä¸€ä¸ªå¯å®šåˆ¶çš„è§†å›¾ï¼Œç”¨äºå°†å…¶å·¥ä½œè´Ÿè½½ä¸ LSF å†…éƒ¨å…¶ä»–ç”¨æˆ·çš„å·¥ä½œè´Ÿè½½è¿›è¡Œæ¯”è¾ƒã€‚å®ƒè¿˜æä¾›äº† RTM ä¸­åŒ…å«çš„ç”¨æˆ·å’Œé›†ç¾¤èŒƒå›´æ•°æ®çš„å¤šä¸ªæ¨ªæˆªé¢è§†å›¾ã€‚ åŠŸèƒ½ï¼š æ˜¾ç¤ºæ‚¨æ‰€æœ‰ä½œä¸šçš„ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä¸æ‰€æœ‰å…¶ä»–ç”¨æˆ·çš„ä½œä¸šè¿›è¡Œæ¯”è¾ƒã€‚ æä¾›å…³äºæ‚¨çš„ä½œä¸šè¿è¡Œæ—¶é—´æ˜¯å¦æ¯”é€šå¸¸æ›´é•¿çš„æ´å¯Ÿã€‚ æä¾›æœ€è¿‘ä¸¤å¤©çš„ä½œä¸šå†å²è®°å½•è§†å›¾ã€‚ å…è®¸ç›´æ¥æ§åˆ¶æ‚¨çš„ä½œä¸šï¼ˆé‡æ–°æ’é˜Ÿã€ç»ˆæ­¢ã€æŒ‚èµ·ç­‰ï¼‰ã€‚ æŒ‰é˜Ÿåˆ—å’Œé¡¹ç›®ç¡®å®šæ‰€æœ‰ä½œä¸šçš„çŠ¶æ€ï¼ˆè¿è¡Œã€æŒ‚èµ·ã€æš‚åœï¼‰ã€‚ æ˜¾ç¤ºå¼‚å¸¸é€€å‡ºä½œä¸šçš„é€€å‡ºåŸå› ã€‚ ç­›é€‰ä½œä¸šè§†å›¾ï¼š è‡ªå®šä¹‰è§†å›¾ï¼ŒåŒ…æ‹¬è¦æ˜¾ç¤ºçš„çª—æ ¼å’Œè¦æŸ¥çœ‹çš„ç”¨æˆ·ã€‚ å¯ä»¥ä¿å­˜è®¾ç½®ä¾›ä¸‹æ¬¡ä½¿ç”¨ã€‚ RTM ç®¡ç†å‘˜å¯ä»¥å°† JobIQ é¡µé¢è®¾ç½®ä¸ºç”¨æˆ·çš„é»˜è®¤ç™»å½•é¡µé¢ã€‚ æŒ‰å¸¸è§é—®é¢˜ç­›é€‰ä½œä¸šè§†å›¾ã€‚ é€‰æ‹©ç”¨æˆ·ã€é›†ç¾¤å’Œé˜Ÿåˆ—ã€‚ é€‰æ‹©è¦åœ¨ JobIQ ä»ªè¡¨æ¿ä¸­çœ‹åˆ°çš„è§†å›¾å’Œå›¾è¡¨ã€‚ é™åˆ¶æ¯ä¸ªè¡¨ä¸­æ˜¾ç¤ºçš„ä¿¡æ¯è¡Œæ•°ï¼ˆå…¨éƒ¨ã€5ã€10 æˆ– 20 æ¡è®°å½•ï¼‰ã€‚ é€‰æ‹©è§†å›¾åˆ·æ–°é¢‘ç‡ï¼ˆ1-5 åˆ†é’Ÿæˆ–ä»ä¸ï¼‰ã€‚ æŸ¥çœ‹å·¥ä½œè´Ÿè½½å†å²è®°å½•ï¼š æŸ¥çœ‹è¿‡å»ä¸¤å¤©çš„å·¥ä½œè´Ÿè½½å†å²è®°å½•ã€‚ Summary è§†å›¾åˆ›å»º Current Status by Cluster (all Queues) è¡¨ï¼Œæ˜¾ç¤ºæ‰€æœ‰é˜Ÿåˆ—ä¸­çš„æŒ‚èµ·ã€è¿è¡Œå’Œæš‚åœä½œä¸šï¼Œä»¥åŠæ¯å°æ—¶å®Œæˆå’Œé€€å‡ºçš„ä½œä¸šæ•°ã€å°æ—¶ååé‡å’Œ 5 åˆ†é’Ÿååé‡ã€‚ æŸ¥çœ‹è·¨å¤šä¸ªé›†ç¾¤çš„æ•´ä½“å·¥ä½œè´Ÿè½½ï¼š Daily Throughput by Cluster è¡¨æ˜¾ç¤ºå½“å¤©å’Œå‰ä¸€å¤©å®Œæˆå’Œé€€å‡ºä½œä¸šçš„æ€»æ•°ã€‚ Average TT Today æ˜¾ç¤ºå½“å¤©è¿è¡Œçš„æ‰€æœ‰ä½œä¸šçš„å¹³å‡å‘¨è½¬æ—¶é—´ï¼ˆä»æäº¤åˆ°å®Œæˆçš„æ€»åˆ†é’Ÿæ•°ï¼‰ã€‚ Current Status by Queue/Project è¡¨æ˜¾ç¤ºï¼š æ¯ä¸ªé˜Ÿåˆ—çš„æŒ‚èµ·ä½œä¸šæ•° / æ’åœ¨æ‚¨ä¹‹å‰çš„æŒ‚èµ·ä½œä¸šæ•°ï¼ˆåŸºäº LSF fairshare åŠ¨æ€ä¼˜å…ˆçº§ï¼‰ã€‚ä¾‹å¦‚ï¼Œ670 / 230 è¡¨ç¤ºæ‚¨æœ‰ 670 ä¸ªæŒ‚èµ·ä½œä¸šï¼Œè€Œå…¶ä»–ç”¨æˆ·åœ¨åŒä¸€é˜Ÿåˆ—ä¸­æœ‰ 230 ä¸ªä½œä¸šæ’åœ¨æ‚¨å‰é¢ã€‚ è¿è¡Œå’Œæš‚åœçš„ä½œä¸šæ•° / å…¶ä»–ç”¨æˆ·åœ¨åŒä¸€é˜Ÿåˆ—ä¸­çš„è¿è¡Œå’Œæš‚åœä½œä¸šæ•°ã€‚ å°æ—¶ååé‡ (TPut(1Hr)) å’Œ 5 åˆ†é’Ÿååé‡ (TPut(5Min)) / å…¶ä»–ç”¨æˆ·åœ¨åŒä¸€é˜Ÿåˆ—ä¸­çš„ååé‡ã€‚ Estimateï¼šæ ¹æ®è¿è¡Œæ—¶å¯å‘å¼ï¼ˆé¡¹ç›®ä¸­ä½œä¸šè¿è¡Œæ—¶é•¿çš„ç¬¬ 70 ç™¾åˆ†ä½ï¼‰å’Œååé‡ï¼Œä¼°è®¡æ‚¨çš„ä½œä¸šä½•æ—¶é¢„æœŸå®Œæˆã€‚ â€œStoplight graphâ€ (çº¢ç»¿ç¯å›¾) æ˜¾ç¤ºå¤šç§è­¦å‘Šç±»å‹ï¼ˆç©ºé—²ä½œä¸šã€æ…¢é€Ÿä½œä¸šã€æœ‰ä¾èµ–å…³ç³»çš„ä½œä¸šã€å†…å­˜å¼‚å¸¸ï¼‰çš„çŠ¶æ€ã€‚ å¦‚æœä»»ä½•è­¦å‘Šç±»åˆ«çš„çº¢ç»¿ç¯å›¾æ˜¾ç¤ºéç»¿è‰²çŠ¶æ€ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨å›¾æ ‡ä¸Šå¯æŸ¥çœ‹å®Œæ•´çŠ¶æ€ã€‚ ç‚¹å‡»çŠ¶æ€å›¾æ ‡å¯æŸ¥çœ‹è¯¥ä½œä¸šçš„è¯¦ç»†ä¿¡æ¯ã€‚ Idle Jobs (çº¢è‰²): è¿è¡Œä¸­çš„ä½œä¸šæœªä½¿ç”¨ä»»ä½• CPU æ—¶é—´ã€‚ Long Jobs (çº¢è‰²): ä½œä¸šè¶…å‡ºäº†é˜Ÿåˆ—å’Œé¡¹ç›®ä¸­å…·æœ‰ç›¸åŒèµ„æºéœ€æ±‚çš„ä½œä¸šçš„ç¬¬ 90 ç™¾åˆ†ä½ã€‚ Pend Dpnd (é»„è‰²): ä½œä¸šæœ‰ä¾èµ–å…³ç³»ï¼›(çº¢è‰²): æœ‰æ— æ•ˆçš„ä½œä¸šä¾èµ–å…³ç³»ã€‚ Mem Use (é»„è‰²): ä½œä¸šä½¿ç”¨çš„å†…å­˜å°‘äºæ‚¨ä¿ç•™çš„å†…å­˜ï¼›(çº¢è‰²): ä½œä¸šä½¿ç”¨çš„å†…å­˜è¿œå¤šäºæ‚¨ä¿ç•™çš„å†…å­˜ã€‚ åœ¨ Current Status by Queue/Project è¡¨ä¸­ï¼Œç‚¹å‡»é˜Ÿåˆ—æˆ–é¡¹ç›®åç§°å¯åœ¨ Graphs çª—æ ¼ä¸­æŸ¥çœ‹å›¾è¡¨ï¼Œæ€»ç»“é€‰å®šæ—¶é—´æ®µå†…çš„æŒ‚èµ·ã€è¿è¡Œå’Œå®Œæˆä½œä¸šã€‚ General çª—æ ¼æä¾›å¤šä¸ªæŒ‰é˜Ÿåˆ—çš„é«˜çº§å›¾è¡¨ï¼Œæ€»ç»“é€‰å®šæ—¶é—´æ®µå†…çš„å†…å­˜ä½¿ç”¨å’Œä½œä¸šååé‡ã€‚ æŸ¥çœ‹å·¥ä½œè´Ÿè½½æ¶ˆè€—çš„èµ„æºï¼š æŸ¥çœ‹æ‚¨çš„å·¥ä½œè´Ÿè½½ä¸å…¶ä»–ç”¨æˆ·ç›¸æ¯”æ‰€æ¶ˆè€—çš„èµ„æºã€‚ åœ¨ Current Status by Queue/Project è¡¨ä¸­ï¼Œç‚¹å‡»æŒ‚èµ·ã€è¿è¡Œæˆ–æš‚åœçš„ä½œä¸šæ•°é‡ï¼Œå¯æ˜¾ç¤ºè¯¥çŠ¶æ€ä¸‹çš„ä½œä¸šåˆ—è¡¨ã€‚ åœ¨ Grid Heuristics &gt; View Job Listing é¡µé¢ï¼ŒæŒ‰é›†ç¾¤ã€é˜Ÿåˆ—ã€é¡¹ç›®æˆ–ä½œä¸šçŠ¶æ€ç­›é€‰ä½œä¸šåˆ—è¡¨ï¼Œå¹¶å°†è¡¨æ ¼å¯¼å‡ºä¸º .csv æ–‡ä»¶è¿›è¡Œè¿›ä¸€æ­¥åˆ†æã€‚ åˆ—è¡¨ä¸­æ˜¾ç¤ºæ¯ä¸ªä½œä¸šçš„è­¦å‘ŠçŠ¶æ€ï¼šç©ºé—²ä½œä¸šã€æ…¢é€Ÿä½œä¸šã€æœ‰ä¾èµ–å…³ç³»çš„ä½œä¸šå’Œå†…å­˜å¼‚å¸¸ã€‚ ç‚¹å‡»ä½œä¸šåˆ—è¡¨ä¸­çš„ä½œä¸š ID å¯æŸ¥çœ‹è¯¥ä½œä¸šçš„è¯¦ç»†ä¿¡æ¯ã€‚ åœ¨ä½œä¸šè¯¦ç»†ä¿¡æ¯è§†å›¾ä¸­ï¼Œä½¿ç”¨ Job Graphs æŸ¥çœ‹ä½œä¸šèµ„æºä½¿ç”¨æƒ…å†µçš„å›¾è¡¨ï¼ˆå†…å­˜æ¶ˆè€—ã€CPU æ—¶é—´ã€è¿è¡Œä¸­çš„è¿›ç¨‹ ID (PID) åŠå…¶éšæ—¶é—´çš„å˜åŒ–ï¼‰ã€‚ Hosts Graphs æ˜¾ç¤ºä½œä¸šçš„å„ç§åŸºäºä¸»æœºçš„ç»Ÿè®¡ä¿¡æ¯ã€‚ æŸ¥çœ‹è®¸å¯è¯ä½¿ç”¨æƒ…å†µï¼š Feature Checkouts for User è¡¨å…è®¸æŒ‰ç”¨æˆ·æ£€æŸ¥è®¸å¯è¯ä½¿ç”¨æƒ…å†µã€‚ Grid Heuristics &gt; View Job Listing é¡µé¢ä¹ŸåŒ…å«ä¸€åˆ—æ˜¾ç¤ºå·²ç­¾å‡ºçš„è®¸å¯è¯ã€‚ æŒ‰é˜Ÿåˆ—æŸ¥çœ‹æŒ‚èµ·åŸå› ï¼š View Pending Reasons by Queue for User è¡¨æ˜¾ç¤ºæ¯ä¸ªç”¨æˆ·çš„æŒ‚èµ·ä½œä¸šæ•°é‡åŠå…¶åŸå› ï¼Œä»¥åŠæŒ‚èµ·æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ æŸ¥çœ‹å“ªäº›ä½œä¸šæœ‰å¼‚å¸¸ï¼š é€‰æ‹© Exit Analysis ä»¥è·å–æœ‰å…³æ½œåœ¨é—®é¢˜ä½œä¸šçš„æ´å¯Ÿã€‚ Exit Analysis by Queue/Project è¡¨æ˜¾ç¤ºè¿‡å»ä¸€å¤©å†…å…·æœ‰è¿è¡Œæ—¶ã€ç©ºé—²æˆ–å†…å­˜å¼‚å¸¸çš„ä½œä¸šã€‚ å¯ä»¥æ·±å…¥æŸ¥çœ‹ä»¥æ§åˆ¶è¿™äº›ä½œä¸šã€‚ é€€å‡ºåˆ†æé¡µé¢æ˜¾ç¤ºé€€å‡ºä½œä¸šçš„æ•°é‡å’Œ LSF é€€å‡ºåŸå› ã€‚ æ§åˆ¶æ‚¨çš„ä½œä¸šï¼š åœ¨ Grid Heuristics &gt; View Job Listing é¡µé¢ï¼Œä½¿ç”¨ Choose an action èœå•æ§åˆ¶åˆ—è¡¨ä¸­çš„ä»»ä½•ä½œä¸šã€‚ åœ¨é˜Ÿåˆ—ä¸­å‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨ä½œä¸šã€å°†ä½œä¸šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ã€å¼ºåˆ¶ä½œä¸šç«‹å³è¿è¡Œï¼ˆéœ€ç›¸åº”æƒé™ï¼‰ã€æŒ‚èµ·ã€æ¢å¤ã€ç»ˆæ­¢ã€é‡æ–°æ’é˜Ÿæˆ–å‘é€ä¿¡å·ç»™ä½œä¸šã€‚ æŒ‚èµ·åŸå›  (Pending Reasons)æ‚¨å¯ä»¥é€‰æ‹©æŒ‚èµ·åŸå› çº§åˆ«æ¥ç†è§£æ‚¨çš„ä½œä¸šä¸ºä½•æŒ‚èµ·ã€‚è¿™æ˜¯é€šè¿‡å°†æŒ‚èµ·åŸå› åˆ†ç±»ï¼Œç„¶åä»…æ˜¾ç¤ºé¡¶çº§ç±»åˆ«ä¸­çš„é¦–è¦åŸå› æ¥å®ç°çš„ã€‚ æœªåˆ†ç±»æŒ‚èµ·åŸå›  (-p0): è·å–é›†ç¾¤ä¸­æ¯ä¸ªæŒ‚èµ·ä½œä¸šçš„ä½œä¸š IDã€ç”¨æˆ·å’ŒæŒ‚èµ·åŸå› ã€‚ å…³é”®æŒ‚èµ·åŸå›  (-p1): æ£€ç´¢ä½œä¸šçš„å…³é”®æŒ‚èµ·åŸå› ã€‚å¦‚æœå…³é”®æŒ‚èµ·åŸå› æ˜¯åŸºäºä¸»æœºçš„ï¼Œåˆ™æ˜¾ç¤ºå…³é”®æŒ‚èµ·åŸå› å’Œç›¸åº”çš„ä¸»æœºæ•°é‡ã€‚å¦åˆ™ï¼Œä»…æ˜¾ç¤ºå…³é”®æŒ‚èµ·åŸå› ã€‚ï¼ˆæ³¨æ„ï¼šå¦‚æœæ²¡æœ‰é™¤ä¸»è¦åŸå› ä¹‹å¤–çš„ä¸»æœºåŸå› ï¼Œåˆ™ä¸»è¦åŸå› å°†ä½œä¸ºä½œä¸šçš„å…³é”®æŒ‚èµ·åŸå› æ˜¾ç¤ºï¼‰ã€‚ å€™é€‰ä¸»æœºæŒ‚èµ·åŸå›  (-p2): æ›´å¥½åœ°ç†è§£ä½œä¸šæœªè¿è¡Œçš„åŸå› ä»¥åŠæ‚¨å¯ä»¥é‡‡å–çš„æªæ–½ã€‚bjobs -p2 é€‰é¡¹æ˜¾ç¤ºé›†ç¾¤ä¸­çš„æ€»ä¸»æœºæ•°å’Œè€ƒè™‘çš„æ€»æ•°ã€‚å¯¹äºè€ƒè™‘çš„ä¸»æœºï¼Œæ˜¾ç¤ºæ¯ä¸ªä¸»æœºä¸Šçš„å®é™…åŸå› ã€‚å¯¹äºæ¯ä¸ªæŒ‚èµ·åŸå› ï¼Œæ˜¾ç¤ºç»™å‡ºè¯¥åŸå› çš„ä¸»æœºæ•°é‡ã€‚å®é™…åŸå› æ¶ˆæ¯æŒ‰ä»æœ€å¸¸è§åˆ°æœ€ä¸å¸¸è§çš„é¡ºåºåˆ—å‡ºã€‚åŸºäºä¸»æœºçš„æŒ‚èµ·åŸå› åˆ†ä¸ºå€™é€‰ä¸»æœºåŸå› å’Œéå€™é€‰ä¸»æœºåŸå› ï¼Œä½†ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œæ‚¨åªä¼šçœ‹åˆ°å€™é€‰ä¸»æœºçš„åŸå› ã€‚å€™é€‰ä¸»æœºçš„åŸå› å¯ç”¨äºä½¿ä½œä¸šè¿è¡Œã€‚ä¾‹å¦‚ï¼Œå¯¹äºåŸå› â€œä½œä¸šå¯¹ä¿ç•™èµ„æº (mem) çš„èµ„æºéœ€æ±‚æœªæ»¡è¶³â€ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å‡å°‘ä½œä¸šçš„å†…å­˜éœ€æ±‚ã€‚æŸ¥çœ‹ LSF é›†ç¾¤å’Œä½œä¸šä¿¡æ¯ç‚¹å‡» Grid æ ‡ç­¾é¡µï¼Œå¹¶å‚è€ƒå·¦ä¾§çš„ Grid èœå•æ æ¥æŸ¥çœ‹ LSF é›†ç¾¤å’Œä½œä¸šä¿¡æ¯ã€‚ æŸ¥çœ‹é›†ç¾¤å’Œä¸»æœºå¥åº·æ‘˜è¦ï¼š è½¬åˆ° Grid èœå•æ çš„ Dashboards éƒ¨åˆ†ã€‚ æ§åˆ¶é›†ç¾¤ï¼š è½¬åˆ° Grid èœå•æ çš„ Management éƒ¨åˆ†ï¼ˆä»…å¯¹å…·æœ‰ Cluster Control Management é¢†åŸŸæƒé™çš„ç”¨æˆ·å¯ç”¨ï¼‰ã€‚ æŸ¥çœ‹ LSF ä½œä¸šä¿¡æ¯ï¼š è½¬åˆ° Grid èœå•æ çš„ Job Info éƒ¨åˆ†ã€‚æä¾›æŒ‰ä¸»æœºã€ä¸»æœºç»„ã€é˜Ÿåˆ—ã€ä½œä¸šæ•°ç»„ã€åº”ç”¨ç¨‹åºæˆ–ç»„çº§åˆ«çš„ LSF ä½œä¸šä¿¡æ¯ï¼Œä»¥åŠç‰¹å®šä½œä¸šçš„è¯¦ç»†ä¿¡æ¯å’ŒæŒ‚èµ·åŸå› å†å²ã€‚ æŸ¥çœ‹ LSF ç”¨æˆ·å’Œç”¨æˆ·ç»„ä¿¡æ¯ï¼š è½¬åˆ° Grid èœå•æ çš„ User/Group Info éƒ¨åˆ†ã€‚ æŸ¥çœ‹ä¸»æœºå’Œä¸»æœºç»„çš„è´Ÿè½½ä¿¡æ¯ï¼š è½¬åˆ° Grid èœå•æ çš„ Load Info éƒ¨åˆ†ã€‚ æŸ¥çœ‹ LSF ä¸»æœºå’Œä¸»æœºç»„ä¿¡æ¯ï¼š è½¬åˆ° Grid èœå•æ çš„ Host Info éƒ¨åˆ†ã€‚ æŸ¥çœ‹æ¯æ—¥ç»Ÿè®¡ã€FLEXlm è®¸å¯è¯ä½¿ç”¨å’Œä½œä¸šå‚æ•°ï¼š è½¬åˆ° Grid èœå•æ çš„ Reports éƒ¨åˆ†ã€‚å¯ä»¥ç­›é€‰ç‰¹å®šä¿¡æ¯çš„ç»Ÿè®¡å’Œæ‰¹å¤„ç†ç³»ç»Ÿå‚æ•°ã€‚ é…ç½® Grid æ ‡ç­¾é¡µè®¾ç½®ï¼š ç‚¹å‡» Grid æ ‡ç­¾é¡µï¼Œç„¶åç‚¹å‡»å³ä¾§çš„ Settings æ ‡ç­¾é¡µæ¥é…ç½® Grid æ ‡ç­¾é¡µä¸­çš„é¡¹ç›®ã€‚(æœ‰å…³ Dashboards, Job Info, User/Group Info, Load Info, Host Info, Reports å„éƒ¨åˆ†çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ PDF åŸæ–‡ç¬¬ 76-85 é¡µ)æŸ¥çœ‹é›†ç¾¤å’Œä¸»æœºçš„æ—¶é—´åºåˆ—å›¾æ—¶é—´åºåˆ—å›¾å‘ˆç°ä¾èµ–äºæ—¶é—´çš„é›†ç¾¤çŠ¶æ€å’Œè¯¦ç»†ä¿¡æ¯ï¼Œæ—¶é—´æ˜¯è¿™äº›æŠ˜çº¿å›¾çš„ X è½´ã€‚ æŸ¥çœ‹æ–¹å¼ï¼š æ ‘è§†å›¾ (Tree view): ç‚¹å‡» Graphs æ ‡ç­¾é¡µï¼Œç„¶åç‚¹å‡»å³ä¾§çš„ Tree view æ ‡ç­¾é¡µã€‚æŒ‰è®¾å¤‡å’Œé›†ç¾¤ç»„ç»‡è®¿é—®æ‰€æœ‰å›¾è¡¨ã€‚ç‚¹å‡»æ ¹çº§åˆ«åç§°æŸ¥çœ‹æ‘˜è¦ä¿¡æ¯ï¼Œç‚¹å‡»æ ‘éƒ¨åˆ†æŸ¥çœ‹ä¸»æœºç‰¹å®šä¿¡æ¯ã€‚ä½¿ç”¨æ”¾å¤§é•œæŸ¥çœ‹æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œä½¿ç”¨æ‰³æ‰‹å›¾æ ‡æ˜¾ç¤º RRD å·¥å…·æ”¶é›†çš„è°ƒè¯•ä¿¡æ¯ã€‚ åˆ—è¡¨è§†å›¾ (List view): ç‚¹å‡» Graphs æ ‡ç­¾é¡µï¼Œç„¶åç‚¹å‡»å³ä¾§çš„ List view æ ‡ç­¾é¡µã€‚é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªé›†ç¾¤åç§°ï¼Œç„¶åç‚¹å‡» Viewã€‚ é¢„è§ˆè§†å›¾ (Preview): ç‚¹å‡» Graphs æ ‡ç­¾é¡µï¼Œç„¶åç‚¹å‡»å³ä¾§çš„ Preview æ ‡ç­¾é¡µã€‚å¯ä»¥æŒ‰ä¸»æœºç­›é€‰ä»¥é™åˆ¶æ˜¾ç¤ºçš„å›¾è¡¨æ•°é‡ã€‚ æ“ä½œå›¾æ ‡ï¼š åœ¨æŸ¥çœ‹æ•°æ®è¡Œæ—¶ï¼Œç‚¹å‡» View host job detail æˆ– View graphs æ“ä½œå›¾æ ‡å¯æŸ¥çœ‹ç‰¹å®šè¡Œï¼ˆå¦‚ç‰¹å®šé›†ç¾¤ã€ä¸»æœºæˆ–é˜Ÿåˆ—ï¼‰çš„æ—¶é—´åºåˆ—å›¾ã€‚ é…ç½®å›¾è¡¨æ˜¾ç¤ºè®¾ç½®ï¼š ç‚¹å‡» Graphs æ ‡ç­¾é¡µï¼Œç„¶åç‚¹å‡»å³ä¾§çš„ Settings æ ‡ç­¾é¡µã€‚å¯ä»¥é…ç½®å›¾è¡¨å¤–è§‚ã€é»˜è®¤é¡µé¢è®¾ç½®ã€ç¼©ç•¥å›¾å¤§å°ã€æ ‘/é¢„è§ˆ/åˆ—è¡¨è§†å›¾æ¨¡å¼çš„é»˜è®¤è®¾ç½®ä»¥åŠå­—ä½“ã€‚æŸ¥çœ‹é›†ç¾¤å’Œä¸»æœºçš„éæ—¶é—´åºåˆ—å›¾è¡¨éæ—¶é—´åºåˆ—å›¾è¡¨å‘ˆç°ä¸ä¾èµ–äºæ—¶é—´çš„é›†ç¾¤å’Œä¸»æœºç»Ÿè®¡ä¿¡æ¯ã€‚ç”±äºç»Ÿè®¡ä¿¡æ¯ä¸å…·æœ‰æ—¶é—´æ•æ„Ÿæ€§ï¼ŒRTM å¯ä»¥ä½¿ç”¨å›¾å½¢ä¸°å¯Œçš„æ ¼å¼ï¼ˆå¦‚é¥¼å›¾å’Œæ¡å½¢å›¾ï¼‰æ¥å‘ˆç°è¿™äº›æ•°æ®ã€‚æ­¥éª¤ï¼š ç‚¹å‡» Cluster (æˆ– Grid) æ ‡ç­¾é¡µã€‚ åœ¨ Dashboards éƒ¨åˆ†ï¼Œç‚¹å‡» Statisticalã€‚ åœ¨ Cluster Statistics é€‰æ‹©è¿‡æ»¤å™¨ä¸­ï¼Œé€‰æ‹©æ‚¨å¸Œæœ›ä»¥å›¾è¡¨å½¢å¼æŸ¥çœ‹çš„æ•°æ®ç±»å‹ã€‚ å¦‚æœå›¾è¡¨æ—è¾¹æœ‰ Selectable Reports å¯¹è¯æ¡†ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»æŠ¥å‘Šåç§°æ¥é€‰æ‹©ä¸åŒçš„æŠ¥å‘Šç±»å‹ä»¥æŸ¥çœ‹ä¸åŒçš„æ•°æ®ã€‚ä¸ºç›‘æ§ LSF é›†ç¾¤æˆ–è®¸å¯è¯æœåŠ¡åˆ›å»ºå›¾è¡¨RTM æä¾›äº†ä¸°å¯Œçš„æ—¶åºå›¾ï¼Œä¸ºé›†ç¾¤å’Œåº”ç”¨ç¨‹åºç®¡ç†å‘˜åŠå›¢é˜Ÿè´Ÿè´£äººæä¾›å¯¹å…¶ç¯å¢ƒè¿è¡Œæƒ…å†µçš„æ·±å…¥äº†è§£ã€‚RTM ä¸­æä¾›äº†è®¸å¤šå¼€ç®±å³ç”¨çš„å›¾è¡¨ï¼Œå¯ç”¨äºæ·±å…¥äº†è§£ä½œä¸šå¤„ç†æ–¹å¼å’Œèµ„æºä½¿ç”¨æƒ…å†µã€‚æ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Create ä¸‹ï¼Œç‚¹å‡» New Graphsã€‚ åœ¨ Host å­—æ®µä¸­é€‰æ‹©æ‚¨çš„ LSF æˆ–è®¸å¯è¯æœåŠ¡å™¨ã€‚ åœ¨ Graph Types å­—æ®µä¸­é€‰æ‹©å›¾è¡¨ç±»åˆ«ä»¥ç­›é€‰å¯ç”¨å›¾è¡¨ç±»å‹ã€‚ åœ¨ Graph Templates åˆ—åº•éƒ¨çš„ Create å­—æ®µä¸­ï¼Œé€‰æ‹©è¦ä¸º LSF æˆ–è®¸å¯è¯æœåŠ¡åˆ›å»ºçš„å›¾è¡¨ç±»å‹ã€‚åç»­æ“ä½œï¼š å¯ä»¥é€šè¿‡ç‚¹å‡» Console &gt; Management &gt; Graph Managementï¼Œç„¶åç‚¹å‡»ä¸»æœºæˆ–å›¾è¡¨çš„åç§°æ¥ç¼–è¾‘å›¾è¡¨ã€‚ æ›´å¤šå…³äºå›¾è¡¨å’Œå›¾è¡¨æ¨¡æ¿çš„ä¿¡æ¯ï¼Œè¯·å‚è€ƒâ€œå›¾è¡¨å’Œå›¾è¡¨æ¨¡æ¿â€æ–‡æ¡£ã€‚è°ƒæ•´ RTM (Tuning RTM)é«˜çº§ç”¨æˆ·å¯ä»¥ä¿®æ”¹ RTM ä»¥æ»¡è¶³å…¶éœ€æ±‚ã€‚ æ›´æ–° grid_add_cluster.php: å¦‚æœæ‚¨å‘ä¸»æœºæ¨¡æ¿æ·»åŠ äº†å›¾è¡¨æ¨¡æ¿ã€ä¸ºæ•°æ®æŸ¥è¯¢åˆ›å»ºäº†æ–°çš„å›¾è¡¨æ¨¡æ¿æˆ–åˆ›å»ºäº†æ–°çš„æ•°æ®æŸ¥è¯¢ï¼Œåˆ™å¿…é¡»æ›´æ–° grid_add_cluster.phpã€‚ æ›´æ”¹ Advocate ç«¯å£å·: å¦‚æœé»˜è®¤çš„ 8089 ç«¯å£è¢«å…¶ä»–åº”ç”¨ç¨‹åºç¡¬ç¼–ç ä½¿ç”¨ï¼Œå¯ä»¥æ›´æ”¹ Advocate ç«¯å£å·ã€‚ åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­æœç´¢ 8089 å¹¶æ›´æ”¹ç«¯å£å·ï¼š/etc/init.d/advocate, /opt/advocate/advocate.init, /opt/advocate/command_advocate.pyã€‚ æ›´æ–° Cacti æ•°æ®åº“ï¼šä¸º advocate_port è®¾ç½®æ–°ç«¯å£å·çš„å€¼ã€‚ é‡å¯ Advocate æœåŠ¡ã€‚ å¤§å‹é›†ç¾¤çš„æ€§èƒ½è°ƒä¼˜å°† RRD æ–‡ä»¶å­˜å‚¨åœ¨å•ç‹¬çš„ç£ç›˜ä¸Šå…³äºæ­¤ä»»åŠ¡ï¼š ä¸ºæé«˜æ€§èƒ½ï¼Œå°† RRD æ–‡ä»¶å­˜å‚¨åœ¨ä¸æ•°æ®åº“ä¸åŒçš„å•ç‹¬ç£ç›˜ä¸Šï¼Œå¹¶åˆ›å»ºæŒ‡å‘æ–°ä½ç½®çš„ç¬¦å·é“¾æ¥ã€‚æ­¥éª¤ï¼š åœ¨å•ç‹¬çš„ç£ç›˜ä¸Šåˆ›å»ºç›®å½•ï¼Œä¾‹å¦‚ï¼šmkdir /newDirectoryã€‚ å°†æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç›®å½•ï¼Œä¾‹å¦‚ï¼šcp â€“p /opt/cacti/rra/* /newDirectoryã€‚ å¤‡ä»½ç°æœ‰æ–‡ä»¶å¹¶åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œä¾‹å¦‚ï¼š mv /opt/cacti/rra /opt/cacti/rra.bakln â€“s /newDirectory /opt/cacti/rra å¢åŠ æ•°æ®åº“å†…å­˜å…³äºæ­¤ä»»åŠ¡ï¼š å¦‚æœæ‚¨çœ‹åˆ°æ•°æ®åº“å†…å­˜ä¸è¶³çš„é”™è¯¯ï¼ˆé€šå¸¸æ˜¯æ•°æ®åº“é”™è¯¯ 1114ï¼‰ï¼Œè¯·å¢åŠ åˆ†é…ç»™æ•°æ®åº“çš„æœ€å¤§å†…å­˜ã€‚æ­¥éª¤ï¼š ç¼–è¾‘ /etc/my.cnf æ–‡ä»¶å¹¶å¢åŠ  max_heap_table_size çš„å€¼ã€‚ é‡å¯ mysqld æœåŠ¡ï¼šservice mysqld restartã€‚ä¸ºç£ç›˜ I/O ç¹é‡çš„ç³»ç»Ÿå¯ç”¨æŒ‰éœ€ RRD æ–‡ä»¶æ›´æ–°å…³äºæ­¤ä»»åŠ¡ï¼š å¦‚æœæ‚¨é‡åˆ°é«˜ç£ç›˜ I/O ç­‰å¾…æ—¶é—´çš„é—®é¢˜ï¼Œè¯·å¯ç”¨æŒ‰éœ€ RRD æ–‡ä»¶æ›´æ–°ã€‚å¯ç”¨åå¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ Spineï¼ˆCacti çš„é™„åŠ åŠŸèƒ½ï¼‰ã€‚æ­¥éª¤ï¼š è½¬åˆ° Console &gt; Configuration &gt; RTM Settingsã€‚ é€‰æ‹© Performance æ ‡ç­¾é¡µã€‚ åœ¨ On Demand RRD Update Settings éƒ¨åˆ†ï¼Œé€‰ä¸­ Enable On Demand RRD Updatingã€‚ ï¼ˆå¯é€‰ï¼‰é€šè¿‡ä¿®æ”¹ How Often Should Boost Update All RRDs å’Œ Maximum Records å­—æ®µçš„å€¼æ¥æ›´æ”¹ RRD æ–‡ä»¶çš„æ›´æ–°é¢‘ç‡ã€‚ ç‚¹å‡» Saveã€‚é…ç½®å¹¶å‘è½®è¯¢å™¨è¿›ç¨‹æ­¥éª¤ï¼š è½¬åˆ° Console &gt; Configuration &gt; RTM Settingsã€‚ ç‚¹å‡» Poller æ ‡ç­¾é¡µã€‚ åœ¨ General éƒ¨åˆ†ï¼Œæ›´æ”¹ Maximum Concurrent Poller Processes çš„å€¼ã€‚ ç‚¹å‡» Saveã€‚å¯ç”¨æ•°æ®åº“è®°å½•åˆ†åŒºå…³äºæ­¤ä»»åŠ¡ï¼š æ•°æ®åº“è®°å½•åˆ†åŒºå°†è¾ƒå¤§çš„ LSF ä½œä¸šæ•°æ®è¡¨æ‹†åˆ†ä¸ºå¤šä¸ªè¡¨ï¼Œå¹¶åœ¨æ•°æ®åº“ç»´æŠ¤æ“ä½œæœŸé—´åŠ å¿«å¤„ç†é€Ÿåº¦ã€‚å¦‚æœæ‚¨æ¯å¤©æœ‰å¤§é‡ä½œä¸šæˆ–å¸Œæœ›å»¶é•¿ä¿ç•™ä½œä¸šæ‘˜è¦æ•°æ®çš„æ—¶é—´ï¼Œåˆ™éœ€è¦åˆ†åŒºã€‚ è°ƒæ•´åˆ†åŒºå¤§å°ï¼Œä½¿å…¶æœ€å¤šåŒ…å«çº¦ 200 ä¸‡æ¡è®°å½•ã€‚è°ƒæ•´åˆ†åŒºå¤§å°æ—¶ï¼Œè¯·è€ƒè™‘ä¸»æœºä¸ºæ•°æ®åº“æä¾›çš„å†…å­˜é‡ï¼ˆæ¯ä¸ªä½œä¸šè®°å½•åœ¨æ•°æ®åº“ä¸­å ç”¨ 4 KBï¼‰ã€‚ æ‚¨è¿˜å¯ä»¥æŒ‡å®šæ¯ä¸ªåˆ†åŒºä½¿ç”¨çš„æ—¶é—´æ®µã€‚å¢åŠ æ—¶é—´æ®µæ„å‘³ç€æ•°æ®åº“åŒ…å«æ›´å¤šç”¨äºæ•´ä½“åˆ†æçš„æ•°æ®ï¼Œä½†ä¹Ÿä¼šå¢åŠ åˆ é™¤ä½œä¸šè®°å½•å¯¹ç³»ç»Ÿçš„å½±å“ã€‚æ­¥éª¤ï¼š è½¬åˆ° Console &gt; Configuration &gt; RTM Settingsã€‚ é€‰æ‹© Maint æ ‡ç­¾é¡µã€‚ åœ¨ Large System Settings éƒ¨åˆ†ï¼Œé€‰ä¸­ Enable Record Partitioning å¤é€‰æ¡†ã€‚ åœ¨ Partition Size å­—æ®µä¸­æŒ‡å®šæ—¶é—´æ®µã€‚ åœ¨ Maximum Partitions å­—æ®µä¸­æŒ‡å®šè¦åœ¨æ•°æ®åº“ä¸­ä¿ç•™çš„æœ€å¤§åˆ†åŒºæ•°ã€‚å½“åˆ†åŒºè¡¨æ•°é‡è¾¾åˆ°æ­¤æ•°ç›®æ—¶ï¼ŒRTM ä¼šåœ¨åˆ›å»ºæ–°åˆ†åŒºè¡¨ä¹‹å‰åˆ é™¤æœ€æ—§çš„åˆ†åŒºè¡¨ã€‚å¢åŠ åˆ†åŒºæ•°é‡æ„å‘³ç€æ•°æ®åº“åŒ…å«æ›´å¤šç”¨äºæ•´ä½“åˆ†æçš„æ•°æ®ï¼Œä½†ä¹Ÿä¼šå¢åŠ æ•°æ®åº“çš„å¤§å°ã€‚ ç‚¹å‡» Saveã€‚é…ç½®æ•°æ®æ”¶é›†é¢‘ç‡å…³äºæ­¤ä»»åŠ¡ï¼š å¯¹äºå¤§å‹é›†ç¾¤ï¼Œæ›´æ”¹æ•°æ®æ”¶é›†é¢‘ç‡ã€‚æ•°æ®æ”¶é›†é¢‘ç‡æ˜¯ä¸ºæ¯ä¸ª LSF é›†ç¾¤é…ç½®çš„ã€‚ å¦‚æœæ‚¨åœ¨ cacti.log æ–‡ä»¶ä¸­æŒç»­çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„é”™è¯¯ï¼Œè¯·é™ä½æ•°æ®æ”¶é›†é¢‘ç‡ï¼š ERROR: Run-On/Abended Process Detected for ClusterName:'Large Cluster', ClusterID:'1', Process:'GRIDJOBS', PID:'19749', Attempting to Kill PIDæ­¥éª¤ï¼š è½¬åˆ° Console &gt; Clusters &gt; Clustersã€‚ é€‰æ‹©æ‚¨è¦ä¿®æ”¹çš„ LSF é›†ç¾¤çš„åç§°ã€‚ ç‚¹å‡» Poller æ ‡ç­¾é¡µã€‚ æ‚¨å¯ä»¥ä¿®æ”¹ä»¥ä¸‹å­—æ®µçš„å€¼ï¼š åœ¨ Queue/Host/Load Collection Settings éƒ¨åˆ†ï¼š Collection Frequency and Max Allowed Runtime åœ¨ Job Collection Settings éƒ¨åˆ†ï¼š Minor Collection Frequency, Major Collection Frequency, and Max Allowed Runtime ç‚¹å‡» Saveã€‚å¢åŠ  LSF API è¶…æ—¶å€¼å…³äºæ­¤ä»»åŠ¡ï¼š å¦‚æœæ‚¨åœ¨ cacti.log æ–‡ä»¶ä¸­çœ‹åˆ°æŒ‡ç¤º LSF API è¶…æ—¶çš„é”™è¯¯ï¼Œè¯·å¢åŠ è¶…æ—¶å€¼ã€‚æ­¥éª¤ï¼š è½¬åˆ° Console &gt; Clusters &gt; Clustersã€‚ é€‰æ‹©æ‚¨è¦ä¿®æ”¹çš„ LSF é›†ç¾¤çš„åç§°ã€‚ ç‚¹å‡» Advanced æ ‡ç­¾é¡µã€‚ åœ¨ Cluster Connection Timeout Settings éƒ¨åˆ†ï¼Œä¿®æ”¹ä»¥ä¸‹å­—æ®µçš„å€¼ï¼š Base Timeout Batch Timeout Batch Job Info Timeout Batch Job Info Retries ç‚¹å‡» Saveã€‚å¢å¼ºæ•°æ®åº“æ€§èƒ½å…³äºæ­¤ä»»åŠ¡ï¼š å°† my.cnf ä¸­çš„ innodb_flush_log_at_trx_commit è®¾ç½®æ›´æ”¹ä¸º 2ï¼Œä»¥æ¯ç§’è€Œä¸æ˜¯æ¯æ¬¡æŸ¥è¯¢æäº¤æ—¶å°†æ•°æ®åº“æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ã€‚æ­¤æ›´æ”¹å‡å°‘äº†éšæœºç£ç›˜ I/O é‡ï¼Œä»è€Œæé«˜äº† RTM çš„å¯ä¼¸ç¼©æ€§ã€‚æ­¥éª¤ï¼š ç¼–è¾‘ /etc/my.cnf æ–‡ä»¶å¹¶å°† innodb_flush_log_at_trx_commit çš„å€¼æ›´æ”¹ä¸º 2ã€‚ é‡å¯ mysqld æœåŠ¡ï¼šservice mysqld restartã€‚ç»´æŠ¤æ•°æ®åº“ä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥é‡‡å–çš„ç»´æŠ¤æˆ–ä¼˜åŒ–æ•°æ®åº“çš„æ“ä½œï¼š åœ¨æ•°æ®åº“ä¸­è®¾ç½®è®°å½•åˆ†åŒº å¤‡ä»½å’Œæ¢å¤ RTM ç³»ç»Ÿè®¾ç½®åœ¨æ•°æ®åº“ä¸­è®¾ç½®è®°å½•åˆ†åŒºå…³äºæ­¤ä»»åŠ¡ï¼š åœ¨å¤§å‹æ•°æ®åº“ä¸­ï¼Œåˆ é™¤æ—§çš„ä½œä¸šè®°å½•å’Œå…¶ä»–æ•°æ®åº“ç»´æŠ¤ä»»åŠ¡å¯èƒ½ä¼šå¯¹æ•°æ®åº“æ€§èƒ½äº§ç”Ÿæ˜¾è‘—å½±å“ã€‚é€šè¿‡å¯ç”¨è®°å½•åˆ†åŒºå¯ä»¥æé«˜æ•°æ®åº“æ€§èƒ½ã€‚åˆ†åŒºå°†æ•°æ®åº“å†…çš„è¡¨åˆ’åˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„è¡¨ã€‚ä»è¾ƒå°çš„è¡¨ä¸­åˆ é™¤ä½œä¸šè®°å½•å¯¹æ´»åŠ¨è¡¨çš„ç³»ç»Ÿæ€§èƒ½å½±å“å°äºä»è¾ƒå¤§çš„è¡¨ä¸­åˆ é™¤ä½œä¸šè®°å½•ã€‚ æ‚¨å¯ä»¥ä¸º RTM ç›‘æ§çš„ä»¥ä¸‹æ•°æ®åº“è¡¨è®¾ç½®åˆ†åŒºï¼ˆæ‰€æœ‰ä»¥ä¸‹è¡¨éƒ½ä¼šå—åˆ°å½±å“ï¼‰ï¼š GRID_ARRAYS GRID_JOB_DAILY_STATS GRID_JOBS_FINISHED GRID_JOBS_MEMPERF GRID_JOBS_RUSAGE æ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Configuration éƒ¨åˆ†ï¼Œç‚¹å‡» RTM Settingsã€‚ ç‚¹å‡» Maint æ ‡ç­¾é¡µã€‚ åœ¨ System Maintenance Settings éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥åœ¨ Database Maintenance Time å­—æ®µä¸­æŒ‡å®šæ—¶é—´ï¼Œä»¥æŒ‡ç¤ºä½•æ—¶å¿…é¡»ä»æ•°æ®åº“ä¸­åˆ é™¤æ—§çš„æ•°æ®åº“è®°å½•ã€‚æ‰€æœ‰åˆ†åŒºæ•°æ®å§‹ç»ˆæ ¹æ®æ‚¨åœ¨è¯¥é¡µé¢éƒ¨åˆ†æŒ‡å®šçš„ä¿ç•™æœŸè¿›è¡Œä¿ç•™ã€‚ å‘ä¸‹æ»šåŠ¨åˆ°é¡µé¢çš„ Large System Settings éƒ¨åˆ†ï¼Œå¹¶ç¡®ä¿è®¾ç½®äº†ä»¥ä¸‹é€‰é¡¹ï¼š Enable Record Partitioning: é€‰ä¸­æ­¤æ¡†ä»¥åœ¨æ•°æ®åº“ä¸­å¯ç”¨è®°å½•åˆ†åŒºã€‚å¦‚æœæ‚¨æ¯å¤©æœ‰å¤§é‡ä½œä¸šæˆ–å¸Œæœ›å»¶é•¿ä¿ç•™ä½œä¸šæ‘˜è¦æ•°æ®çš„æ—¶é—´ï¼Œåˆ™éœ€è¦åˆ†åŒºã€‚ Partition Size: æŒ‡å®šä¸åŒåˆ†åŒºä¹‹é—´çš„æ—¶é—´ã€‚å¢åŠ æ—¶é—´æ®µæ„å‘³ç€æ•°æ®åº“åŒ…å«æ›´å¤šç”¨äºæ•´ä½“åˆ†æçš„æ•°æ®ï¼Œä½†ä¹Ÿä¼šå¢åŠ åˆ é™¤ä½œä¸šè®°å½•å¯¹ç³»ç»Ÿçš„å½±å“ã€‚ ç‚¹å‡» Save ä¿å­˜æ•°æ®åº“è®°å½•åˆ†åŒºè®¾ç½®ã€‚ç»“æœï¼š åˆ†åŒºè¡¨å…·æœ‰æ•°å­—åç¼€ï¼ˆ_v000, _v001, â€¦ _vnnnï¼‰ã€‚æœ€æ–°çš„è¡¨å…·æœ‰æœ€å¤§çš„ç¼–å·ã€‚å¤‡ä»½å’Œæ¢å¤ RTM ç³»ç»Ÿè®¾ç½®RTM å°†ç³»ç»Ÿå’Œå›¾è¡¨è®¾ç½®ä¿å­˜åœ¨ Cacti æ•°æ®åº“ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ RTM æ§åˆ¶å°å¤‡ä»½ Cacti æ•°æ®åº“çš„æ“ä½œï¼Œä»¥ä¾¿ç¨åæ¢å¤ RTM ç³»ç»Ÿã€‚ ç”¨é€”ï¼š å¦‚æœæ‚¨æ›´æ”¹äº† RTM ä¸»æœºä¸­çš„é…ç½®å¹¶å¸Œæœ›æ¢å¤ï¼ˆä¾‹å¦‚ï¼Œé”™è¯¯å¯¼å…¥ Cacti æ¨¡æ¿å¯¼è‡´å›¾è¡¨ä¸å†æ›´æ–°ï¼Œæˆ–æ„å¤–ä» RTM æ§åˆ¶å°åˆ é™¤äº†é›†ç¾¤ï¼‰ï¼Œå¯ä»¥æ¢å¤ RTM ç³»ç»Ÿå’Œå›¾è¡¨è®¾ç½®ï¼Œå¹¶æ¢å¤åˆ°åŸå§‹çš„å¤‡ä»½è®¾ç½®ã€‚ æ¢å¤å‘½ä»¤ç¤ºä¾‹ï¼š mysql cacti &lt; backup/*.sql é™åˆ¶ï¼š RTM æ§åˆ¶å°æ— æ³•æ¢å¤ RTM ç›‘æ§çš„é›†ç¾¤çš„æ‰€æœ‰ä½œä¸šæ€§èƒ½æ•°æ®ã€‚RTM ä¸­ä»»ä½•æ­¤ç±»æ•°æ®éƒ½å¯èƒ½å·²è¿‡æ—¶ã€‚ å¦‚æœè¦å®Œå…¨å¤‡ä»½æ•´ä¸ªæ•°æ®åº“ï¼Œå¿…é¡»ä½¿ç”¨ mysqldump å‘½ä»¤ã€‚ å¦‚æœç»å¸¸ä½¿ç”¨ mysqldump å‘½ä»¤ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨ MyISAM è¡¨ç»“æ„ã€‚ å¤‡ä»½å†…å®¹ï¼š lsfpollerd.conf: åŒ…å«å‡­æ®çš„æ•°æ®åº“æ–‡ä»¶ã€‚ lsf.conf: ä¸æ¯ä¸ªé›†ç¾¤å…³è”çš„ lsf.conf æ–‡ä»¶ã€‚ ego.conf (ä»…é€‚ç”¨äº LSF 8.0 é›†ç¾¤): ä¸æ¯ä¸ªé›†ç¾¤å…³è”çš„ ego.conf æ–‡ä»¶ã€‚ server.key å’Œ server.crt: ç”¨ä½œ Advocate çš„ httpd è®¤è¯æ–‡ä»¶ã€‚ é™¤äº†ä»¥ä¸‹å¤§å‹è¡¨å¤–ï¼Œå…¶å®ƒCacti æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨éƒ½å¤‡ä»½ï¼š GRID_ARRAYS, GRID_ARRAYS_FINISHED GRID_JOB_DAILY_STATS, GRID_JOB_INTERVAL_STATS GRID_JOBS, GRID_JOBS_FINISHED GRID_JOBS_JOBHOSTS, GRID_JOBS_JOBHOSTS_FINISHED GRID_JOBS_MEMPERF GRID_JOBS_PENDREASONS, GRID_JOBS_PENDREASONS_FINISHED GRID_JOBS_REQHOSTS, GRID_JOBS_REQHOSTS_FINISHED GRID_JOBS_RUSAGE LIC_DAILY_STATS, LIC_FLEXLM_LOG, LIC_INTERVAL_STATS, LIC_LUM_EVENTS POLLER_OUTPUT, POLLER_OUTPUT_BOOST SYSLOG, SYSLOG_REMOVED æ“ä½œï¼š ä½¿ç”¨ RTM æ§åˆ¶å°å¤‡ä»½ RTM ç³»ç»Ÿ å¯ç”¨è‡ªåŠ¨æ•°æ®å½’æ¡£ ä½¿ç”¨ RTM æ§åˆ¶å°å¤‡ä»½ RTM ç³»ç»Ÿå…³äºæ­¤ä»»åŠ¡ï¼š åœ¨å‡çº§åˆ°è¾ƒæ–°ç‰ˆæœ¬çš„ RTM ä¹‹å‰ï¼Œå¿…é¡»é¦–å…ˆå¤‡ä»½ç°æœ‰çš„ Cacti æ•°æ®åº“ã€‚åœ¨è®¡åˆ’çš„æœåŠ¡å™¨ç»´æŠ¤æœŸé—´å¤‡ä»½ Cacti æ•°æ®åº“éå¸¸é‡è¦ï¼Œæ‚¨å¯ä»¥æ¢å¤åˆ°ä»¥å‰çš„ RTM ç³»ç»Ÿå’Œå›¾è¡¨è®¾ç½®ã€‚æ­¥éª¤ï¼š è½¬åˆ° Console &gt; Configuration &gt; RTM Settingsã€‚ ç‚¹å‡» Maint æ ‡ç­¾é¡µã€‚ å‘ä¸‹æ»šåŠ¨åˆ°é¡µé¢çš„ Database Backups éƒ¨åˆ†ï¼Œå¹¶ç¡®ä¿è®¾ç½®äº†ä»¥ä¸‹é€‰é¡¹ï¼š Backup Cacti Database: é€‰ä¸­æ­¤æ¡†ä»¥ç¡®ä¿åœ¨è¿è¡Œç»´æŠ¤è„šæœ¬æ—¶å¤‡ä»½ Cacti æ•°æ®åº“ã€‚ Backup Schedule: æŒ‡å®šå¤‡ä»½è®¡åˆ’ä¸º Daily æˆ– Weeklyã€‚ Weekly Backup Day: å¦‚æœé€‰æ‹© Weekly å¤‡ä»½ï¼Œè¯·æŒ‡å®šè¦è¿›è¡Œå¤‡ä»½çš„æ—¥æœŸã€‚ Backup Generations: æŒ‡å®šè¦ç»´æŠ¤çš„å¤‡ä»½æ–‡ä»¶å‰¯æœ¬æ•°ã€‚ Database Backup Location: å¦‚æœå¤‡ä»½ç›®å½•å°šä¸å­˜åœ¨ï¼Œè¯·æä¾›ä½ç½®ã€‚ï¼ˆå¦‚æœç›®å½•å­˜åœ¨ï¼Œåˆ™åœ¨ç›®å½•å­—æ®µä¸‹æ–¹æ˜¾ç¤ºæ¶ˆæ¯â€œ[OK: DIR FOUND]â€ï¼‰ã€‚ Post Backup Command: æä¾›åœ¨ Cacti æ•°æ®åº“å’Œè®¡åˆ’å¤‡ä»½å®Œæˆåè¿è¡Œçš„å¤‡ä»½åè„šæœ¬ã€‚ç¡®ä¿æ–‡ä»¶å¯¹ RTM æœåŠ¡å¸æˆ·æ—¢å¯æ‰§è¡Œåˆå¯è¯»ã€‚ åœ¨ Utilities éƒ¨åˆ†ï¼Œç‚¹å‡» RTM Utilitiesã€‚ åœ¨ RTM Utilities é¡µé¢çš„ Database Administration éƒ¨åˆ†ï¼Œç‚¹å‡» Force Cacti Backupã€‚é¡µé¢åº•éƒ¨çš„ Backup Files è¡¨å°†æ›´æ–°ï¼Œæ˜¾ç¤ºæ–°åˆ›å»ºçš„å¤‡ä»½æ–‡ä»¶ã€ä¿®æ”¹æ—¥æœŸå’Œæ–‡ä»¶å¤§å°ã€‚ ç‚¹å‡»å¤‡ä»½æ–‡ä»¶åå°†å…¶ä¸‹è½½åˆ°æŒ‡å®šä½ç½®ã€‚ ä¸‹è½½å®Œæˆåï¼ŒéªŒè¯ .tgz æ–‡ä»¶åŒ…å«å¿…è¦çš„ SQL æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ (rtm.lic, lsfpollerd.conf, server.crt, server.key) ä»¥åŠæ¯ä¸ªé›†ç¾¤çš„ lsf.conf å’Œ ego.confï¼ˆå¦‚æœé€‚ç”¨ï¼‰ã€‚å¯ç”¨è‡ªåŠ¨æ•°æ®å½’æ¡£å…³äºæ­¤ä»»åŠ¡ï¼š å¯ç”¨æ•°æ®å½’æ¡£å¯åœ¨è®¡åˆ’çš„æœåŠ¡å™¨ç»´æŠ¤æœŸé—´å°†ç°æœ‰çš„ä½œä¸šå’Œä½œä¸šç›¸å…³æ•°æ®ä¿å­˜åˆ°å½’æ¡£æ•°æ®åº“ã€‚æ­¥éª¤ï¼š ç‚¹å‡» Console æ ‡ç­¾é¡µã€‚ åœ¨ Configuration éƒ¨åˆ†ï¼Œç‚¹å‡» RTM Settingsã€‚ ç‚¹å‡» Archiving æ ‡ç­¾é¡µã€‚ è¦å¯ç”¨ç°æœ‰ä½œä¸šå’Œä½œä¸šç›¸å…³æ•°æ®çš„å½’æ¡£ï¼Œè¯·é€‰ä¸­ Enable Data Archiving å¤é€‰æ¡†å¹¶æŒ‡å®šæ•°æ®å½’æ¡£è®¾ç½®ã€‚ ç‚¹å‡» Save ä¿å­˜æ•°æ®å½’æ¡£è®¾ç½®ã€‚æ‰‹åŠ¨å¤‡ä»½æˆ–æ¢å¤ RTM æ•°æ®åº“ (æ—§ç‰ˆæœ¬)å¯¹äºè¾ƒæ—§ç‰ˆæœ¬çš„ RTMï¼Œæ‚¨å¯èƒ½éœ€è¦æ‰‹åŠ¨å¤‡ä»½æ•°æ®åº“ã€‚æ­¥éª¤åŒ…æ‹¬ï¼šå¤‡ä»½ç½‘ç«™ã€å¤‡ä»½æ•°æ®åº“ã€å¤‡ä»½ RTM è½®è¯¢å™¨ï¼Œç„¶åå‡çº§ Cacti ç½‘ç«™å’Œ Grid æ’ä»¶ã€å‡çº§æ•°æ®åº“ã€å‡çº§ RTM è½®è¯¢å™¨ã€‚ å¤‡ä»½ç½‘ç«™ï¼š å¤‡ä»½ Cacti ç›®å½•ï¼Œé€šå¸¸æ’é™¤æ—¥å¿—å’Œ rra ç›®å½•ã€‚éœ€è¦å¤‡ä»½ include/global.phpï¼ˆåŒ…å«æ•°æ®åº“è¿æ¥å’Œæ’ä»¶åˆ—è¡¨ï¼‰ã€‚å¦‚æœä¿®æ”¹äº†é»˜è®¤ RTM è½®è¯¢å™¨è„šæœ¬æˆ–æ•°æ®æŸ¥è¯¢ï¼Œåˆ™åˆ†åˆ«å¤‡ä»½ scripts å’Œ resource ç›®å½•ã€‚ å¤‡ä»½æ•°æ®åº“ï¼š RTM æä¾› database_backup.php å·¥å…·å¤‡ä»½æ•°æ®åº“æ¨¡å¼å’Œé‡è¦çš„ Cacti/RTM é…ç½®è¡¨ï¼Œä½†ä¸åŒ…æ‹¬å¤§å‹ä½œä¸šå†å²è¡¨ã€‚åœ¨ Console &gt; Configuration &gt; RTM Settings &gt; Maint æŒ‡å®šå¤‡ä»½ä½ç½®åï¼Œè¿è¡Œ php -q database_backup.phpã€‚ å¤‡ä»½ RTM è½®è¯¢å™¨ï¼š å¤‡ä»½ RTM è½®è¯¢å™¨ç›®å½•ï¼ˆä¾‹å¦‚ /opt/rtm æˆ– /usr/local/grid ä¸‹çš„ bin, lic, lsf* ç›®å½•ï¼‰ã€‚ å‡çº§ Cacti ç½‘ç«™å’Œ Grid æ’ä»¶ï¼š æ³¨æ„æ–‡ä»¶æ‰€æœ‰æƒï¼ˆé€šå¸¸æ˜¯ cacti:cactiï¼‰ã€‚å°†å‡çº§åŒ…ä¸­çš„ cacti ç›®å½•å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®ï¼Œå¹¶ç¡®ä¿ config.php æ–‡ä»¶ä¸å˜ã€‚ å‡çº§æ•°æ®åº“ï¼š è¿è¡Œ php -q database_upgrade.php æ¥æ›´æ–°æ•°æ®åº“æ¨¡å¼ä»¥é€‚åº”æ–°åŠŸèƒ½ã€‚ å‡çº§ RTM è½®è¯¢å™¨ï¼š éªŒè¯æ–‡ä»¶æƒé™ã€‚å°†å‡çº§åŒ…ä¸­çš„ poller ç›®å½•å¤åˆ¶åˆ°è½®è¯¢å™¨å®‰è£…ä½ç½®å¹¶è®¾ç½®æ­£ç¡®çš„æ‰€æœ‰æƒã€‚è®¾ç½®è¿œç¨‹æ•°æ®åº“ä¸»æœºå‰ææ¡ä»¶ï¼š æ•°æ®åº“æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ä¸º 3306ï¼‰åœ¨é˜²ç«å¢™ä¸Šå·²æ‰“å¼€ã€‚ ç›®æ ‡æ•°æ®åº“ä¸»æœºæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š è¿è¡Œå—æ”¯æŒçš„æ“ä½œç³»ç»Ÿã€‚ è‡³å°‘ 4 GB RAM å’Œ 40 GB ç¡¬ç›˜ç©ºé—´ã€‚ å·²å®‰è£…æ•°æ®åº“ã€‚ æ•°æ®åº“ä¸»æœºåå’Œ RTM ä¸»æœºåå¯ä»¥ç›¸äº’è§£æã€‚ å…³äºæ­¤ä»»åŠ¡ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼ŒRTM ä¸»æœºå……å½“æ•°æ®åº“ä¸»æœºã€‚æ‚¨å¯ä»¥é€‰æ‹©å°†æ•°æ®åº“è®¾ç½®åœ¨å¦ä¸€å°ä¸»æœºä¸Šï¼Œä»¥åˆ†æ•£ RTM æ´»åŠ¨æˆ–ä½¿ç”¨æ›´ä¼˜åŒ–çš„æ•°æ®åº“ä¸»æœºã€‚ é‡è¦æç¤ºï¼š è¯·åœ¨ RTM å®‰è£…çš„åˆå§‹è®¾ç½®æœŸé—´æ‰§è¡Œè¿™äº›æ­¥éª¤ã€‚å¦‚æœåœ¨ RTM è¿è¡Œä¸€æ®µæ—¶é—´åæ‰§è¡Œè¿™äº›æ­¥éª¤ï¼Œæ•°æ®åº“ä¼ è¾“åˆ°å¦ä¸€å°ä¸»æœºå¯èƒ½éœ€è¦ç›¸å½“é•¿çš„æ—¶é—´ï¼Œåœ¨æ­¤æœŸé—´æ•°æ®åº“å°†åœæœºã€‚æ­¥éª¤ï¼š æ‰‹åŠ¨å¤‡ä»½ç°æœ‰ RTM æ•°æ®åº“ï¼š ä½¿ç”¨ RTM æ§åˆ¶å°å¤‡ä»½ (Console &gt; Configuration &gt; RTM Settings &gt; Maint å’Œ Console &gt; Utilities &gt; RTM Utilities &gt; Force Cacti Backup)ã€‚ å‡†å¤‡ RTM ä¸»æœºè¿›è¡Œæ•°æ®åº“è½¬æ¢ï¼š a. ç™»å½• RTM ä¸»æœºã€‚ b. åœæ­¢æ‰€æœ‰åŸºæœ¬æœåŠ¡ï¼šlsfpollerd, licpollerd, crondï¼Œå¹¶ç¦ç”¨ mysqld æœåŠ¡ã€‚ c. åˆ›å»º SQL æ•°æ®åº“å†…å­˜è½¬å‚¨ï¼š ```sqlmysqldump cacti &gt; cactidump.sqlmysqldump mysql time_zone_name &gt; timezone.sql``` â€‹ è®°å½•å½“å‰ç›®å½•ï¼Œä»¥ä¾¿å°† SQL è½¬å‚¨æ–‡ä»¶å¤åˆ¶åˆ°æ–°çš„æ•°æ®åº“ä¸»æœºã€‚ d. ä¿®æ”¹ RTM é…ç½®æ–‡ä»¶ä»¥å¼•ç”¨æ–°çš„æ•°æ®åº“ä¸»æœºã€‚åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­ï¼Œå°† localhost æ›´æ”¹ä¸ºæ–°çš„æ•°æ®åº“ä¸»æœºåï¼Œæˆ–å°† 127.0.0.1 æ›´æ”¹ä¸ºæ–°çš„æ•°æ®åº“ IP åœ°å€ï¼š /RTM_TOP/cacti/include/config.php/RTM_TOP/rtm/lsf&lt;version_number&gt;/bin/grid.conf/RTM_TOP/rtm/etc/lsfpollerd.conf/etc/rsyslog.conf/RTM_TOP/cacti/plugins/syslog/config.php/RTM_TOP/rtm/etc/lic.conf e. æ›´æ–° RTM ç®¡ç†ä¸»æœºä¸Šçš„ ODBC é…ç½®æ–‡ä»¶ (/etc/odbc.ini)ï¼ŒæŒ‡å®šæ–°çš„è¿œç¨‹æ•°æ®åº“æœåŠ¡å™¨ä¿¡æ¯ï¼ˆServer, Database, UID, PASSWORD, Port ç­‰ï¼‰ã€‚ä½¿ç”¨ odbcinst -j æŸ¥æ‰¾æ–‡ä»¶ä½ç½®ã€‚ è®¾ç½®æ–°çš„æ•°æ®åº“ä¸»æœº a. ç™»å½•æ–°çš„æ•°æ®åº“ä¸»æœºã€‚ b. å®‰è£…å¹¶å¯åŠ¨æ•°æ®åº“æœåŠ¡ï¼ˆä¾‹å¦‚ MySQL/MariaDBï¼‰ã€‚ c. åˆ›å»ºæ–°çš„ RTM æ•°æ®åº“ï¼šmysqladmin -u root create cactiã€‚ d. åˆ†é…é€‚å½“çš„æ•°æ®åº“æƒé™ï¼Œå…è®¸ RTM ä¸»æœºè¿æ¥ï¼š ```sqlGRANT ALL ON cacti.* TO cacti@&lt;rtm_host_ip&gt; IDENTIFIED BY 'admin';GRANT SELECT ON mysql.time_zone_name TO cacti@&lt;rtm_host_ip&gt; IDENTIFIED BY 'admin';``` e. å¤‡ä»½åŸå§‹ my.cnfï¼Œå¹¶å°† RTM ä¸»æœº &lt;RTM_TOP&gt;/rtm/share ä¸­çš„ my.cnf.*.innodb æ–‡ä»¶å¤åˆ¶åˆ°æ–°æ•°æ®åº“ä¸»æœºçš„ /etc ç›®å½•ä¸‹ã€‚ f. å°† SQL æ•°æ®åº“è½¬å‚¨æ–‡ä»¶ä» RTM ä¸»æœºå¤åˆ¶åˆ°æ–°çš„æ•°æ®åº“ä¸»æœºã€‚ g. å°† SQL æ•°æ®åº“è½¬å‚¨æ–‡ä»¶å¯¼å…¥æ–°æ•°æ®åº“ï¼š ```bashmysql cacti &lt; /tmp/cactidump.sqlmysql mysql &lt; /tmp/timezone.sql``` h. é‡å¯æ•°æ®åº“æœåŠ¡ã€‚ é‡å¯æœåŠ¡å¹¶éªŒè¯ï¼š a. ç™»å½• RTM ä¸»æœºã€‚ b. é‡å¯åŸºæœ¬æœåŠ¡ï¼šcrond, rsyslog, lsfpollerd, licpollerdã€‚ c. éªŒè¯æ•°æ®åº“è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Œæ£€æŸ¥ lsfpollerd å’Œ licpollerd çš„çŠ¶æ€ã€‚å¦‚æœå®ƒä»¬æ­£åœ¨è¿è¡Œï¼Œåˆ™æ•°æ®åº“è®¾ç½®æ­£ç¡®ã€‚ " }, { "title": "ç½‘é¡µæ€»æ˜¯æ˜¾ç¤ºæ—§å†…å®¹ï¼Œæ— æ³•åŠ è½½åˆ°æ–°å†…å®¹", "url": "/posts/purge-web-cache/", "categories": "icenv", "tags": "web", "date": "2025-04-11 16:00:00 +0000", "snippet": "é—®é¢˜Chromeæµè§ˆå™¨ï¼Œç”¨â€œæ­£å¸¸æ¨¡å¼â€ vs. â€œéšç§æ¨¡å¼â€æ‰“å¼€åŒä¸€ä¸ªurlç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°â€œæ­£å¸¸æ¨¡å¼â€ç¼ºå°‘äº†æœ€æ–°å‘å¸ƒçš„å†…å®¹ã€‚æ€€ç–‘æ˜¯ç¼“å­˜é—®é¢˜å¯¼è‡´ï¼Œäºæ˜¯å°†ç½‘ç»œæ–­å¼€å¹¶åˆ·æ–°ã€‚å‘ç°â€œæ­£å¸¸æ¨¡å¼â€æ‰“å¼€çš„ä¾ç„¶æœ‰å†…å®¹ï¼Œå› æ­¤å¯ä»¥åˆ¤æ–­æ˜¯ç¼“å­˜å¯¼è‡´ã€‚åˆ†æDisable Cacheåœ¨å¼€å‘è€…æ¨¡å¼ä¸‹ï¼Œå‹¾é€‰Disable cacheå¹¶åˆ·æ–°ï¼Œä¾ç„¶æœ‰å†…å®¹æä¾›ã€‚Unregister Service Workeråœ¨å¼€å‘è€…æ¨¡å¼ä¸‹ï¼Œç‚¹å¼€...", "content": "é—®é¢˜Chromeæµè§ˆå™¨ï¼Œç”¨â€œæ­£å¸¸æ¨¡å¼â€ vs. â€œéšç§æ¨¡å¼â€æ‰“å¼€åŒä¸€ä¸ªurlç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°â€œæ­£å¸¸æ¨¡å¼â€ç¼ºå°‘äº†æœ€æ–°å‘å¸ƒçš„å†…å®¹ã€‚æ€€ç–‘æ˜¯ç¼“å­˜é—®é¢˜å¯¼è‡´ï¼Œäºæ˜¯å°†ç½‘ç»œæ–­å¼€å¹¶åˆ·æ–°ã€‚å‘ç°â€œæ­£å¸¸æ¨¡å¼â€æ‰“å¼€çš„ä¾ç„¶æœ‰å†…å®¹ï¼Œå› æ­¤å¯ä»¥åˆ¤æ–­æ˜¯ç¼“å­˜å¯¼è‡´ã€‚åˆ†æDisable Cacheåœ¨å¼€å‘è€…æ¨¡å¼ä¸‹ï¼Œå‹¾é€‰Disable cacheå¹¶åˆ·æ–°ï¼Œä¾ç„¶æœ‰å†…å®¹æä¾›ã€‚Unregister Service Workeråœ¨å¼€å‘è€…æ¨¡å¼ä¸‹ï¼Œç‚¹å¼€Applicationï¼Œå‹¾é€‰ Update on reload Bypass for networkç„¶åç‚¹å‡»Unregisterï¼Œæ˜¾ç¤ºæˆåŠŸåˆ é™¤ï¼Œå†åˆ·æ–°ç½‘é¡µå³å¯æŸ¥çœ‹åˆ°æœ€æ–°å†…å®¹ã€‚æ€»ç»“Service Worker æ˜¯ä¸€ç§è¿è¡Œåœ¨æµè§ˆå™¨èƒŒåçš„ã€ä¸ç½‘é¡µåˆ†ç¦»çš„ ç‹¬ç«‹çº¿ç¨‹ï¼Œå®ƒèµ‹äºˆ Web åº”ç”¨ä¸€äº›åŸæœ¬åªæœ‰åŸç”Ÿåº”ç”¨æ‰èƒ½åšåˆ°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šä¸€ã€ä¸»è¦ç”¨é€”1. ç¦»çº¿è®¿é—®èƒ½åŠ›ï¼ˆç¦»çº¿ç¼“å­˜ï¼‰ Service Worker å¯ä»¥æ‹¦æˆªå¹¶ç¼“å­˜ç½‘é¡µè¯·æ±‚ï¼Œä½¿ç”¨æˆ·å³ä½¿æ–­ç½‘ï¼Œä¹Ÿèƒ½è®¿é—®ä¹‹å‰ç¼“å­˜çš„å†…å®¹ã€‚ å¸¸ç”¨äº PWAï¼ˆProgressive Web Appï¼‰ä¸­ï¼Œå®ç°â€œæ–­ç½‘å¯ç”¨â€ã€‚2. ç½‘ç»œè¯·æ±‚æ‹¦æˆªä¸æ§åˆ¶ï¼ˆä»£ç†ä½œç”¨ï¼‰ å¯æ‹¦æˆªé¡µé¢å‘å‡ºçš„ HTTP è¯·æ±‚ï¼ˆfetch è¯·æ±‚ï¼‰ï¼Œå†³å®šæ˜¯å¦ä»ç¼“å­˜ã€ç½‘ç»œæˆ–è‡ªå®šä¹‰æ–¹å¼è¿”å›å“åº”ã€‚ å…è®¸ä½ åšâ€œæŒ‰éœ€æ›´æ–°â€ã€â€œç¼“å­˜ä¼˜å…ˆâ€ã€â€œç½‘ç»œä¼˜å…ˆâ€ç­‰ç­–ç•¥ã€‚3. åå°æ¨é€ï¼ˆPush Notificationï¼‰ æ”¯æŒ Web Push Notificationï¼Œå³ä¾¿é¡µé¢æœªæ‰“å¼€ï¼Œä»å¯æ¥æ”¶æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯ï¼ˆå‰ææ˜¯ç”¨æˆ·æˆæƒï¼‰ã€‚4. åå°åŒæ­¥ï¼ˆBackground Syncï¼‰ å½“ç”¨æˆ·åœ¨ç¦»çº¿çŠ¶æ€è¿›è¡Œæ“ä½œï¼ˆå¦‚å‘é€æ¶ˆæ¯ã€å¡«å†™è¡¨å•ï¼‰ï¼Œå¯åœ¨é‡æ–°è”ç½‘åè‡ªåŠ¨åŒæ­¥æ•°æ®ã€‚5. æ€§èƒ½ä¼˜åŒ– å‡å°‘å¯¹æœåŠ¡å™¨çš„ä¾èµ–ï¼ˆå¦‚å›¾ç‰‡ã€æœ¬åœ° JS/CSS é™æ€èµ„æºå¯ç¼“å­˜ï¼‰ï¼Œæå‡è®¿é—®é€Ÿåº¦ã€‚äºŒã€å·¥ä½œæœºåˆ¶æ¦‚è§ˆ+--------------------+ +---------------------------+| é¡µé¢ï¼ˆUIï¼‰ | &lt;----&gt; | Service Workerï¼ˆçº¿ç¨‹ï¼‰ |+--------------------+ +---------------------------+ | |ï¼ˆç½‘ç»œè¯·æ±‚ï¼‰ v +-----------------+ | ç½‘ç»œæˆ–ç¼“å­˜å“åº” | +-----------------+ ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š Service Worker éœ€æ˜¾å¼æ³¨å†Œå’Œæ¿€æ´»ï¼› ä½œç”¨åŸŸéš”ç¦»ï¼š ä¸€ä¸ª Service Worker åªèƒ½æ§åˆ¶æ³¨å†Œå®ƒçš„è·¯å¾„èŒƒå›´å†…çš„é¡µé¢ï¼› å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼š ä½¿ç”¨ Promise å’Œäº‹ä»¶ç›‘å¬æœºåˆ¶ï¼ˆå¦‚ fetchã€installã€activateï¼‰ã€‚ä¸‰ã€å…¸å‹åº”ç”¨ç¤ºæ„ä»¥ç¦»çº¿ç½‘é¡µä¸ºä¾‹ï¼š// ç®€åŒ–ç‰ˆæœ¬self.addEventListener('install', (event) =&gt; { event.waitUntil( caches.open('v1').then(cache =&gt; cache.addAll(['/index.html', '/styles.css', '/logo.png']) ) );});self.addEventListener('fetch', (event) =&gt; { event.respondWith( caches.match(event.request).then(response =&gt; response || fetch(event.request) ) );});è¿™æ®µä»£ç åšäº†ä»€ä¹ˆï¼Ÿ ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ç¼“å­˜æ ¸å¿ƒèµ„æºï¼› åç»­è®¿é—®æ—¶ï¼Œè‹¥æ‰¾ä¸åˆ°ç½‘ç»œï¼Œå°±ä»ç¼“å­˜è¿”å›èµ„æºï¼Œå®ç°â€œæ–­ç½‘å¯ç”¨â€ã€‚å››ã€Service Worker ä¸æµè§ˆå™¨ç¼“å­˜çš„åŒºåˆ« ç‰¹æ€§ æµè§ˆå™¨ HTTP ç¼“å­˜ Service Worker æ§åˆ¶ç²’åº¦ HTTP å“åº”å¤´æ§åˆ¶ JS è„šæœ¬å¯æ§ï¼Œç­–ç•¥çµæ´» ç¦»çº¿è®¿é—®æ”¯æŒ å—é™ï¼ˆå–å†³äºç¼“å­˜è§„åˆ™ï¼‰ å®Œæ•´æ”¯æŒ æ˜¯å¦å¯æ‹¦æˆªè¯·æ±‚ å¦ æ˜¯ï¼ˆfetch æ‹¦æˆªï¼‰ ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ æ— ï¼Œè‡ªåŠ¨è¿‡æœŸ æœ‰ï¼Œéœ€å®‰è£…ã€æ¿€æ´»ã€æ›´æ–° æ˜¯å¦æ”¯æŒæ¨é€é€šçŸ¥ å¦ æ˜¯ï¼ˆç»“åˆ Push APIï¼‰ äº”ã€ä¸ºä»€ä¹ˆè¦è°¨æ…ä½¿ç”¨æˆ–ç®¡ç† Service Workerï¼Ÿ ç¼“å­˜æ›´æ–°ä¸åŠæ—¶å¯èƒ½å¯¼è‡´â€œå†…å®¹æ—§ã€æ‰“ä¸å¼€ã€å¡é¡µé¢â€ï¼› å¼€å‘è°ƒè¯•æ—¶å®¹æ˜“è¢«ç¼“å­˜å¹²æ‰°ï¼› å®‰å…¨æ€§è¦æ±‚é«˜ï¼ˆåªèƒ½åœ¨ HTTPS ä¸‹è¿è¡Œï¼‰ï¼› å¯¹è°ƒè¯•è€…æ¥è¯´ï¼Œå¦‚æœä¸ç†Ÿæ‚‰å…¶è¡Œä¸ºï¼Œä¼šå¯¼è‡´â€œæ–­ç½‘è¿˜èƒ½è®¿é—®ç½‘é¡µâ€çš„é”™è§‰ã€‚å¦‚æœåœ¨éƒ¨ç½²è‡ªå·±çš„ç½‘ç«™æ—¶å¯ç”¨äº† PWA æˆ–ç±»ä¼¼ç¦»çº¿ç¼“å­˜åŠŸèƒ½ï¼Œä¹Ÿå»ºè®®è®¾è®¡å¥½ç¼“å­˜æ›´æ–°ç­–ç•¥ï¼ˆå¦‚ stale-while-revalidate æˆ– version-based cache bustingï¼‰ï¼Œé¿å…ç”¨æˆ·åŠ è½½æ—§å†…å®¹ã€‚" }, { "title": "ChatGPT improve memory", "url": "/posts/chatgpr-improve-memory/", "categories": "icenv", "tags": "gpt", "date": "2025-04-10 16:00:00 +0000", "snippet": "", "content": "" }, { "title": "SVN Directory rename failed", "url": "/posts/svn-directory-rename-failed/", "categories": "icenv", "tags": "svn", "date": "2025-04-07 16:00:00 +0000", "snippet": "å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨Repo-browseré‡Œä¿®æ”¹å¥½ï¼Œç„¶ååœ¨æœ¬åœ°updateå°±å¯ä»¥äº†ã€‚", "content": "å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨Repo-browseré‡Œä¿®æ”¹å¥½ï¼Œç„¶ååœ¨æœ¬åœ°updateå°±å¯ä»¥äº†ã€‚" }, { "title": "VSCode Agent Mode is Rolling Out to All VS Code Users", "url": "/posts/vscode-agent-mode/", "categories": "icenv", "tags": "ai", "date": "2025-04-06 16:00:00 +0000", "snippet": "ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œæˆ‘æœ€è¿‘åœ¨ Visual Studio Codeï¼ˆVSCodeï¼‰ä¸­ä½“éªŒäº† GitHub Copilot çš„ Agent æ¨¡å¼ï¼Œæ”¶è·é¢‡ä¸°ã€‚å¯ç”¨ Agent æ¨¡å¼é¦–å…ˆï¼Œæˆ‘ç¡®ä¿ä½¿ç”¨çš„æ˜¯ VSCode Insiders ç‰ˆæœ¬ï¼Œå¹¶å®‰è£…äº† GitHub Copilot Chat çš„é¢„å‘å¸ƒæ‰©å±•ã€‚åœ¨è®¾ç½®ä¸­ï¼Œæˆ‘å¯ç”¨äº† Copilot çš„ Agent æ¨¡å¼ã€‚ä½¿ç”¨ä½“éªŒåœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒAgent æ¨¡å¼è¡¨...", "content": "ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œæˆ‘æœ€è¿‘åœ¨ Visual Studio Codeï¼ˆVSCodeï¼‰ä¸­ä½“éªŒäº† GitHub Copilot çš„ Agent æ¨¡å¼ï¼Œæ”¶è·é¢‡ä¸°ã€‚å¯ç”¨ Agent æ¨¡å¼é¦–å…ˆï¼Œæˆ‘ç¡®ä¿ä½¿ç”¨çš„æ˜¯ VSCode Insiders ç‰ˆæœ¬ï¼Œå¹¶å®‰è£…äº† GitHub Copilot Chat çš„é¢„å‘å¸ƒæ‰©å±•ã€‚åœ¨è®¾ç½®ä¸­ï¼Œæˆ‘å¯ç”¨äº† Copilot çš„ Agent æ¨¡å¼ã€‚ä½¿ç”¨ä½“éªŒåœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒAgent æ¨¡å¼è¡¨ç°å‡ºè‰²ã€‚å®ƒèƒ½å¤Ÿæ ¹æ®æˆ‘çš„æŒ‡ä»¤æ‰§è¡Œå¤šæ­¥éª¤çš„ç¼–ç ä»»åŠ¡ï¼Œä¾‹å¦‚åˆ†æä»£ç åº“ã€é˜…è¯»ç›¸å…³æ–‡ä»¶ã€æå‡ºä¿®æ”¹å»ºè®®ã€æ‰§è¡Œç»ˆç«¯å‘½ä»¤å’Œè¿è¡Œæµ‹è¯•ã€‚è¿™ä¸€è¿‡ç¨‹ä¸­ï¼ŒAgent æ¨¡å¼ä¼šå“åº”ç¼–è¯‘å’Œ lint é”™è¯¯ï¼Œç›‘æ§ç»ˆç«¯å’Œæµ‹è¯•è¾“å‡ºï¼Œå¹¶åœ¨å¾ªç¯ä¸­è‡ªåŠ¨ä¿®æ­£ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆã€‚æˆ‘å°è¯•äº†è®© Agent æ¨¡å¼åœ¨å¤šä¸ªæ–‡ä»¶ä¹‹é—´è¿›è¡Œé‡æ„ï¼Œå¹¶ç”Ÿæˆå•å…ƒæµ‹è¯•ã€‚å®ƒèƒ½å¤Ÿè‡ªä¸»ç¡®å®šä¸ä»»åŠ¡ç›¸å…³çš„ä¸Šä¸‹æ–‡å’Œéœ€è¦ç¼–è¾‘çš„æ–‡ä»¶ï¼Œæå‡ºä»£ç ä¿®æ”¹å’Œç»ˆç«¯å‘½ä»¤ï¼Œå¹¶ç›‘æ§è¾“å‡ºçš„æ­£ç¡®æ€§ï¼Œå¾ªç¯è¿­ä»£ç›´åˆ°ä»»åŠ¡å®Œæˆã€‚è¿™ç§è‡ªä¸»æ€§å¤§å¤§æé«˜äº†æˆ‘çš„ç¼–ç æ•ˆç‡ã€‚æ³¨æ„äº‹é¡¹åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°å¯¹äºå¤§å‹ä»£ç åº“ï¼ŒAgent æ¨¡å¼å¯èƒ½éœ€è¦æ›´å¤šæ—¶é—´æ¥å¤„ç†å¤æ‚ä»»åŠ¡ã€‚å› æ­¤ï¼Œå»ºè®®å°†å¤§å‹ä»»åŠ¡æ‹†åˆ†ä¸ºè¾ƒå°çš„å­ä»»åŠ¡ï¼Œé€ä¸€å¤„ç†ï¼Œä»¥è·å¾—æ›´å¥½çš„æ•ˆæœã€‚æ€»çš„æ¥è¯´ï¼ŒGitHub Copilot çš„ Agent æ¨¡å¼ä¸ºæˆ‘çš„å¼€å‘è¿‡ç¨‹å¸¦æ¥äº†æ˜¾è‘—çš„æå‡ã€‚å®ƒä¸ä»…èƒ½å¤Ÿè‡ªåŠ¨åŒ–å¤„ç†å¤æ‚çš„ç¼–ç ä»»åŠ¡ï¼Œè¿˜èƒ½æ ¹æ®ä¸Šä¸‹æ–‡æä¾›æ™ºèƒ½å»ºè®®ï¼Œæå¤§åœ°èŠ‚çœäº†æˆ‘çš„æ—¶é—´å’Œç²¾åŠ›ã€‚æˆ‘æœŸå¾…æœªæ¥å®ƒèƒ½åœ¨æ›´å¤šåœºæ™¯ä¸­å‘æŒ¥ä½œç”¨ã€‚" }, { "title": "Using GitHub Public Repo to Store Images", "url": "/posts/using-github-public-repo-to-store-images/", "categories": "icenv", "tags": "analog", "date": "2025-04-06 16:00:00 +0000", "snippet": "ä½¿ç”¨GitHubå…¬å…±ä»“åº“å­˜å‚¨å›¾ç‰‡åœ¨è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨GitHubå…¬å…±ä»“åº“æ¥å­˜å‚¨å›¾ç‰‡ï¼Œé…åˆTyporaç­‰ç¼–è¾‘å™¨ä½¿ç”¨ï¼Œæ–¹ä¾¿åœ¨å†™ä½œæ—¶ç›´æ¥æ’å…¥å›¾ç‰‡ã€‚1. åˆ›å»ºGitHubä»“åº“é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªGitHubå…¬å…±ä»“åº“ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š ç™»å½•GitHubè´¦å·ã€‚ ç‚¹å‡»å³ä¸Šè§’çš„ + æŒ‰é’®ï¼Œé€‰æ‹© New repository åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚ ä»“åº“åç§°å¯ä»¥éšæ„è®¾ç½®ï¼Œç¡®ä¿é€‰ä¸­ Pub...", "content": "ä½¿ç”¨GitHubå…¬å…±ä»“åº“å­˜å‚¨å›¾ç‰‡åœ¨è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨GitHubå…¬å…±ä»“åº“æ¥å­˜å‚¨å›¾ç‰‡ï¼Œé…åˆTyporaç­‰ç¼–è¾‘å™¨ä½¿ç”¨ï¼Œæ–¹ä¾¿åœ¨å†™ä½œæ—¶ç›´æ¥æ’å…¥å›¾ç‰‡ã€‚1. åˆ›å»ºGitHubä»“åº“é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªGitHubå…¬å…±ä»“åº“ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š ç™»å½•GitHubè´¦å·ã€‚ ç‚¹å‡»å³ä¸Šè§’çš„ + æŒ‰é’®ï¼Œé€‰æ‹© New repository åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚ ä»“åº“åç§°å¯ä»¥éšæ„è®¾ç½®ï¼Œç¡®ä¿é€‰ä¸­ Public é€‰é¡¹ã€‚ åˆ›å»ºå®Œæˆåï¼Œæ‚¨å°†çœ‹åˆ°è¯¥ä»“åº“çš„ä¸»é¡µã€‚2. åˆ›å»ºGitHub Tokenä¸ºäº†å®‰å…¨åœ°ä¸GitHubè¿›è¡Œäº¤äº’ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªGitHub Tokenã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š ç‚¹å‡»å³ä¸Šè§’çš„å¤´åƒï¼Œé€‰æ‹© Settingsã€‚ åœ¨å·¦ä¾§èœå•ä¸­ï¼Œç‚¹å‡» Developer settingsã€‚ é€‰æ‹© Personal access tokensï¼Œç„¶åç‚¹å‡» Fine-grained tokensã€‚ ç‚¹å‡» Generate new token æŒ‰é’®ï¼ŒæŒ‰ç…§æç¤ºå¡«å†™ã€‚ é€‰æ‹© repo æƒé™ï¼Œå¯ç”¨ Contents çš„è¯»å†™æƒé™ã€‚ é…ç½®å®Œæˆåï¼Œç‚¹å‡» Generate tokenã€‚ å¤åˆ¶ç”Ÿæˆçš„ tokenï¼Œå› ä¸ºè¿™æ˜¯å”¯ä¸€ä¸€æ¬¡å±•ç¤º token å†…å®¹ï¼Œåç»­æ— æ³•å†æŸ¥çœ‹ã€‚3. é…ç½®Typoraæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨Typoraä¸­è¿›è¡Œé…ç½®ï¼Œä»¥ä¾¿å°†å›¾ç‰‡ä¸Šä¼ åˆ°GitHubä»“åº“ã€‚ä»¥ Windows å¹³å°ä¸ºä¾‹ï¼Œå¦‚ä¸Šæ‰€ç¤ºï¼Œ æ‰“å¼€Typoraï¼Œç‚¹å‡»å³ä¸Šè§’çš„ Preferencesï¼Œè¿›å…¥è®¾ç½®é¡µé¢ã€‚ é€‰æ‹© å›¾ç‰‡ä¸Šä¼  ç›¸å…³è®¾ç½®ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š{ \"picBed\": { \"github\": { \"repo\": \"icinfra/icinfra-artifacts\", // æ›¿æ¢ä¸ºæ‚¨çš„GitHubä»“åº“å \"token\": \"your_token_here\", // å°†è¿™é‡Œçš„your_token_hereæ›¿æ¢ä¸ºæ‚¨åˆšåˆšç”Ÿæˆçš„token \"path\": \"img/\", // å›¾ç‰‡ä¸Šä¼ è‡³ä»“åº“ä¸­çš„è·¯å¾„ \"customUrl\": \"\", // å¯é€‰ï¼šè®¾ç½®è‡ªå®šä¹‰URLï¼Œé€šå¸¸ç•™ç©º \"branch\": \"master\" // é€‰æ‹©ä¸»åˆ†æ”¯ï¼ˆmasterï¼‰æˆ–å…¶ä»–åˆ†æ”¯ }, \"current\": \"github\", \"uploader\": \"github\" }, \"picgoPlugins\": {}} ç²˜è´´ç”Ÿæˆçš„tokenåˆ° \"token\": \"\" çš„ä½ç½®ã€‚å¦‚æœæ˜¯Macç”¨æˆ·ï¼Œåˆ™å¯ä»¥npm install -g picgovi ~/.picgo/config.jsonå®Œæˆè¿™äº›æ­¥éª¤åï¼Œæ‚¨çš„Typoraå°±ä¼šé…ç½®å¥½ï¼Œå¯ä»¥ç›´æ¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°GitHubã€‚4. ä½¿ç”¨æ–¹æ³•é…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥å¼€å§‹åœ¨Typoraä¸­ç¼–è¾‘æ–‡ç« äº†ã€‚å½“æ‚¨éœ€è¦æ’å…¥å›¾ç‰‡æ—¶ï¼Œåªéœ€æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š åœ¨Typoraç¼–è¾‘å™¨ä¸­æ’å…¥å›¾ç‰‡ã€‚ åœ¨å¼¹å‡ºçš„æç¤ºæ¡†ä¸­ï¼Œç‚¹å‡» ä¸Šä¼ å›¾ç‰‡ æŒ‰é’®ã€‚è¿™æ—¶ï¼Œå›¾ç‰‡å°†ä¼šè¢«è‡ªåŠ¨ä¸Šä¼ åˆ°GitHubä»“åº“ï¼Œä¸Šä¼ æˆåŠŸåï¼ŒTyporaä¼šè‡ªåŠ¨å°†å›¾ç‰‡é“¾æ¥æ’å…¥åˆ°æ‚¨çš„æ–‡ç« ä¸­ã€‚å°ç»“é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å°±å¯ä»¥è½»æ¾åœ°å°†å›¾ç‰‡å­˜å‚¨åœ¨GitHubå…¬å…±ä»“åº“ä¸­ï¼Œå¹¶åœ¨Typoraç­‰ç¼–è¾‘å™¨ä¸­ç›´æ¥å¼•ç”¨ã€‚è¿™æ ·çš„åšæ³•ä¸ä»…èƒ½ä¿æŒæ–‡æ¡£çš„æ•´æ´ï¼Œè¿˜èƒ½æ–¹ä¾¿åœ°è¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’Œç®¡ç†å›¾ç‰‡èµ„æºã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶ä¸æˆ‘è”ç³»ã€‚" }, { "title": "Using Hspice Model with Spectre", "url": "/posts/using-hspice-model-with-spectre/", "categories": "icenv", "tags": "analog", "date": "2025-04-02 16:00:00 +0000", "snippet": "[ç»éªŒåˆ†äº«] å¦‚ä½•åœ¨ Cadence Spectre ä¸­ä½¿ç”¨ HSPICE æ¨¡å‹ï¼ˆå« spp å·¥å…·è½¬æ¢æ–¹æ³•ï¼‰å¤§å®¶å¥½ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸‹åœ¨ Cadence Spectre ä¸­ä½¿ç”¨ HSPICE æ¨¡å‹çš„ä¸€äº›æ–¹æ³•ï¼Œä¾›æœ‰éœ€è¦çš„æœ‹å‹å‚è€ƒã€‚âœ… æ–¹æ³•ä¸€ï¼šSpectre v7 åŠä»¥ä¸Šç‰ˆæœ¬ â€“ ç›´æ¥ä»¿çœŸä» Spectre v7 èµ·ï¼ŒCadence å·²ç»æ”¯æŒç›´æ¥ä»¿çœŸ HSPICE ç½‘è¡¨ã€‚ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼šspectr...", "content": "[ç»éªŒåˆ†äº«] å¦‚ä½•åœ¨ Cadence Spectre ä¸­ä½¿ç”¨ HSPICE æ¨¡å‹ï¼ˆå« spp å·¥å…·è½¬æ¢æ–¹æ³•ï¼‰å¤§å®¶å¥½ï¼Œä»Šå¤©åˆ†äº«ä¸€ä¸‹åœ¨ Cadence Spectre ä¸­ä½¿ç”¨ HSPICE æ¨¡å‹çš„ä¸€äº›æ–¹æ³•ï¼Œä¾›æœ‰éœ€è¦çš„æœ‹å‹å‚è€ƒã€‚âœ… æ–¹æ³•ä¸€ï¼šSpectre v7 åŠä»¥ä¸Šç‰ˆæœ¬ â€“ ç›´æ¥ä»¿çœŸä» Spectre v7 èµ·ï¼ŒCadence å·²ç»æ”¯æŒç›´æ¥ä»¿çœŸ HSPICE ç½‘è¡¨ã€‚ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼šspectre your_netlist.spæ— éœ€ä¿®æ”¹ .sp ç½‘è¡¨å†…å®¹ï¼ŒSpectre ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ‰§è¡Œï¼Œéå¸¸æ–¹ä¾¿ã€‚âœ… æ–¹æ³•äºŒï¼šSpectre v5 ç”¨æˆ· â€“ ä½¿ç”¨ spp å·¥å…·è½¬æ¢æ¨¡å‹å¯¹äºä½¿ç”¨è¾ƒæ—©ç‰ˆæœ¬ï¼ˆå¦‚ v5ï¼‰çš„ Spectre ç”¨æˆ·ï¼Œä»å¯ä»¥é€šè¿‡ Cadence æä¾›çš„ spp å·¥å…·å°† HSPICE æ¨¡å‹è½¬æ¢ä¸º Spectre å¯è¯†åˆ«çš„æ ¼å¼ã€‚ğŸ”§ è½¬æ¢æ­¥éª¤å¦‚ä¸‹ï¼š å±å¹•æ˜¾ç¤ºè½¬æ¢ç»“æœï¼š spp -convert &lt; bjt.lib å°†ç»“æœä¿å­˜ä¸º Spectre æ ¼å¼æ–‡ä»¶ï¼š spp -convert &lt; bjt.lib &gt; bjt.scs è½¬æ¢åç”Ÿæˆçš„ bjt.scs æ–‡ä»¶å°±æ˜¯å¯ä¾› Spectre ä½¿ç”¨çš„æ¨¡å‹åº“æ–‡ä»¶ã€‚âš ï¸ æ³¨æ„äº‹é¡¹ï¼š spp è½¬æ¢åç”Ÿæˆçš„ .scs æ–‡ä»¶ä¸­ï¼Œæ¨¡å‹å¼•ç”¨çš„æ–‡ä»¶åå¯èƒ½éœ€è¦æ ¹æ®å®é™…è·¯å¾„æ‰‹åŠ¨è°ƒæ•´ã€‚ å¹¶éæ‰€æœ‰ HSPICE æ¨¡å‹éƒ½èƒ½å®Œç¾è½¬æ¢ï¼Œé‡åˆ°é”™è¯¯éœ€æ ¹æ® log åšç›¸åº”ä¿®æ”¹ã€‚å¦‚æœ‰å…¶ä»–ç»éªŒæˆ–ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼å‚è€ƒæ–‡æ¡£https://bbs.eetop.cn/thread-297147-1-1.html" }, { "title": "OnePackage ä»‹ç»", "url": "/posts/onepackage-unified-linux-package-manager/", "categories": "icenv", "tags": "os", "date": "2025-04-02 00:00:00 +0000", "snippet": "åœ¨è¿‘æœŸçš„å¼€æºç¤¾åŒºä¸­ï¼ŒOnePackage ä½œä¸ºä¸€ç§å…¨æ–°çš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿå¼•èµ·äº†å¹¿æ³›å…³æ³¨ã€‚è¯¥ç³»ç»Ÿæ—¨åœ¨èåˆç°æœ‰åŒ…ç®¡ç†å·¥å…·çš„ä¼˜åŠ¿ï¼Œæä¾›ç»Ÿä¸€ä¸”é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚îˆ†OnePackage çš„æ ¸å¿ƒç›®æ ‡ï¼š èåˆä¼˜åŠ¿ï¼š OnePackage æ—¨åœ¨ç»“åˆ Flatpak çš„å®‰å…¨æ€§ã€Snap çš„é›†ä¸­ç®¡ç†ä»¥åŠ AppImage çš„å¯ç§»æ¤æ€§ï¼Œé¿å…äº†ç¤¾åŒºä¸­å…³äºè¿™äº›å·¥å…·çš„äº‰è®®ã€‚îˆ† è§£å†³ç³»ç»Ÿè†¨èƒ€é—®é¢˜ï¼š é€š...", "content": "åœ¨è¿‘æœŸçš„å¼€æºç¤¾åŒºä¸­ï¼ŒOnePackage ä½œä¸ºä¸€ç§å…¨æ–°çš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿå¼•èµ·äº†å¹¿æ³›å…³æ³¨ã€‚è¯¥ç³»ç»Ÿæ—¨åœ¨èåˆç°æœ‰åŒ…ç®¡ç†å·¥å…·çš„ä¼˜åŠ¿ï¼Œæä¾›ç»Ÿä¸€ä¸”é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚îˆ†OnePackage çš„æ ¸å¿ƒç›®æ ‡ï¼š èåˆä¼˜åŠ¿ï¼š OnePackage æ—¨åœ¨ç»“åˆ Flatpak çš„å®‰å…¨æ€§ã€Snap çš„é›†ä¸­ç®¡ç†ä»¥åŠ AppImage çš„å¯ç§»æ¤æ€§ï¼Œé¿å…äº†ç¤¾åŒºä¸­å…³äºè¿™äº›å·¥å…·çš„äº‰è®®ã€‚îˆ† è§£å†³ç³»ç»Ÿè†¨èƒ€é—®é¢˜ï¼š é€šè¿‡å®æ–½åä¸ºâ€œçœŸæ­£åˆ é™¤ä¸å†éœ€è¦çš„ä¸œè¥¿â€çš„æŠ€æœ¯ï¼ŒOnePackage è®¡åˆ’æœ‰æ•ˆæ¸…ç†ç³»ç»Ÿä¸­ä¸å†ä½¿ç”¨çš„åŒ…å’Œä¾èµ–ï¼Œè§£å†³é•¿æœŸå›°æ‰°ç”¨æˆ·çš„ç³»ç»Ÿè†¨èƒ€é—®é¢˜ã€‚îˆ† åŒ…ç®¡ç†ç³»ç»Ÿçš„ç°çŠ¶ä¸æŒ‘æˆ˜ï¼šå½“å‰ï¼ŒLinux å‘è¡Œç‰ˆé‡‡ç”¨å¤šç§åŒ…ç®¡ç†ç³»ç»Ÿï¼Œä¾‹å¦‚ï¼šîˆ† Ubuntuï¼š ä½¿ç”¨ DEB æ ¼å¼ï¼Œç”± dpkg å’Œ APT ç®¡ç†ã€‚îˆ† RHEL ç³»åˆ—ï¼š é‡‡ç”¨ RPM æ ¼å¼ï¼Œç”± RPM åŒ…ç®¡ç†å™¨ç®¡ç†ã€‚îˆ† å…¶ä»–æ ¼å¼ï¼š å¦‚ Snapã€Flatpakã€AppImage ç­‰ï¼Œå…±è®¡çº¦ 17 ç§ä¸åŒçš„åŒ…æ ¼å¼ã€‚îˆ† è¿™äº›å¤šæ ·åŒ–çš„åŒ…ç®¡ç†ç³»ç»Ÿè™½ç„¶å„æœ‰ç‰¹è‰²ï¼Œä½†ä¹Ÿç»™ç”¨æˆ·å’Œå¼€å‘è€…å¸¦æ¥äº†ç®¡ç†ä¸Šçš„å¤æ‚æ€§ã€‚OnePackage çš„å‡ºç°ï¼Œæ—¨åœ¨ç»Ÿä¸€è¿™äº›æ ¼å¼ï¼Œç®€åŒ–è½¯ä»¶çš„åˆ†å‘å’Œç®¡ç†æµç¨‹ã€‚îˆ†OnePackage çš„æ½œåœ¨å½±å“ï¼šå¦‚æœ OnePackage èƒ½æˆåŠŸå®ç°å…¶ç›®æ ‡ï¼Œå°†å¯¹ Linux ç”Ÿæ€ç³»ç»Ÿäº§ç”Ÿæ·±è¿œå½±å“ï¼šîˆ† ç®€åŒ–ç®¡ç†ï¼š ç”¨æˆ·å’Œå¼€å‘è€…æ— éœ€åœ¨å¤šç§åŒ…ç®¡ç†ç³»ç»Ÿä¹‹é—´åˆ‡æ¢ï¼Œé™ä½å­¦ä¹ æˆæœ¬ã€‚îˆ† ä¼˜åŒ–èµ„æºå ç”¨ï¼š é€šè¿‡æ¸…ç†ä¸å†ä½¿ç”¨çš„åŒ…å’Œä¾èµ–ï¼Œé‡Šæ”¾ç³»ç»Ÿèµ„æºï¼Œæå‡æ€§èƒ½ã€‚îˆ† ä¿ƒè¿›ç”Ÿæ€èåˆï¼š ç»Ÿä¸€çš„åŒ…ç®¡ç†ç³»ç»Ÿæœ‰åŠ©äºä¸åŒå‘è¡Œç‰ˆå’Œå·¥å…·ä¹‹é—´çš„ååŒï¼Œæ¨åŠ¨å¼€æºç¤¾åŒºçš„å…±åŒå‘å±•ã€‚îˆ† æ€»ä½“è€Œè¨€ï¼ŒOnePackage çš„æ¨å‡ºä¸ºè§£å†³ç°æœ‰åŒ…ç®¡ç†ç³»ç»Ÿçš„ç¢ç‰‡åŒ–é—®é¢˜æä¾›äº†æ–°çš„æ€è·¯ã€‚éšç€å¼€å‘è€…ç¤¾åŒºçš„æŒç»­åŠªåŠ›å’Œåé¦ˆï¼ŒOnePackage æœ‰æœ›åœ¨æœªæ¥çš„ Linux å‘è¡Œç‰ˆä¸­å‘æŒ¥é‡è¦ä½œç”¨ã€‚îˆ†" }, { "title": "Install IBM Spectrum LSF RTM on CentOS 7.9", "url": "/posts/rtm-installation/", "categories": "icenv", "tags": "rtm", "date": "2025-03-28 13:00:00 +0000", "snippet": "å¼•è¨€IBM Spectrum LSF å®æ—¶ç›‘æ§ï¼ˆRTMï¼‰æ˜¯ä¸€ä¸ªç›‘æ§å·¥å…·ï¼Œå®ƒä¸ºè®¡ç®—ç¯å¢ƒä¸­çš„å·¥ä½œè´Ÿè½½æŠ¥å‘Šå’Œç®¡ç†æä¾›äº†ä¸€ä¸ªä»ªè¡¨æ¿ã€‚æœ¬æŒ‡å—æ¦‚è¿°äº†åœ¨ CentOS 7.9 ç³»ç»Ÿä¸Šå®‰è£… IBM Spectrum LSF RTM çš„æ­¥éª¤ã€‚å‰ææ¡ä»¶ ç¡®ä¿ç³»ç»Ÿæ»¡è¶³ RTM ç‰ˆæœ¬æ‰€éœ€çš„ç³»ç»Ÿè§„æ ¼ã€‚ è·å¾—å®‰è£…çš„ç³»ç»Ÿä¸Šç®¡ç†å‘˜æƒé™ã€‚å®‰è£…æ­¥éª¤å‡†å¤‡ç³»ç»ŸéªŒè¯æ‚¨çš„ç³»ç»Ÿæ»¡è¶³è½¯ä»¶ä¾èµ–æ€§å’Œç³»ç»Ÿè¦æ±‚ã€‚æœ¬æ–‡ä»¥CentOS 7.9ä½œä¸º...", "content": "å¼•è¨€IBM Spectrum LSF å®æ—¶ç›‘æ§ï¼ˆRTMï¼‰æ˜¯ä¸€ä¸ªç›‘æ§å·¥å…·ï¼Œå®ƒä¸ºè®¡ç®—ç¯å¢ƒä¸­çš„å·¥ä½œè´Ÿè½½æŠ¥å‘Šå’Œç®¡ç†æä¾›äº†ä¸€ä¸ªä»ªè¡¨æ¿ã€‚æœ¬æŒ‡å—æ¦‚è¿°äº†åœ¨ CentOS 7.9 ç³»ç»Ÿä¸Šå®‰è£… IBM Spectrum LSF RTM çš„æ­¥éª¤ã€‚å‰ææ¡ä»¶ ç¡®ä¿ç³»ç»Ÿæ»¡è¶³ RTM ç‰ˆæœ¬æ‰€éœ€çš„ç³»ç»Ÿè§„æ ¼ã€‚ è·å¾—å®‰è£…çš„ç³»ç»Ÿä¸Šç®¡ç†å‘˜æƒé™ã€‚å®‰è£…æ­¥éª¤å‡†å¤‡ç³»ç»ŸéªŒè¯æ‚¨çš„ç³»ç»Ÿæ»¡è¶³è½¯ä»¶ä¾èµ–æ€§å’Œç³»ç»Ÿè¦æ±‚ã€‚æœ¬æ–‡ä»¥CentOS 7.9ä½œä¸ºå®éªŒç¯å¢ƒã€‚å®‰è£…æ‰€æœ‰å¿…éœ€çš„è½¯ä»¶åŒ…ï¼ŒåŒ…æ‹¬ PHPã€Cacti å’Œå¦‚ MariaDB æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹å®šç‰ˆæœ¬ã€‚yum install bash chkconfig chrony coreutils gd httpd initscripts libnsl mariadb mariadb-connector-odbc mariadb-server mod_ssl perl php php-common php-gd php-json php-ldap php-mbstring php-mysqlnd php-process php-xml python3-pexpect python3-pyOpenSSL rrdtool rsyslog rsyslog-mysql shadow-utils unixODBCä¸‹è½½å®‰è£…åŒ…ä» IBM Passport Advantage ç½‘ç«™ä¸‹è½½ IBM Spectrum LSF RTM å®‰è£…åŒ…ã€‚[root@icinfra-cn-172-16-0-118-lsf-rtm rtm]# ls -1 rtm*tar.gzrtm-server-10.2.0-rhel7-x64.tar.gzrtm-poller-10.2.0-rhel7-x64.tar.gzç¡®ä¿æ‚¨ä¸‹è½½çš„ç‰ˆæœ¬ä¸æ“ä½œç³»ç»Ÿçš„æ¶æ„ç›¸åŒ¹é…ã€‚rpm -e --allmatches --nodeps unixODBC mysql-connector-odbcyum install unixODBC.x86_64 mysql-connector-odbcè§£å‹å®‰è£…åŒ…ä½¿ç”¨ tar æˆ–ç±»ä¼¼å·¥å…·å°†å®‰è£…åŒ…è§£å‹åˆ°æŒ‡å®šç›®å½•ã€‚systemctl stop mariadbrm -f /var/lib/mysql/ib_logfile* mkdir -p /mnt/rtmcd /mnt/rtmtar zxf rtm-server-10.2.0-rhel(ver)-x64.tar.gzè¿è¡Œå®‰è£…è„šæœ¬å¯¼èˆªåˆ°æ–‡ä»¶è§£å‹çš„ç›®å½•ã€‚cd /mnt/rtmcat &gt; install.config &lt;&lt; EOFRTM_TOP=/opt/IBMRTM_PACKAGEDIR=./NON_GPGCHECK='Y'DAEMON_USER='apache'DAEMON_GROUP='apache'LSF_CLUSTERS=1010:7869:N:icinfra-cn-cluster-01@icinfra-cn-172-16-0-116-lsf-master-01EOFsh rtm_install.sh -f install.configå…¶ä¸­ï¼ŒLSF_CLUSTERS è¯·æŒ‰ç…§å®é™…æƒ…å†µå¡«å†™ï¼Œå¦‚é›†ç¾¤åå­—ä¸masteråå­—ã€‚éªŒè¯å®‰è£…é€šè¿‡ç½‘é¡µæµè§ˆå™¨è®¿é—® http:// ï¼Œé»˜è®¤è´¦å·å¯†ç å‡ä¸º admin/adminã€‚é¦–å…ˆä¼šæç¤ºä¿®æ”¹adminå¯†ç ã€‚è¿™é‡Œï¼Œå¯èƒ½æŸ¥çœ‹åˆ°DiminishedçŠ¶æ€ï¼Œå¦‚å›¾æ‰€ç¤ºå¯èƒ½çš„åŸå› æœ‰å¤šä¸ªï¼Œå¦‚ï¼Œ https://www.ibm.com/support/pages/cluster-collect-status-down-or-diminished or, https://www.ibm.com/support/pages/collect-status-diminished-lsf-cluster-ibm-platform-rtm or, https://www.ibm.com/support/pages/lsf-cluster-status-shows-diminished-rtm-after-running-fine-while or,RTM hostæœªä»¥clientèº«ä»½åŠ å…¥åˆ°è¢«ç›‘æ§é›†ç¾¤ã€‚åˆ™åº”å°†RTM hostä»¥clientèº«ä»½åŠ å…¥è¢«ç›‘æ§é›†ç¾¤ï¼Œå¹¶reconfigureé›†ç¾¤ã€‚éªŒè¯ RTM æ˜¯å¦ä¸æ‚¨çš„ LSF é›†ç¾¤æœ‰æ•ˆé€šä¿¡å¹¶æ˜¾ç¤ºå®æ—¶æ•°æ®ã€‚ç®¡ç†å¯†ç é‡ç½®To reset your Platform RTM password, you can:Find your Platform RTM user name using the commandmysql -u root cacti -e \"SELECT * FROM user_auth\"Update the password for the Platform RTM user using the commandmysql -u root cacti -e \"UPDATE user_auth SET password=md5('&lt;password you choose&gt;') WHERE id='&lt;id got in step 1&gt;'\"Commit the change to the Platform RTM database using the commandmysql -u root cacti -e \"COMMIT\"" }, { "title": "ETX è‡ªåŠ¨åŒ–å®‰è£…", "url": "/posts/etx-automation/", "categories": "icenv", "tags": "etx", "date": "2025-03-09 04:00:00 +0000", "snippet": "1. ç³»ç»Ÿç¯å¢ƒé…ç½®é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡å¥½å¯¹åº”çš„ä¸»æœºï¼Œå¹¶åœ¨ inventory.ini æ–‡ä»¶ä¸­å®šä¹‰å„ä¸»æœºçš„è¯¦ç»†ä¿¡æ¯ã€‚inventory é…ç½®[centos_hosts]centos110 ansible_host=172.31.0.110centos112 ansible_host=172.31.0.112[rocky_hosts]rocky120 ansible_host=172.31.0.1...", "content": "1. ç³»ç»Ÿç¯å¢ƒé…ç½®é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡å¥½å¯¹åº”çš„ä¸»æœºï¼Œå¹¶åœ¨ inventory.ini æ–‡ä»¶ä¸­å®šä¹‰å„ä¸»æœºçš„è¯¦ç»†ä¿¡æ¯ã€‚inventory é…ç½®[centos_hosts]centos110 ansible_host=172.31.0.110centos112 ansible_host=172.31.0.112[rocky_hosts]rocky120 ansible_host=172.31.0.120rocky121 ansible_host=172.31.0.121rocky122 ansible_host=172.31.0.122rocky130 ansible_host=172.31.0.130rocky132 ansible_host=172.31.0.132[etx_servers]rocky130rocky120rocky121centos110[etx_nodes]centos112rocky122rocky1322. é¡¹ç›®ç›®å½•ç»“æ„ä»¥ä¸‹æ˜¯æœ¬é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼ŒåŒ…å«äº†å¿…è¦çš„é…ç½®æ–‡ä»¶å’Œè„šæœ¬æ–‡ä»¶ã€‚[root@rockylinux-9-5-mgmt ansible-std]# tree -L 2.â”œâ”€â”€ ansible.cfgâ”œâ”€â”€ galaxy.ymlâ”œâ”€â”€ group_varsâ”‚ â”œâ”€â”€ etx_nodes.ymlâ”‚ â””â”€â”€ etx_servers.ymlâ”œâ”€â”€ inventory.iniâ”œâ”€â”€ playbooksâ”‚ â”œâ”€â”€ deploy_etxcn.ymlâ”‚ â”œâ”€â”€ deploy_etxsvr.ymlâ”œâ”€â”€ rolesâ”‚ â”œâ”€â”€ etxcn_deploymentâ”‚ â”œâ”€â”€ etxcn_purge_error_nodesâ”‚ â”œâ”€â”€ etxsvr_api_keyâ”‚ â”œâ”€â”€ etxsvr_deploymentâ”‚ â”œâ”€â”€ join_adâ”‚ â”œâ”€â”€ linux_prepâ”‚ â””â”€â”€ mount_isoâ””â”€â”€ vault.yml3. ETX æœåŠ¡å™¨å®‰è£…3.1 æ‰§è¡Œå®‰è£…é€šè¿‡ Ansible è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ‰§è¡Œ deploy_etxsvr.yml è„šæœ¬è¿›è¡Œ ETX æœåŠ¡å™¨å®‰è£…ã€‚ç¡®ä¿åœ¨è¿è¡Œæ—¶æä¾›æ­£ç¡®çš„å¯†ç ã€‚ansible-playbook -i inventory.ini playbooks/deploy_etxsvr.yml --ask-passå®‰è£…è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šæç¤ºè¾“å…¥ SSH å¯†ç ã€‚SSH password: 3.2 æ¥å— EULAå®‰è£…å®Œæˆåï¼Œè®¿é—® ETX æœåŠ¡å™¨çš„ç®¡ç†åå°ï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®å„ ETX æœåŠ¡å™¨çš„ URLï¼Œç‚¹å‡»åŒæ„ EULAï¼ˆä¾‹å¦‚ï¼Œå¯¹äºç¬¬ä¸€å°æœåŠ¡å™¨ï¼Œè®¿é—® https://172.31.0.130:8443/etx/adminï¼‰ã€‚3.3 é…ç½®å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä»¥ä¸‹é…ç½®é¡¹éœ€è¦æ‰‹åŠ¨å®Œæˆï¼š Licenseï¼šæ ¹æ®ç¯å¢ƒéœ€æ±‚è¿›è¡Œé…ç½®ã€‚ Authenticationï¼šé…ç½®é€‚å½“çš„è®¤è¯æ–¹å¼ã€‚ Profileï¼šåˆ›å»ºå’Œé…ç½®ç”¨æˆ· Profileã€‚4. ETXCN å®‰è£…4.1 æ‰§è¡Œå®‰è£…åŒæ ·ä½¿ç”¨ Ansible è„šæœ¬æ¥éƒ¨ç½² ETXCNï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šansible-playbook -i inventory.ini playbooks/deploy_etxcn.yml --ask-pass --ask-vault-passæ­¤æ—¶ï¼Œä¼šè¦æ±‚è¾“å…¥ SSH å¯†ç ä»¥åŠ Vault å¯†ç ï¼šSSH password: Vault password: 4.2 é…ç½®å®¢æˆ·ç«¯å®‰è£…å®ŒæˆETXCNåï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨åŠ å…¥çš„åŸŸè´¦æˆ·é€šè¿‡ Profile æ¥å…¥åˆ° ETX ç³»ç»Ÿä¸­ã€‚5. å…¶ä»–é…ç½®ä¸è°ƒæ•´æ ¹æ®å®‰è£…ç¯å¢ƒçš„ä¸åŒï¼Œå¯èƒ½éœ€è¦å¯¹å„ä¸»æœºè¿›è¡Œä¸€äº›é¢å¤–çš„è°ƒæ•´ï¼Œä¾‹å¦‚ï¼š è®¾ç½®ç³»ç»Ÿçš„é˜²ç«å¢™è§„åˆ™ é…ç½®ç½‘ç»œç­–ç•¥ æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ… è°ƒæ•´æ€§èƒ½ä¼˜åŒ–å‚æ•°6. æ€»ç»“é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å·²ç»å®Œæˆäº† ETX æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„å®‰è£…ä¸é…ç½®ï¼Œåç»­å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚è¿›è¡Œç³»ç»Ÿçš„è¿›ä¸€æ­¥ä¼˜åŒ–ä¸è°ƒæ•´ã€‚" }, { "title": "è„šæœ¬è®¡æ—¶", "url": "/posts/script-elapsed-time/", "categories": "icenv", "tags": "script", "date": "2025-01-22 16:00:00 +0000", "snippet": "è„šæœ¬å®ç°#!/bin/csh # ä¿¡æ¯ï¼šwanlin.wang, 2025/01/23# ç”¨æ³•ï¼šåœ¨éœ€è¦è®¡æ—¶çš„ä¸šåŠ¡è„šæœ¬æœ«å°¾åŠ ä¸€è¡Œï¼Œsource æœ¬è„šæœ¬ã€‚è¿è¡Œå®Œæ¯•ä¸šåŠ¡è„šæœ¬åï¼Œä¼šæ‰“å°è¯¥è„šæœ¬è¿è¡Œçš„elapsed timeã€‚ set pid = $$ set system_boot_time = `awk '/^btime / {print $2}' /proc/stat`set proc_start...", "content": "è„šæœ¬å®ç°#!/bin/csh # ä¿¡æ¯ï¼šwanlin.wang, 2025/01/23# ç”¨æ³•ï¼šåœ¨éœ€è¦è®¡æ—¶çš„ä¸šåŠ¡è„šæœ¬æœ«å°¾åŠ ä¸€è¡Œï¼Œsource æœ¬è„šæœ¬ã€‚è¿è¡Œå®Œæ¯•ä¸šåŠ¡è„šæœ¬åï¼Œä¼šæ‰“å°è¯¥è„šæœ¬è¿è¡Œçš„elapsed timeã€‚ set pid = $$ set system_boot_time = `awk '/^btime / {print $2}' /proc/stat`set proc_start_time_ticks = `awk '{print $22}' /proc/$pid/stat`set clock_ticks_per_sec = `getconf CLK_TCK` @ proc_start_time_secs = $proc_start_time_ticks / $clock_ticks_per_sec@ start_time = $system_boot_time + $proc_start_time_secs set start_time_human = `date -d @$start_time`set end_time_human = `date`set end_time = `date +%s` @ elapsed_time = $end_time - $start_time@ days = $elapsed_time / 86400@ hours = ($elapsed_time % 86400) / 3600@ minutes = ($elapsed_time % 3600) / 60@ seconds = $elapsed_time % 60 echo \"\"echo \"Summary for PID ${pid}:\"echo \"Start time: $start_time_human\"echo \"End time: $end_time_human\"echo \"Elapsed time: ${days} days, ${hours} hours, ${minutes} minutes, ${seconds} seconds\"å…³é”®åˆ†æproc_start_time_ticksæ˜¯ä» Linux ç³»ç»Ÿå¯åŠ¨ï¼ˆbootï¼‰é‚£ä¸€åˆ»èµ·ï¼Œåˆ°ç‰¹å®šè¿›ç¨‹å¯åŠ¨æ—¶æ‰€ç»è¿‡çš„â€œæ»´ç­”æ•°â€ï¼ˆticksï¼‰ã€‚è¿™ä¸ªå€¼å¯ä»¥åœ¨ /proc/[pid]/stat æ–‡ä»¶ä¸­æ‰¾åˆ°ï¼Œé€šå¸¸æ˜¯ç¬¬ 22 ä¸ªå­—æ®µã€‚æŠ€æœ¯åŸç†ï¼šå†…æ ¸æ—¶é’Ÿä¸­æ–­ (Timer Interrupts): Linux å†…æ ¸é€šè¿‡ä¸€ä¸ªç¡¬ä»¶å®šæ—¶å™¨å‘¨æœŸæ€§åœ°äº§ç”Ÿä¸­æ–­ï¼Œè¿™è¢«ç§°ä¸ºâ€œæ—¶é’Ÿä¸­æ–­â€æˆ–â€œå®šæ—¶å™¨ä¸­æ–­â€ã€‚è¿™äº›ä¸­æ–­æ˜¯å†…æ ¸è¿›è¡Œæ—¶é—´ç®¡ç†ã€ä»»åŠ¡è°ƒåº¦ç­‰æ“ä½œçš„åŸºç¡€ã€‚Jiffies: åœ¨ Linux å†…æ ¸å†…éƒ¨ï¼Œæœ‰ä¸€ä¸ªå…¨å±€å˜é‡å«åš jiffiesï¼ˆæˆ–è€…åœ¨ 64 ä½ç³»ç»Ÿä¸Šæ˜¯ jiffies_64ï¼‰ã€‚è¿™ä¸ªå˜é‡åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è¢«åˆå§‹åŒ–ä¸º 0ï¼Œå¹¶ä¸”æ¯å‘ç”Ÿä¸€æ¬¡æ—¶é’Ÿä¸­æ–­ï¼Œjiffies çš„å€¼å°±ä¼šåŠ  1ã€‚å› æ­¤ï¼Œjiffies å®é™…ä¸Šæ˜¯ç³»ç»Ÿè‡ªå¯åŠ¨ä»¥æ¥æ‰€ç»å†çš„æ—¶é’Ÿæ»´ç­”çš„æ€»æ•°ã€‚å®ƒè¢«ç§°ä¸ºå†…æ ¸çš„â€œå¿ƒè·³â€ã€‚è¿›ç¨‹çš„ starttime: å½“ä¸€ä¸ªæ–°è¿›ç¨‹åœ¨ Linux ä¸Šå¯åŠ¨æ—¶ï¼Œå†…æ ¸ä¼šè®°å½•ä¸‹å®ƒå¯åŠ¨æ—¶çš„ jiffies å€¼ã€‚è¿™ä¸ªå€¼è¢«å­˜å‚¨åœ¨è¿›ç¨‹çš„ task_struct ç»“æ„ä½“ä¸­ï¼ˆé€šå¸¸æ˜¯ real_start_time æˆ–ç±»ä¼¼å­—æ®µï¼‰ã€‚å½“ç”¨æˆ·ç©ºé—´ç¨‹åºè¯»å– /proc/[pid]/stat æ–‡ä»¶æ—¶ï¼Œå†…æ ¸ä¼šä»è¿™ä¸ª task_struct ç»“æ„ä½“ä¸­æå–ç›¸åº”çš„å€¼å¹¶æ ¼å¼åŒ–è¾“å‡ºã€‚å•ä½è½¬æ¢: å†å²ä¸Šï¼Œstarttime å­—æ®µç›´æ¥ä»¥ jiffies ä¸ºå•ä½ã€‚ç„¶è€Œï¼Œè‡ª Linux 2.6 ç‰ˆæœ¬ä»¥æ¥ï¼Œä¸ºäº†æä¾›æ›´ç»Ÿä¸€å’Œå¯ç§»æ¤çš„æ—¶é—´å•ä½ï¼Œstarttime å­—æ®µçš„å€¼é€šå¸¸ä»¥ clock ticks ä¸ºå•ä½ï¼Œè¿™é‡Œçš„ clock ticks ä¸ sysconf(_SC_CLK_TCK) (å³ CLK_TCK) è¿”å›çš„å€¼ç›¸å…³è”ï¼Œè€Œä¸æ˜¯ç›´æ¥çš„å†…æ ¸ HZã€‚è¿™æ„å‘³ç€ï¼Œä¸ºäº†å°†å…¶è½¬æ¢ä¸ºç§’ï¼Œéœ€è¦é™¤ä»¥ CLK_TCKï¼Œè€Œä¸æ˜¯ç›´æ¥é™¤ä»¥å†…æ ¸çš„ HZ å€¼ã€‚è¿™ä½¿å¾—ç”¨æˆ·ç©ºé—´ç¨‹åºæ›´å®¹æ˜“è¿›è¡Œæ—¶é—´è½¬æ¢ã€‚æ€»ç»“ï¼š proc_start_time_ticks å®é™…ä¸Šæ˜¯å†…æ ¸è®°å½•çš„ç‰¹å®šè¿›ç¨‹åœ¨ç³»ç»Ÿå¯åŠ¨åï¼Œç»è¿‡äº†å¤šå°‘ä¸ªâ€œæ—¶é’Ÿæ»´ç­”â€æ‰å¼€å§‹è¿è¡Œã€‚å®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼Œéœ€è¦ç»“åˆç³»ç»Ÿå¯åŠ¨çš„ epoch æ—¶é—´å’Œæ»´ç­”é¢‘ç‡æ¥è®¡ç®—å‡ºè¿›ç¨‹çš„ç»å¯¹å¯åŠ¨æ—¶é—´ï¼ˆepoch timeï¼‰ã€‚clock_ticks_per_secé€šè¿‡ getconf CLK_TCK å‘½ä»¤è·å–ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªç³»ç»Ÿé…ç½®å€¼ï¼Œè¡¨ç¤ºæ¯ç§’é’Ÿæœ‰å¤šå°‘ä¸ªâ€œæ—¶é’Ÿæ»´ç­”â€ã€‚åœ¨ POSIX æ ‡å‡†ä¸­ï¼Œè¿™è¢«ç§°ä¸º _SC_CLK_TCKã€‚æŠ€æœ¯åŸç†ï¼šç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´æ—¶é—´å•ä½çš„æ¡¥æ¢: è™½ç„¶ Linux å†…æ ¸æœ‰å…¶å†…éƒ¨çš„ HZï¼ˆå®šæ—¶å™¨ä¸­æ–­é¢‘ç‡ï¼‰æ¥é©±åŠ¨ jiffiesï¼Œä½†ä¸ºäº†æä¾›ç»™ç”¨æˆ·ç©ºé—´ä¸€ä¸ªæ ‡å‡†åŒ–çš„ã€ä¸ç¡¬ä»¶æ— å…³çš„æ—¶é—´å•ä½ï¼ŒPOSIX æ ‡å‡†å®šä¹‰äº† CLK_TCKã€‚sysconf() å‡½æ•°: CLK_TCK çš„å€¼é€šå¸¸æ˜¯ç³»ç»Ÿåœ¨å¯åŠ¨æ—¶ç¡®å®šçš„ï¼Œå¹¶é€šè¿‡ sysconf() ç³»ç»Ÿè°ƒç”¨ï¼ˆåœ¨ C è¯­è¨€ä¸­ï¼‰æˆ– getconf å‘½ä»¤è¡Œå·¥å…·æš´éœ²ç»™ç”¨æˆ·ç©ºé—´ã€‚å†å²èƒŒæ™¯ä¸ç›®çš„:åœ¨æ—©æœŸçš„ Unix ç³»ç»Ÿä¸­ï¼Œå„ç§ç³»ç»Ÿèµ„æºä½¿ç”¨æ—¶é—´ï¼ˆå¦‚ CPU æ—¶é—´ã€è¿›ç¨‹å¯åŠ¨æ—¶é—´ç­‰ï¼‰éƒ½ä»¥â€œæ—¶é’Ÿæ»´ç­”â€ä¸ºå•ä½æŠ¥å‘Šã€‚ç„¶è€Œï¼Œä¸åŒç³»ç»Ÿæˆ–ä¸åŒæ¶æ„çš„â€œæ—¶é’Ÿæ»´ç­”â€é¢‘ç‡å¯èƒ½ä¸åŒã€‚ä¸ºäº†ä½¿è¿™äº›æ—¶é—´åº¦é‡å…·æœ‰å¯ç§»æ¤æ€§ï¼ŒPOSIX æ ‡å‡†å¼•å…¥äº† CLK_TCKï¼Œå®ƒå®šä¹‰äº†æ¯ç§’çš„æ—¶é’Ÿæ»´ç­”æ•°ã€‚è¿™æ ·ï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥é€šè¿‡å°†æŠ¥å‘Šçš„æ»´ç­”æ•°é™¤ä»¥ CLK_TCK æ¥å¾—åˆ°ä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´ï¼Œè€Œæ— éœ€å…³å¿ƒåº•å±‚å†…æ ¸çš„å®é™… HZ å€¼ã€‚CLK_TCK çš„å¸¸è§å€¼æ˜¯ 100ï¼ˆå³æ¯ç§’ 100 ä¸ªæ»´ç­”ï¼Œæ¯ä¸ªæ»´ç­” 10 æ¯«ç§’ï¼‰æˆ– 1000ï¼ˆæ¯ç§’ 1000 ä¸ªæ»´ç­”ï¼Œæ¯ä¸ªæ»´ç­” 1 æ¯«ç§’ï¼‰ã€‚ç°ä»£ Linux ç³»ç»Ÿä¸Šï¼Œä¸ºäº†æ›´é«˜çš„ç²¾åº¦ï¼ŒCLK_TCK å¸¸å¸¸æ˜¯ 1000ã€‚æ€»ç»“ï¼š clock_ticks_per_sec (CLK_TCK) æ˜¯ä¸€ä¸ªç³»ç»Ÿé…ç½®å‚æ•°ï¼Œå®ƒå®šä¹‰äº†ç”¨æˆ·ç©ºé—´åº”ç”¨ç¨‹åºè¿›è¡Œæ—¶é—´è®¡ç®—æ—¶åº”ä½¿ç”¨çš„æ¯ç§’æ—¶é’Ÿæ»´ç­”æ•°ã€‚å®ƒä½œä¸ºå°†å†…æ ¸æŠ¥å‘Šçš„ä»¥æ»´ç­”ä¸ºå•ä½çš„æ—¶é—´ï¼ˆä¾‹å¦‚ proc_start_time_ticksã€utimeã€stime ç­‰ï¼‰è½¬æ¢ä¸ºæ ‡å‡†ç§’æ•°çš„å…³é”®è½¬æ¢å› å­ã€‚" }, { "title": "çº¢å¸½ä¸SUSEå¯¹RHEL/CentOS 7ç³»åˆ—å»¶é•¿ç”Ÿå‘½å‘¨æœŸæ”¯æŒç­–ç•¥ï¼šä¿éšœä¼ä¸šLinuxç³»ç»Ÿçš„æŒç»­å®‰å…¨ä¸ç¨³å®š", "url": "/posts/centos7-eol/", "categories": "icenv", "tags": "os", "date": "2024-08-31 00:25:00 +0000", "snippet": "ä¸€ã€å‰è¨€æ˜¨å¤©æœ‰å¹¸å‚åŠ äº†ä¸€ä¸ªæ´»åŠ¨ï¼Œå…¶ä¸€ä¸»åŠæ–¹æ˜¯SUSEï¼Œæ„Ÿè°¢SUSEçš„å·¥ç¨‹å¸ˆæä¾›ç›¸å…³ä¿¡æ¯ã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸¤ä¸ªå…³é”®çš„Linuxæ“ä½œç³»ç»Ÿæ”¯æŒæ–¹æ¡ˆï¼šâ€œçº¢å¸½ä¼ä¸šç‰ˆ Linux 7ï¼ˆRHEL 7ï¼‰å»¶é•¿ç”Ÿå‘½å‘¨æœŸæ”¯æŒâ€å’Œâ€œSUSE Liberty Linux Liteâ€ï¼Œåˆ†æå®ƒä»¬çš„ç‰¹ç‚¹ã€ä¼˜åŠ¿ï¼Œå¹¶å¯¹æ¯”å…¶ä»–å¯ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°†ç®€è¦ä»‹ç»Open Enterprise Linux Assoc...", "content": "ä¸€ã€å‰è¨€æ˜¨å¤©æœ‰å¹¸å‚åŠ äº†ä¸€ä¸ªæ´»åŠ¨ï¼Œå…¶ä¸€ä¸»åŠæ–¹æ˜¯SUSEï¼Œæ„Ÿè°¢SUSEçš„å·¥ç¨‹å¸ˆæä¾›ç›¸å…³ä¿¡æ¯ã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸¤ä¸ªå…³é”®çš„Linuxæ“ä½œç³»ç»Ÿæ”¯æŒæ–¹æ¡ˆï¼šâ€œçº¢å¸½ä¼ä¸šç‰ˆ Linux 7ï¼ˆRHEL 7ï¼‰å»¶é•¿ç”Ÿå‘½å‘¨æœŸæ”¯æŒâ€å’Œâ€œSUSE Liberty Linux Liteâ€ï¼Œåˆ†æå®ƒä»¬çš„ç‰¹ç‚¹ã€ä¼˜åŠ¿ï¼Œå¹¶å¯¹æ¯”å…¶ä»–å¯ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°†ç®€è¦ä»‹ç»Open Enterprise Linux Association (OpenELA)çš„é‡è¦æ€§å’Œå…¶åœ¨Linuxç¤¾åŒºçš„ä½œç”¨ã€‚äºŒã€çº¢å¸½ä¼ä¸šç‰ˆ Linux 7ï¼ˆRHEL 7ï¼‰å»¶é•¿ç”Ÿå‘½å‘¨æœŸæ”¯æŒ2024å¹´5æœˆ29æ—¥ï¼Œçº¢å¸½å…¬å¸æ›´æ–°äº†å…¶RHEL 7çš„å»¶é•¿ç”Ÿå‘½å‘¨æœŸæ”¯æŒï¼ˆExtended Lifecycle Support, ELSï¼‰æ”¿ç­–ï¼Œä½¿å…¶ä¸RHEL 8å’ŒRHEL 9çš„å»¶é•¿æ›´æ–°æ”¯æŒï¼ˆExtended Update Support, EUSï¼‰æ”¿ç­–è¶‹äºä¸€è‡´ã€‚è¿™ä¸€å˜æ›´ä¸»è¦æ˜¯ä¸ºäº†æ‰©å¤§å¯¹å®‰å…¨æ¼æ´ï¼ˆCVEï¼‰çš„è¦†ç›–èŒƒå›´ï¼Œæ»¡è¶³å®¢æˆ·ä¸æ–­å¢é•¿çš„å®‰å…¨éœ€æ±‚ï¼Œå¹¶å–æ¶ˆäº†å…ˆå‰ELSç‰ˆæœ¬ä¸­çš„â€œåŒ…å«åˆ—è¡¨â€ç»´æŠ¤æ”¿ç­–ã€‚ä¸»è¦ç‰¹ç‚¹ï¼šå®‰å…¨æ€§ä¼˜å…ˆï¼šæ‰©å±•äº†å¯¹RHEL 7çš„æ”¯æŒï¼ŒåŒ…æ‹¬å¯¹RHEL for SAP Solutionsã€RHEL High Availabilityé™„åŠ ç»„ä»¶å’ŒResilient Storageé™„åŠ ç»„ä»¶çš„æ”¯æŒã€‚ç»´æŠ¤çš„æ¶æ„ï¼šæ”¯æŒx86ï¼ˆ64ä½ï¼‰å’ŒIBM S/390xæ¶æ„ã€‚è½¯ä»¶åŒ…æ”¯æŒï¼šä¸“æ³¨äºRHEL 7.9ç‰ˆæœ¬ï¼Œæä¾›å…³é”®è½¯ä»¶åŒ…çš„å®‰å…¨ä¿®å¤å’Œç´§æ€¥BUGä¿®å¤ã€‚é•¿æœŸæ”¯æŒï¼šExtended Lifecycle Support (ELS)ä»2024å¹´07æœˆ01æ—¥å¼€å§‹ï¼Œä¸ºå…¶4å¹´ï¼Œå³è‡³2028å¹´06æœˆ30æ—¥ã€‚OpenJDK 11å’ŒOpenJDK 8çš„æ”¯æŒå°†åˆ†åˆ«äº2024å¹´10æœˆå’Œ2026å¹´11æœˆç»“æŸã€‚ä¸‰ã€SUSE Liberty Linux Liteé¢å¯¹CentOS 7å³å°†åœ¨2024å¹´6æœˆ30æ—¥ç»“æŸæ”¯æŒçš„ç°çŠ¶ï¼ŒSUSEæ¨å‡ºäº†Liberty Linux Liteï¼Œä¸ºCentOS 7ç”¨æˆ·æä¾›äº†ä¸€ä¸ªç®€å•çš„è¿‡æ¸¡æ–¹æ¡ˆï¼Œä»¥ä¾¿ç»§ç»­æ¥æ”¶å®‰å…¨æ›´æ–°å’Œæ”¯æŒã€‚ä¸»è¦ç‰¹ç‚¹ï¼šé›¶ä¸­æ–­è¿‡æ¸¡ï¼šç”¨æˆ·ä»…éœ€å°†å…¶CentOS 7çš„æ›´æ–°ä»“åº“åˆ‡æ¢è‡³SUSEæä¾›çš„ä»“åº“ï¼Œæ— éœ€è¿›è¡Œæ“ä½œç³»ç»Ÿè¿ç§»ã€‚æˆæœ¬æ•ˆç›Šï¼šå®šä»·æ¯å°æœåŠ¡å™¨/å®ä¾‹æ¯å¹´25ç¾å…ƒï¼Œæœ€ä½æŠ•èµ„é¢ä¸º2500ç¾å…ƒã€‚é•¿æœŸæ”¯æŒï¼šæ‰¿è¯ºæä¾›è‡³2028å¹´6æœˆ30æ—¥çš„æ›´æ–°æ”¯æŒï¼Œä¸çº¢å¸½ä¿æŒä¸€è‡´ã€‚å››ã€Open Enterprise Linux Association (OpenELA)OpenELAæ˜¯ç”±SUSEã€CIQå’ŒOracleè”åˆæˆç«‹çš„ç»„ç»‡ï¼Œæ—¨åœ¨åº”å¯¹Red Hatå¯¹RHELæºä»£ç å¯ç”¨æ€§çš„è°ƒæ•´ã€‚OpenELAæä¾›äº†ä¸€ä¸ªå¼€æ”¾å’Œè‡ªç”±çš„ä¼ä¸šLinuxæºä»£ç åº“ï¼Œä½¿ä»»ä½•äººéƒ½å¯ä»¥æ„å»ºä¸RHELåŠCentOSå…¼å®¹çš„å‘è¡Œç‰ˆã€‚é‡è¦æ€§ï¼šä¿è¯å¼€æºçš„æŒç»­æ€§ï¼šç¡®ä¿ä¼ä¸šLinuxæºä»£ç å¯¹å…¬ä¼—å¼€æ”¾å’Œå…è´¹ã€‚æä¾›é€‰æ‹©æ€§ï¼šé€šè¿‡å¼€æ”¾çš„æºä»£ç åº“ï¼Œå¢å¼ºäº†ç”¨æˆ·åœ¨é€‰æ‹©Linuxå‘è¡Œç‰ˆæ—¶çš„è‡ªç”±åº¦å’Œçµæ´»æ€§ã€‚æ—¶æ•ˆæ€§ï¼šä¼šç•¥æ¯”RHELæºç ä»“åº“æ™šå‡ å°æ—¶è‡³1å¤©ã€‚äº”ã€æ€»ç»“çº¢å¸½çš„RHEL 7 ELSå’ŒSUSEçš„Liberty Linux Liteéƒ½æä¾›äº†é’ˆå¯¹æ—§ç³»ç»Ÿçš„æ”¯æŒç­–ç•¥ï¼Œä»¥åº”å¯¹ä¸æ–­å˜åŒ–çš„æŠ€æœ¯éœ€æ±‚å’Œå®‰å…¨æŒ‘æˆ˜ã€‚RHEL 7 ELSçš„æ›´æ–°ä¸»è¦èšç„¦äºæ‰©å¤§å®‰å…¨è¦†ç›–å’Œå–æ¶ˆâ€œåŒ…å«åˆ—è¡¨â€ç»´æŠ¤æ”¿ç­–ï¼Œè€ŒSUSE Liberty Linux Liteåˆ™æä¾›äº†ä¸€ç§æ— ç¼è¿‡æ¸¡æ–¹æ¡ˆï¼Œç‰¹åˆ«é€‚åˆé‚£äº›ä¸å¸Œæœ›è¿ç§»æ“ä½œç³»ç»Ÿä½†éœ€è¦æŒç»­æ”¯æŒçš„CentOS 7ç”¨æˆ·ã€‚é€šè¿‡OpenELAï¼ŒSUSEç­‰å…¬å¸è¿˜æä¾›äº†ä¸€ä¸ªä¿è¯ä¼ä¸šçº§Linuxå¼€æºæŒç»­æ€§çš„é‡è¦å¹³å°ï¼Œè¿™å¯¹äºæ•´ä¸ªLinuxç¤¾åŒºçš„å¥åº·å‘å±•å…·æœ‰é•¿è¿œçš„æ„ä¹‰ã€‚å…­ã€èµ„æ–™æ¥æºhttps://www.redhat.com/en/blog/announcing-4-years-extended-life-cycle-support-els-red-hat-enterprise-linux-7https://events.rainfocus.com/widget/suse/susecon2024/ondemandsessioncatalog/session/1715173217396001dVKj" }, { "title": "è§£å†³æ¡Œé¢åˆå§‹åŒ–é—®é¢˜", "url": "/posts/fixing-desktop-init-issue/", "categories": "icenv", "tags": "desktop", "date": "2024-07-19 23:25:00 +0000", "snippet": "é—®é¢˜å¯åŠ¨vncæ¡Œé¢ï¼Œæç¤ºé—®é¢˜ã€‚å®šä½ä»[t]cshæ‰‹å†Œå¯ä»¥çœ‹åˆ°åˆå§‹åŒ–æµç¨‹ã€‚ç»å®šä½ï¼Œæ˜¯.cshrcçš„è¿™æ®µä»£ç å­˜åœ¨ï¼Œå¯¼è‡´æ¡Œé¢åˆå§‹åŒ–å¼‚å¸¸ã€‚[wanlin.wang@icinfra-cn-172-16-0-115 ~]$ cat .cshrc...éƒ¨åˆ†çœç•¥...# Environment for anaconda3/4.4.0setenv PATH /tools/oss/spack/opt/spack...", "content": "é—®é¢˜å¯åŠ¨vncæ¡Œé¢ï¼Œæç¤ºé—®é¢˜ã€‚å®šä½ä»[t]cshæ‰‹å†Œå¯ä»¥çœ‹åˆ°åˆå§‹åŒ–æµç¨‹ã€‚ç»å®šä½ï¼Œæ˜¯.cshrcçš„è¿™æ®µä»£ç å­˜åœ¨ï¼Œå¯¼è‡´æ¡Œé¢åˆå§‹åŒ–å¼‚å¸¸ã€‚[wanlin.wang@icinfra-cn-172-16-0-115 ~]$ cat .cshrc...éƒ¨åˆ†çœç•¥...# Environment for anaconda3/4.4.0setenv PATH /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/anaconda3-4.4.0-zpdh67mbu2fubypa6uqtgkrl5syel2hz/bin:$PATHif ($?LD_LIBRARY_PATH) then setenv LD_LIBRARY_PATH /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/anaconda3-4.4.0-zpdh67mbu2fubypa6uqtgkrl5syel2hz/lib:$LD_LIBRARY_PATHelse setenv LD_LIBRARY_PATH /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/anaconda3-4.4.0-zpdh67mbu2fubypa6uqtgkrl5syel2hz/libendifæ€è·¯ç”¨æˆ·éœ€è¦åœ¨.cshrcæ–‡ä»¶é‡ŒåŠ è½½å„ç§å„æ ·çš„å·¥å…·ä¸åº“è·¯å¾„ï¼Œä»¥æœŸæœ›ä¸€å¼€æ¡Œé¢/terminalï¼Œæ‰€éœ€å·¥å…·ç«‹å³å¯ç”¨ã€‚ä½†åœ¨æ¡Œé¢åˆå§‹åŒ–æ—¶å´å¯¼è‡´äº†å¤±è´¥ã€‚å› æ­¤ï¼Œç®¡ç†å‘˜éœ€è¦ä».cshrcå…¥æ‰‹ï¼Œæ£€æµ‹åˆ°æ¡Œé¢å¯åŠ¨æ—¶ï¼Œå°±ç«‹å³ç»ˆæ­¢å¾€ä¸‹sourceã€‚ä¹Ÿå¯ä»¥å°†è¿™éƒ¨åˆ†å…¬å…±ä»£ç æŠ½å‡ºæ¥ï¼Œæ”¾åˆ°å…¬å…±cshrcé‡Œï¼Œä¾›ç”¨æˆ·åœ¨.cshrcç¬¬ä¸€è¡Œè¿›è¡Œsourceã€‚è§£å†³.cshrcæ ·ä¾‹# For init desktop. Here we assume \"icinfra-cn-\" is the desktop hostname's prefix.if ($?SHLVL &amp;&amp; $SHLVL == 1 &amp;&amp; ! $?SSH_TTY &amp;&amp; (\"$HOSTNAME\" =~ icinfra-cn-*)) then exitendif# For init environment modules.source /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/environment-modules-5.4.0-uiudomq3q3xmgulxntqouamwlt6krxpa/init/cshsetenv MODULEPATH /tools/oss/spack/share/spack/modules/linux-almalinux8-x86_64_v4# For anaconda3/4.4.0setenv PATH /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/anaconda3-4.4.0-zpdh67mbu2fubypa6uqtgkrl5syel2hz/bin:$PATHif ($?LD_LIBRARY_PATH) then setenv LD_LIBRARY_PATH /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/anaconda3-4.4.0-zpdh67mbu2fubypa6uqtgkrl5syel2hz/lib:$LD_LIBRARY_PATHelse setenv LD_LIBRARY_PATH /tools/oss/spack/opt/spack/linux-almalinux8-x86_64_v4/gcc-8.5.0/anaconda3-4.4.0-zpdh67mbu2fubypa6uqtgkrl5syel2hz/libendif" }, { "title": "ontapæ¨¡æ‹Ÿå™¨", "url": "/posts/ontap-simulator/", "categories": "icenv", "tags": "storage", "date": "2024-07-14 06:40:00 +0000", "snippet": "ä¸€ã€ä¸‹è½½æ¨¡æ‹Ÿå™¨å‚è€ƒã€ŠSimulate_ONTAP_9-14-1_Installation_and_Setup_Guide.pdfã€‹P4çš„æŒ‡å¯¼ï¼Œç™»å½•ç½‘ç«™è¿›è¡Œä¸‹è½½ã€‚äºŒã€ä¼ å…¥pveï¼Œå¹¶è§£å‹è½¬æ¢# è§£å‹tar -xvf vsim-netapp-DOT9.14.1-cm_nodar.ova# è§£å‹åçš„æ–‡ä»¶åˆ—è¡¨ï¼Œå…¶ä¸­ovfæ–‡ä»¶é‡Œå®šä¹‰äº†è™šæ‹Ÿæœºçš„ç‰©ç†è§„æ ¼ã€‚vsim-NetAppDOT-simulate-di...", "content": "ä¸€ã€ä¸‹è½½æ¨¡æ‹Ÿå™¨å‚è€ƒã€ŠSimulate_ONTAP_9-14-1_Installation_and_Setup_Guide.pdfã€‹P4çš„æŒ‡å¯¼ï¼Œç™»å½•ç½‘ç«™è¿›è¡Œä¸‹è½½ã€‚äºŒã€ä¼ å…¥pveï¼Œå¹¶è§£å‹è½¬æ¢# è§£å‹tar -xvf vsim-netapp-DOT9.14.1-cm_nodar.ova# è§£å‹åçš„æ–‡ä»¶åˆ—è¡¨ï¼Œå…¶ä¸­ovfæ–‡ä»¶é‡Œå®šä¹‰äº†è™šæ‹Ÿæœºçš„ç‰©ç†è§„æ ¼ã€‚vsim-NetAppDOT-simulate-disk1.vmdkvsim-NetAppDOT-simulate-disk2.vmdkvsim-NetAppDOT-simulate-disk3.vmdkvsim-NetAppDOT-simulate-disk4.vmdkvsim-NetAppDOT-simulate.mfvsim-NetAppDOT-simulate.ovf# è½¬æ¢vmdkä¸ºqcow2ï¼Œèƒ½è¢«å¯¼å…¥åˆ°kvmå¹³å°ã€‚qemu-img convert -f vmdk -O qcow2 vsim-NetAppDOT-simulate-disk1.vmdk disk1.qcow2qemu-img convert -f vmdk -O qcow2 vsim-NetAppDOT-simulate-disk2.vmdk disk2.qcow2qemu-img convert -f vmdk -O qcow2 vsim-NetAppDOT-simulate-disk3.vmdk disk3.qcow2qemu-img convert -f vmdk -O qcow2 vsim-NetAppDOT-simulate-disk4.vmdk disk4.qcow2ä¸‰ã€æŸ¥çœ‹è™šæ‹Ÿæœºéœ€æ±‚ï¼Œå¹¶åˆ›å»ºè™šæ‹ŸæœºæŸ¥çœ‹vsim-NetAppDOT-simulate.ovfæ–‡ä»¶ï¼Œå¯ä»¥çœ‹è™šæ‹Ÿæœºè§„æ ¼ï¼Œç‰¹åˆ«çš„æ˜¯ åˆ›å»º4ä¸ªç½‘å¡ï¼Œç½‘å¡ç±»å‹ä¸ºe1000 IDE æ§åˆ¶å™¨ç‚¹å®Œæˆï¼Œç„¶ååˆ›å»º4ä¸ªe1000çš„ç½‘å¡å››ã€åœ¨proxmoxå‘½ä»¤è¡Œï¼Œå¯¼å…¥ç£ç›˜åˆ°è™šæ‹Ÿæœºã€‚éšåattachå¹¶è®¾ç½®å¯åŠ¨é¡¹qm importdisk 120701001 disk1.qcow2 local-xfsqm importdisk 120701001 disk2.qcow2 local-xfsqm importdisk 120701001 disk3.qcow2 local-xfsqm importdisk 120701001 disk4.qcow2 local-xfsattachæ—¶é€‰æ‹©ideæ§åˆ¶å™¨è®¾ç½®å¯åŠ¨é¡¹äº”ã€å¯åŠ¨è¾“å…¥adminï¼Œç„¶åæ‰§è¡Œhaltå‘½ä»¤ï¼Œç„¶åå°†è™šæ‹Ÿæœºstopæ‰ï¼Œé‡å¯è¿›å…¥åˆ°é…ç½®æ¨¡å¼ï¼šå…­ã€é…ç½®åé¢å°±å¯ä»¥é€šè¿‡webæ¥é…ç½®äº†ã€‚é…ç½®å®Œæ¯•åï¼Œè‡ªåŠ¨è·³åˆ°é›†ç¾¤ç®¡ç†IPçš„webé¡µé¢è‡³æ­¤ï¼Œontapæ¨¡æ‹Ÿå™¨æ­å»ºå®Œæ¯•ã€‚ä¸ƒã€é…ç½®NetAppé…ç½®è®¸å¯è¯è´´å…¥è®¸å¯è¯å‡†å¤‡å­˜å‚¨é…ç½®åè®®é…ç½®å­˜å‚¨å…«ã€æŒ‚è½½ä½¿ç”¨ä¹ã€ç»™svmé…ç½®LDAPå¤‡æ³¨ï¼šå›¾ç‰‡ä¸¢å¤±ï¼Œé‡æ–°æ“ä½œæ—¶è¡¥å……ä¸€ä»½ã€‚" }, { "title": "lxcç¼“å­˜åˆ°æœŸ", "url": "/posts/lxc-cache-expired/", "categories": "icenv", "tags": "lxc", "date": "2024-04-09 04:30:00 +0000", "snippet": "[root@lxc-host ~]# DOWNLOAD_KEYSERVER=\"hkp://keyserver.ubuntu.com\" lxc-create -n slurm-master-node -t download -- -d almalinux -r 8 -a amd64 #æç¤ºè¿‡æœŸäº†The cached copy has expired, re-downloading...Sett...", "content": "[root@lxc-host ~]# DOWNLOAD_KEYSERVER=\"hkp://keyserver.ubuntu.com\" lxc-create -n slurm-master-node -t download -- -d almalinux -r 8 -a amd64 #æç¤ºè¿‡æœŸäº†The cached copy has expired, re-downloading...Setting up the GPG keyringERROR: Unable to fetch GPG key from keyserverlxc-create: slurm-master-node: lxccontainer.c: create_run_template: 1625 Failed to create container from templatelxc-create: slurm-master-node: tools/lxc_create.c: main: 331 Failed to create container slurm-master-node[root@lxc-host ~]# date -d \"@`cat /var/cache/lxc/download/almalinux/8/amd64/default/expiry`\" #æŸ¥çœ‹è¿‡æœŸæ—¥æœŸFri Mar 29 07:15:19 CST 2024[root@lxc-host ~]# date -d \"30 days\" +%s &gt; /var/cache/lxc/download/almalinux/8/amd64/default/expiry #æ›´æ–°è¿‡æœŸæ—¥æœŸè‡³æœªæ¥30å¤©[root@lxc-host ~]# DOWNLOAD_KEYSERVER=\"hkp://keyserver.ubuntu.com\" lxc-create -n slurm-master-node -t download -- -d almalinux -r 8 -a amd64 #å†æ¬¡æ‰§è¡Œï¼Œå³å¯ä½¿ç”¨cacheäº†ã€‚Using image from local cacheUnpacking the rootfs---You just created a Almalinux 8 x86_64 (20240227_23:08) container." }, { "title": "ç»™spackåŠ ç¼–è¯‘å™¨", "url": "/posts/how-to-add-compiler-for-spack/", "categories": "icenv", "tags": "spack", "date": "2024-04-09 01:12:00 +0000", "snippet": "å‚è€ƒèµ„æ–™https://spack.readthedocs.io/en/latest/getting_started.html#spack-compiler-add", "content": "å‚è€ƒèµ„æ–™https://spack.readthedocs.io/en/latest/getting_started.html#spack-compiler-add" }, { "title": "NFS AUTH_SYS 16 groups limitation", "url": "/posts/nfs-auth-sys-16-groups-limitation/", "categories": "icenv", "tags": "nfs", "date": "2024-03-30 11:12:00 +0000", "snippet": "èƒŒæ™¯NFSä½¿ç”¨AUTH_SYSæ—¶æœ‰16ç¾¤ç»„é™åˆ¶ï¼Œä½¿ç”¨AUTH_GSSæ—¶æœ‰32ç¾¤ç»„é™åˆ¶ã€‚å¾ˆå¤šICè®¾è®¡å…¬å¸ï¼Œä½¿ç”¨AUTH_SYSæ–¹å¼ï¼Œéƒ½æœ‰é‡åˆ°è¶…è¿‡16ä¸ªç¾¤ç»„æ— æ³•ä½¿ç”¨çš„é—®é¢˜ã€‚åˆ†æé—®é¢˜ç°è±¡[wanlinwang@VM-AlmaLinux8-tmpl-wanlinwang ~]$ id #ä»è¿”å›ç»“æœå¯çŸ¥ï¼Œqæ˜¯ç¬¬16ç¾¤ç»„ï¼Œræ˜¯ç¬¬17ç¾¤ç»„ã€‚uid=1001(wanlinwang) gid=1001(p) ...", "content": "èƒŒæ™¯NFSä½¿ç”¨AUTH_SYSæ—¶æœ‰16ç¾¤ç»„é™åˆ¶ï¼Œä½¿ç”¨AUTH_GSSæ—¶æœ‰32ç¾¤ç»„é™åˆ¶ã€‚å¾ˆå¤šICè®¾è®¡å…¬å¸ï¼Œä½¿ç”¨AUTH_SYSæ–¹å¼ï¼Œéƒ½æœ‰é‡åˆ°è¶…è¿‡16ä¸ªç¾¤ç»„æ— æ³•ä½¿ç”¨çš„é—®é¢˜ã€‚åˆ†æé—®é¢˜ç°è±¡[wanlinwang@VM-AlmaLinux8-tmpl-wanlinwang ~]$ id #ä»è¿”å›ç»“æœå¯çŸ¥ï¼Œqæ˜¯ç¬¬16ç¾¤ç»„ï¼Œræ˜¯ç¬¬17ç¾¤ç»„ã€‚uid=1001(wanlinwang) gid=1001(p) groups=1001(p),1002(system),1003(b),1004(c),1005(d),1006(e),1007(f),1008(h),1009(i),1010(j),1011(k),1012(l),1013(m),1014(n),1015(o),1016(q),1017(r),1018(s),1019(a),1020(z)[wanlinwang@VM-AlmaLinux8-tmpl-wanlinwang ~]$ ls -ld /tools/{testq,a}drwxrwx--- 2 root r 2 Mar 31 11:16 /tools/adrwxrwx--- 2 root q 2 Mar 31 11:16 /tools/testq[wanlinwang@VM-AlmaLinux8-tmpl-wanlinwang ~]$ cd /tools/a-bash: cd: /tools/a: Permission denied[wanlinwang@VM-AlmaLinux8-tmpl-wanlinwang ~]$ cd /tools/testq[wanlinwang@VM-AlmaLinux8-tmpl-wanlinwang testq]$ RPCåŒ…åˆ†æè®¤è¯æ–¹å¼æ˜¯AUTH_UNIXï¼ˆAUTH_SYSï¼‰ï¼Œåªä¼ é€’äº†16ä¸ªç¾¤ç»„ã€‚æºç åˆ†æä»RFC5531 authsys_parmsæ•°æ®ç»“æ„å¯çœ‹å‡ºï¼Œgidsæ•°ç»„å¤§å°ä¸º16ï¼Œ struct authsys_parms { unsigned int stamp; string machinename&lt;255&gt;; unsigned int uid; unsigned int gid; unsigned int gids&lt;16&gt;; };è§£å†³æ–¹æ¡ˆè‡ªå»ºNFSrpc.mountd daemonæ˜¯NFS(v2,v3) MOUNTåè®®çš„æœåŠ¡ä¾§å®ç°ã€‚ä»ç®¡ç†å‘˜å‘½ä»¤mountdçš„æ‰‹å†Œå¯ä»¥çœ‹åˆ°ï¼Œ-g, --manage-gidsé€‰é¡¹å¯ä»¥ä»name serviceæŸ¥è¯¢ç¡®å®šgroup idsï¼Œè€Œä¸ä½¿ç”¨NFS clientæä¾›çš„ç”¨æˆ·çš„group idsã€‚å› æ­¤ï¼Œåœ¨å¯¼å‡ºæ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œè°ƒæ•´mountdçš„é€‰é¡¹ï¼Œå¹¶é…ç½®å¥½é€‚å½“çš„name serviceä»¥ä¾›æŸ¥è¯¢ã€‚è€ŒNFS v4çš„nfsdæ²¡æœ‰æåˆ°è¯¥é€‰é¡¹ï¼Œå°šä¸æ¸…æ¥šé€‰é¡¹ä¸è¡Œä¸ºå¦‚ä½•ã€‚NetApp1ï¼‰å¿…é¡»ä¸ºNFS Vserveré…ç½®LDAPæˆ–NISå¹¶ä½¿å…¶æ­£å¸¸è¿è¡Œã€‚ä¹Ÿå¯ä»¥æœ¬åœ°SVM UIDä¸ç¾¤ç»„æˆå‘˜æ–‡ä»¶ã€‚2ï¼‰LDAPæˆ–NISæœåŠ¡å™¨å¿…é¡» ä¸ºæ‰€æœ‰ç”¨æˆ·é…ç½®å…³è”çš„ç»„ã€‚3ï¼‰é…ç½®ns-switchåŒ…å« LDAP æˆ– NIS è¿›æ¥ï¼Œvs1::&gt; set -privilege advancedWarning: These advanced commands are potentially dangerous; use them only when directed to do so by NetApp personnel.Do you want to continue? {y|n}: yvs1::*&gt; vserver services name-service ns-switch modify -vserver &lt;svm_name&gt; -database passwd -sources files,nisvs1::*&gt; vserver services name-service ns-switch modify -vserver &lt;svm_name&gt; -database group -sources files,nisvs1::*&gt; vserver services name-service ns-switch show4ï¼‰é€šè¿‡è¿™ä¸¤ä¸ªé€‰é¡¹ï¼Œæ¥æ‰“å¼€è¶…è¿‡16ç¾¤ç»„çš„æ”¯æŒã€‚vs1::&gt; set -privilege advancedWarning: These advanced commands are potentially dangerous; use them only when directed to do so by NetApp personnel.Do you want to continue? {y|n}: yvs1::*&gt; vserver nfs modify -vserver vs1 -auth-sys-extended-groups enabled -extended-groups-limit 512vs1::*&gt; vserver nfs show -vserver vs1 -fields auth-sys-extended-groups,extended-groups-limitvserver auth-sys-extended-groups extended-groups-limit------- ------------------------ ---------------------vs1 enabled 5125ï¼‰è°ƒæ•´ç¼“å­˜å¤±æ•ˆæœŸé™ï¼ˆå¯é€‰ï¼‰æŸç”¨æˆ·æ‰“å¼€äº†NetAppå¯¹è¶…è¿‡16ç¾¤ç»„çš„æ”¯æŒï¼Œè¶…è¿‡16ç¾¤ç»„çš„ç”¨æˆ·ï¼Œå‡è®¾ç¾¤ç»„æ˜¯å…ˆå‰å·²ç»åŠ å¥½çš„ï¼Œåˆ™workï¼›å‡è®¾ç¾¤ç»„æ˜¯åˆšåŠ å…¥çš„ï¼Œåˆ™ä¸workã€‚ç»è¿‡åˆ†æï¼Œæ˜¯Name Serviceç¼“å­˜ã€å‡­æ®ç¼“å­˜å¤±æ•ˆæœŸé™è¿‡é•¿ã€‚è€Œç”¨æˆ·éªŒè¯æ—¶ï¼Œåœ¨æ–°åŠ ç¾¤ç»„å‡ åˆ†é’Ÿå†…å»éªŒè¯çš„ï¼Œæ­¤æ—¶ç¼“å­˜è¿˜æ˜¯æ—§çš„ï¼Œå› æ­¤ä¸workã€‚å¯æ ¹æ®ä¸šåŠ¡å®¹å¿åº¦ï¼Œé€‚å½“åœ°è°ƒæ•´ç¼“å­˜å¤±æ•ˆæ—¶é—´ã€‚ä¸ç¾¤ç»„ç›¸å…³çš„ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§ç¼“å­˜æ—¶é—´å¯ä»¥è°ƒæ•´ï¼Œåˆ†åˆ«æ˜¯name-service cacheï¼Œvserver cached-cred-negative-ttlï¼Œvserver cached-cred-positive-ttlã€‚æŸ¥è¯¢å‘½ä»¤ï¼švs1::*&gt; vserver services name-service cache group-membership settings show -vserver &lt;svm_name&gt; #åˆå§‹å€¼ä¸º2å°æ—¶ã€‚vs1::*&gt; vserver nfs show -vserver &lt;svm_name&gt; -fields cache-cred-negative-ttl #åˆå§‹å€¼ä¸º2å°æ—¶ã€‚vs1::*&gt; vserver nfs show -vserver &lt;svm_name&gt; -fields cache-cred-positive-ttl #åˆå§‹å€¼ä¸º24å°æ—¶ã€‚ä¿®æ”¹å‘½ä»¤vs1::*&gt; vserver services name-service cache group-membership settings modify -grplist-ttl 15m #ä¿®æ”¹ä¸º15minã€‚vs1::*&gt; vserver nfs modify -vserver &lt;svm_name&gt; -cached-cred-negative-ttl 900000 #å•ä½ï¼šæ¯«ç§’ï¼Œç­‰äº15minã€‚vs1::*&gt; vserver nfs modify -vserver &lt;svm_name&gt; -cached-cred-positive-ttl 900000 #å•ä½ï¼šæ¯«ç§’ï¼Œç­‰äº15minã€‚ä¿®æ”¹å®Œå†ä½¿ç”¨æŸ¥è¯¢å‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦å·²æ›´æ”¹ã€‚éªŒè¯å‘½ä»¤vs1::*&gt; vserver services name-service cache group-membership show -vserver &lt;svm_name&gt; -user &lt;username&gt;vs1::*&gt; vserver services name-service getxxbyy getgrlist -node &lt;node_name&gt; -vserver &lt;svm_name&gt; -use-cache true -username &lt;username&gt;vs1::*&gt; vserver services name-service getxxbyy getgrlist -node &lt;node_name&gt; -vserver &lt;svm_name&gt; -use-cache false -username &lt;username&gt;vs1::*&gt; vserver nfs credentials show -node &lt;node_name&gt; -vserver &lt;svm_name&gt; -unix-user-name &lt;username&gt;æ€»ç»“ä¸æ”¹NFS RPCä¼ è¾“çš„æ•°æ®ç»“æ„ï¼Œè€Œæ˜¯æœåŠ¡ç«¯å»Name ServiceæŸ¥ä¸€ä¸‹ã€‚è¿™åŒæ—¶ä¹Ÿè§£å†³äº†ç”¨æˆ·æ–°ç¾¤ç»„åœ¨æ—§VNC Sessionä¸ç”Ÿæ•ˆçš„é—®é¢˜ï¼šå³ä½¿ç”¨æˆ·åœ¨terminalé‡Œæ‰§è¡Œgroupsæ²¡æ˜¾ç¤ºåˆ°æ–°ç¾¤ç»„ï¼Œä½†ç”¨æˆ·èƒ½è®¿é—®æ–°ç¾¤ç»„æ‰æœ‰æƒé™è®¿é—®çš„ç›®å½•ï¼Œå› ä¸ºæ£€æŸ¥ç¾¤ç»„çš„è¿™ä¸ªæ­¥éª¤åœ¨æœåŠ¡ç«¯å®Œæˆã€‚å‚è€ƒèµ„æ–™:https://thinksystem.lenovofiles.com/storage/help/index.jsp?topic=%2Fnfs_file_access_reference_guide%2F1D3D018C-DF37-4C87-A789-58526A46B1A9_.htmlhttps://www.netapp.com/pdf.html?item=/media/10720-tr-4067.pdfhttps://kb.netapp.com/onprem/ontap/da/NAS/How_does_AUTH_SYS_Extended_Groups_change_NFS_authenticationhttps://datatracker.ietf.org/doc/html/rfc5531 P25 defines authsys_parms data structure, which limit the number of secondary groups up to 16.https://access.redhat.com/articles/625273https://docs.netapp.com/us-en/ontap/nfs-config/configure-name-service-switch-table-task.htmlhttps://kb.netapp.com/onprem/ontap/da/NAS/NFS_access_is_getting_denied_after_enabling_auth-sys-extended-groupsè‡´è°¢æ„Ÿè°¢EDACADç¤¾åŒºåŒå­¦çš„å¯¹äºè¯¥é—®é¢˜æ¿€çƒˆè®¨è®ºä¸åˆ†äº«ã€‚" }, { "title": "å¦‚ä½•è®©è½¯ä»¶ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„glibcè€Œä¸å¯¼è‡´ç³»ç»Ÿå´©æºƒ", "url": "/posts/how-to-use-a-different-version-of-glibc/", "categories": "icenv", "tags": "glibc", "date": "2024-03-26 23:45:00 +0000", "snippet": "èƒŒæ™¯ICè®¾è®¡ç¯å¢ƒéœ€è¦ä½¿ç”¨å¤§é‡çš„å¼€æºå·¥å…·ã€‚å¿«é€Ÿè¿­ä»£çš„å¼€æºå·¥å…·å¾€å¾€åœ¨å¼€å‘æ—¶ä¾èµ–äºé«˜ç‰ˆæœ¬çš„åº“ï¼Œå¦‚glibcåº“ã€‚ä½†ICè®¾è®¡ç¯å¢ƒä¸»æµè¿˜åœ¨ä½¿ç”¨CentOS 7.9ï¼Œç³»ç»Ÿè‡ªå¸¦çš„glibcä¸æ»¡è¶³è¿è¡Œæ¡ä»¶ã€‚é€šå¸¸ï¼Œä¸ºäº†æ»¡è¶³è¿è¡Œæ¡ä»¶ï¼ŒITå‘ä¸šåŠ¡æä¾›ä¸€å°è‡ªå¸¦é«˜ç‰ˆæœ¬ glibc çš„æ“ä½œç³»ç»Ÿä½¿ç”¨ã€‚å¦‚æœä»…ä»…ä¸ºäº†è¿è¡Œå°éƒ¨åˆ†ä¸å¸¸ç”¨çš„è½¯ä»¶ï¼Œè¿™ç§æ–¹å¼æˆæœ¬è¾ƒé«˜ã€‚è€Œå¦ä¸€ç§ç²—æš´çš„åšæ³•ï¼šä¸‹è½½é«˜ç‰ˆæœ¬glibcæºç å¹¶ç›´æ¥æ‰§è¡Œ./config...", "content": "èƒŒæ™¯ICè®¾è®¡ç¯å¢ƒéœ€è¦ä½¿ç”¨å¤§é‡çš„å¼€æºå·¥å…·ã€‚å¿«é€Ÿè¿­ä»£çš„å¼€æºå·¥å…·å¾€å¾€åœ¨å¼€å‘æ—¶ä¾èµ–äºé«˜ç‰ˆæœ¬çš„åº“ï¼Œå¦‚glibcåº“ã€‚ä½†ICè®¾è®¡ç¯å¢ƒä¸»æµè¿˜åœ¨ä½¿ç”¨CentOS 7.9ï¼Œç³»ç»Ÿè‡ªå¸¦çš„glibcä¸æ»¡è¶³è¿è¡Œæ¡ä»¶ã€‚é€šå¸¸ï¼Œä¸ºäº†æ»¡è¶³è¿è¡Œæ¡ä»¶ï¼ŒITå‘ä¸šåŠ¡æä¾›ä¸€å°è‡ªå¸¦é«˜ç‰ˆæœ¬ glibc çš„æ“ä½œç³»ç»Ÿä½¿ç”¨ã€‚å¦‚æœä»…ä»…ä¸ºäº†è¿è¡Œå°éƒ¨åˆ†ä¸å¸¸ç”¨çš„è½¯ä»¶ï¼Œè¿™ç§æ–¹å¼æˆæœ¬è¾ƒé«˜ã€‚è€Œå¦ä¸€ç§ç²—æš´çš„åšæ³•ï¼šä¸‹è½½é«˜ç‰ˆæœ¬glibcæºç å¹¶ç›´æ¥æ‰§è¡Œ./configure &amp;$ make &amp;&amp; make installè¿›è¡Œå‡çº§ï¼Œå°†å¯¼è‡´è¿ç»´äººâ€œä»å‹‡å£«å˜ä¸ºçƒˆå£«â€ã€‚éœ€æ±‚åœ¨å·²æœ‰çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œè®©è½¯ä»¶è¿è¡Œä¾èµ–äºé«˜ç‰ˆæœ¬çš„glibcï¼Œä½†åŒæ—¶ä¸èƒ½å½±å“ç³»ç»Ÿä¸å·²æœ‰è½¯ä»¶çš„æ­£å¸¸è¿è¡Œã€‚è§£å†³è‡ªè¡Œç¼–è¯‘ä¸€ä¸ªé«˜ç‰ˆæœ¬glibcï¼Œå¹¶è®©è½¯ä»¶ä½¿ç”¨å®ƒæä¾›çš„é“¾æ¥å™¨ï¼Œä»¥åŠè®©è½¯ä»¶å»æ‰¾å®ƒæä¾›çš„libcåº“ã€‚ç¼–è¯‘è¿™é‡Œä½¿ç”¨è‡ªåŠ¨åŒ–åŒ…ç®¡ç†å™¨spackè§£å†³è¯¸å¤šå¤æ‚çš„ä¾èµ–ã€‚$ spack install glibcè®©è½¯ä»¶ä½¿ç”¨å®ƒæºç é‡æ–°ç¼–è¯‘g++ main.o -o myapp ... \\ -Wl,--rpath=/path/to/newglibc_lib_dir \\ -Wl,--dynamic-linker=/path/to/newglibc_lib_dir/ld-linux.so.2ä¿®æ”¹å·²ç¼–è¯‘è½¯ä»¶ç”¨patchelfä¿®æ”¹ï¼Œé€‰é¡¹å¦‚ä¸‹patchelf --set-interpreter /path/to/newglibc_lib_dir/ld-linux.so.2 --set-rpath /path/to/newglibc_lib_dir/ myappå‚è€ƒèµ„æ–™https://lwn.net/Articles/631631/ ELFäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„ä»‹ç»ï¼ŒåŒ…æ‹¬è§£æå™¨çš„ä»‹ç»https://stackoverflow.com/a/44710599https://stackoverflow.com/a/851229" }, { "title": "svn ignoreè®¾ç½®", "url": "/posts/svn-ignore/", "categories": "icenv", "tags": "svn", "date": "2024-03-21 02:25:00 +0000", "snippet": "svn(subversion)å…³äºignoreçš„è®¾ç½®ï¼Œåœ¨æ–‡æœ«çš„å‚è€ƒèµ„æ–™ä¸­æœglobal-ignoresï¼Œå¯ä»¥çœ‹åˆ°ç”¨æˆ·æ²¡æœ‰åšä»»ä½•è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤å¿½ç•¥äº†ä¸€äº›åç¼€æ–‡ä»¶ã€‚å¦‚æœéœ€è¦ä¸å¿½ç•¥ï¼š å¯ä»¥é€šè¿‡æ˜¾ç¤ºåœ°åŠ ä¸Š â€“no-ignore é€‰é¡¹ã€‚æˆ–è€…ï¼Œ ä¿®æ”¹ ~/.subversion/config å…¨å±€æ–‡ä»¶ã€‚æˆ–è€…ï¼Œ svn propset svn:ignoreæ¥è®¾ç½®ä¸€ä¸ªç›®å½•ä¸‹ç›´æ¥æ–‡ä»¶ï¼Œsvn pro...", "content": "svn(subversion)å…³äºignoreçš„è®¾ç½®ï¼Œåœ¨æ–‡æœ«çš„å‚è€ƒèµ„æ–™ä¸­æœglobal-ignoresï¼Œå¯ä»¥çœ‹åˆ°ç”¨æˆ·æ²¡æœ‰åšä»»ä½•è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤å¿½ç•¥äº†ä¸€äº›åç¼€æ–‡ä»¶ã€‚å¦‚æœéœ€è¦ä¸å¿½ç•¥ï¼š å¯ä»¥é€šè¿‡æ˜¾ç¤ºåœ°åŠ ä¸Š â€“no-ignore é€‰é¡¹ã€‚æˆ–è€…ï¼Œ ä¿®æ”¹ ~/.subversion/config å…¨å±€æ–‡ä»¶ã€‚æˆ–è€…ï¼Œ svn propset svn:ignoreæ¥è®¾ç½®ä¸€ä¸ªç›®å½•ä¸‹ç›´æ¥æ–‡ä»¶ï¼Œsvn propset svn:global-ignores æ¥è®¾ç½®ä¸€ä¸ªç›®å½•æ ‘ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚å‚è€ƒèµ„æ–™https://svnbook.red-bean.com/nightly/en/svn.advanced.confarea.html#svn.advanced.confarea.opts.config" }, { "title": "é›†ç¾¤è¿è¡Œnfsiostatæ”¶é›†ä¿¡æ¯å¹¶åˆ†æ", "url": "/posts/cluster-nfsiostat/", "categories": "icenv", "tags": "storage", "date": "2024-03-17 12:25:00 +0000", "snippet": "å·¥ä½œä¸­å¶é‡åˆ°NFS Serverä¸­IO hangï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªåœ¨é›†ç¾¤ä¸­æ‰¹é‡è¿è¡Œnfsiostatå‘½ä»¤ï¼Œå¹¶æ”¶é›†ä¿¡æ¯ä¿å­˜è‡³excelæ–‡ä»¶ï¼ŒæŒ‰nfs serveråˆ†sheetï¼Œé”å®šç¬¬ä¸€è¡Œï¼Œå¹¶å¯¹æ¯ä¸€åˆ—æ±‡æ€»ã€‚ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥å®šåˆ¶ï¼Œå®šæœŸå°†æ•°æ®æ¨é€è‡³ElasticSearchï¼Œè®°å½•æ—¶åºæ•°æ®ä»¥åšè¿›ä¸€æ­¥åˆ†æã€‚# wanlinwang# 2024-03-17import reimport paramikoimpor...", "content": "å·¥ä½œä¸­å¶é‡åˆ°NFS Serverä¸­IO hangï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªåœ¨é›†ç¾¤ä¸­æ‰¹é‡è¿è¡Œnfsiostatå‘½ä»¤ï¼Œå¹¶æ”¶é›†ä¿¡æ¯ä¿å­˜è‡³excelæ–‡ä»¶ï¼ŒæŒ‰nfs serveråˆ†sheetï¼Œé”å®šç¬¬ä¸€è¡Œï¼Œå¹¶å¯¹æ¯ä¸€åˆ—æ±‡æ€»ã€‚ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥å®šåˆ¶ï¼Œå®šæœŸå°†æ•°æ®æ¨é€è‡³ElasticSearchï¼Œè®°å½•æ—¶åºæ•°æ®ä»¥åšè¿›ä¸€æ­¥åˆ†æã€‚# wanlinwang# 2024-03-17import reimport paramikoimport pandas as pdfrom io import StringIOfrom concurrent.futures import ThreadPoolExecutor# fs to mountpointfs2mp = {\"192.168.10.1:/nfs001\": \"home\",\"192.168.10.1:/nfs002\": \"tools\",\"192.168.10.2:/nfs003\": \"proj\",# Server information listservers = [\"192.168.10.1\",\"192.168.10.2\",]ops_pattern = r'\\b[\\d.]+(?: \\([\\d.]+\\))?|\\d+ \\(.*?\\)'# Execute nfsiostat and get the resultsdef get_nfsiostat(host, username=\"root\"): client = paramiko.SSHClient() client.set_missing_host_key_policy(paramiko.AutoAddPolicy()) client.connect(hostname=host, username=username, port=36000) stdin, stdout, stderr = client.exec_command('nfsiostat 2 2') # ç­‰å¾…ç¬¬ä¸€æ¬¡æŠ¥å‘Šçš„è¾“å‡ºå¹¶å¿½ç•¥ while not stdout.channel.recv_ready(): time.sleep(1) # è½®è¯¢ç­‰å¾…è¾“å‡º first_output = stdout.channel.recv(1000000) # è¯»å–å¹¶ä¸¢å¼ƒç¬¬ä¸€æ¬¡è¾“å‡º print(f\"{host} æ¥æ”¶åˆ°ç¬¬ä¸€æ¬¡æ•°æ®ã€‚\") #print(first_output.decode()) # ç­‰å¾…å¹¶è¯»å–ç¬¬äºŒæ¬¡ç»“æœ time.sleep(2) # æ¥æ”¶ç¬¬äºŒæ¬¡ output = b\"\" while not stdout.channel.eof_received: try: chunk = stdout.channel.recv(4096) if not chunk: break output += chunk except Eception as e: print(f\"æ¥æ”¶ç¬¬äºŒæ¬¡æ—¶å‘ç”Ÿé”™è¯¯{e}\") break print(f\"{host} ç¬¬äºŒæ¬¡ç»“æœ\") output = output.decode() #print(f\"output {output}\") client.close() return output# Parse nfsiostat outputdef parse_nfsiostat_output(server, output): data = [] output_io = StringIO(output) lines = output_io.readlines() lines = [line for line in lines if line.strip() != \"\"] for i in range(0, len(lines), 7): if i + 5 &lt; len(lines): #mount_point = \"/\".join(lines[i].strip().split(\"/\")[0:2]) mount_point = \"/\".join(re.split('/| ', lines[i].strip())[0:2]) ops_rpc = lines[i+2].strip().split() matches = re.findall(ops_pattern, lines[i+4]) read_ops = [float(num) if '.' in num else int(num) for num in matches] matches = re.findall(ops_pattern, lines[i+6]) write_ops = [float(num) if '.' in num else int(num) for num in matches] data.append({ \"server\": server, \"mount_point\": mount_point, \"op/s\": ops_rpc[0], \"rpc bklog\": ops_rpc[1], \"read_ops/s\": read_ops[0], \"read_kB/s\": read_ops[1], \"read_kB/op\": read_ops[2], \"read_retrans\": read_ops[3], \"read_retrans%\": str(read_ops[4]) + \"%\", \"read_avg RTT(ms)\": read_ops[5], \"read_avg exe(ms)\": read_ops[6], \"write_ops/s\": write_ops[0], \"write_kB/s\": write_ops[1], \"write_kB/op\": write_ops[2], \"write_retrans\": write_ops[3], \"write_retrans%\": str(write_ops[4]) + \"%\", \"write_avg RTT(ms)\": write_ops[5], \"write_avg exe(ms)\": write_ops[6] }) return data# Function to fetch and parse nfsiostat output for a single serverdef fetch_and_parse_nfsiostat(server): output = get_nfsiostat(server) return parse_nfsiostat_output(server, output)# Main program using ThreadPoolExecutor for concurrencydef main(): all_data = [] with ThreadPoolExecutor(max_workers=len(servers)) as executor: futures = [executor.submit(fetch_and_parse_nfsiostat, server) for server in servers] for future in futures: all_data.extend(future.result()) # Convert data to DataFrame for easier processing df = pd.DataFrame(all_data) # Removing duplicates, keeping only unique records df_unique = df.drop_duplicates() # Output to Excel file with different mount_points on different sheets # Generating the Excel file name with a timestamp current_time = datetime.now().strftime(\"%Y-%m-%d_%H-%M-%S\") excel_filename = f\"nfsiostat_data_{current_time}.xlsx\" with pd.ExcelWriter(excel_filename, engine='xlsxwriter') as writer: workbook = writer.book for mount_point in df_unique['mount_point'].unique(): df_mp = df_unique[df_unique['mount_point'] == mount_point] # å¯¹æ¯ä¸ªserverä¿ç•™op/sæœ€é«˜çš„è®°å½• df_mp = df_mp.sort_values(by='op/s', ascending=False).drop_duplicates(subset=['server'], keep='first') # å¯¹æŒ‡å®šåˆ—è¿›è¡Œé™åºæ’åº if 'write_kB/s' in df_mp.columns and 'read_kB/s' in df_mp.columns: df_mp = df_mp.sort_values(by=['write_kB/s', 'read_kB/s'], ascending=[False, False]) # åˆ›å»ºå·¥ä½œè¡¨å¹¶å†™å…¥æ•°æ® if mount_point in fs2mp: sheet_name = fs2mp[mount_point] else: sheet_name = mount_point.replace(\":/\", \"_\")[0:31] df_mp.to_excel(writer, sheet_name=sheet_name, index=False) # è·å–å·¥ä½œè¡¨å¯¹è±¡ worksheet = writer.sheets[sheet_name] # é”å®šç¬¬ä¸€è¡Œ worksheet.freeze_panes(1, 0) # è‡ªåŠ¨è°ƒæ•´åˆ—å®½ for column in df_mp: column_length = max(df_mp[column].astype(str).map(len).max(), len(column)) col_idx = df_mp.columns.get_loc(column) worksheet.set_column(col_idx, col_idx, column_length) # Identify numeric columns and exclude specific ones from sum calculation numeric_cols = df_mp.select_dtypes(include=['number']).columns numeric_cols = numeric_cols.drop(['read_avg RTT(ms)', 'read_avg exe(ms)', 'write_avg RTT(ms)', 'write_avg exe(ms)'], errors='ignore') # Exclude specific columns sum_row = df_mp[numeric_cols].sum().to_dict() sum_row = {col: sum_row.get(col, '') for col in df_mp.columns} # Include empty values for non-numeric columns df_sum = pd.DataFrame([sum_row]) startrow = len(df_mp) + 1 df_sum.to_excel(writer, sheet_name=sheet_name, startrow=startrow, index=False, header=False) # Format the sum row sum_format = workbook.add_format({'bold': True}) for col_num, value in enumerate(df_sum.columns): worksheet.write(startrow, col_num, sum_row[value], sum_format) print(f\"Data has been outputted to Excel file at {excel_filename}\")if __name__ == \"__main__\": main()" }, { "title": "time to read/write in spin disk", "url": "/posts/time-to-read-or-write-in-spin-disk/", "categories": "icenv", "tags": "disk", "date": "2024-03-13 15:30:00 +0000", "snippet": "å¯»é“ä»¥åŠæ—‹è½¬æ‰€éœ€æ—¶é—´ï¼Œç›¸åŠ ï¼šseek timeï¼š4ï½15mså¹³å‡ç­‰half a revolutionï¼šï½4msè¯»å†™è‡‚åˆ‡æ¢ç£é“æ—¶ï¼štime to è¯»å†™è‡‚åˆ‡æ¢trackï¼Œtime to servo seekï¼Œtime to settle onto the middle of the desired trackã€‚1ï¼‰ä»¥å‰çš„è®¾è®¡æ˜¯ä¸‹ä¸€ç£é“çš„ç¬¬ä¸€ä¸ª block ç´§æ¥ç€ä¸Šä¸€ç£é“æœ€åä¸€ä¸ª blockï¼Œè€Œè¯»...", "content": "å¯»é“ä»¥åŠæ—‹è½¬æ‰€éœ€æ—¶é—´ï¼Œç›¸åŠ ï¼šseek timeï¼š4ï½15mså¹³å‡ç­‰half a revolutionï¼šï½4msè¯»å†™è‡‚åˆ‡æ¢ç£é“æ—¶ï¼štime to è¯»å†™è‡‚åˆ‡æ¢trackï¼Œtime to servo seekï¼Œtime to settle onto the middle of the desired trackã€‚1ï¼‰ä»¥å‰çš„è®¾è®¡æ˜¯ä¸‹ä¸€ç£é“çš„ç¬¬ä¸€ä¸ª block ç´§æ¥ç€ä¸Šä¸€ç£é“æœ€åä¸€ä¸ª blockï¼Œè€Œè¯»å†™è‡‚åˆ‡æ¢trackéœ€è¦æ—¶é—´ï¼Œåˆ‡åˆ°ä¸‹ä¸€ç£é“æ—¶ï¼Œç¬¬ä¸€ä¸ªblockå·²ç»é”™è¿‡äº†ã€‚å› æ­¤éœ€è¦ç­‰å®ƒå®Œå…¨è½¬ä¸€åœˆæ‰èƒ½å¼€å§‹è¯»å–/å†™å…¥ï¼›2ï¼‰ç°åœ¨çš„è®¾è®¡ï¼Œä¸‹ä¸€ç£é“çš„ç¬¬ä¸€ä¸ª block å¤§çº¦åœ¨ä¸Šä¸€æ¬¡åˆ°æœ€åä¸€ä¸ª block çš„ 1/5 åœˆåã€‚è¿™æ ·è¯»å†™è‡‚åˆ‡æ¢è¿‡å»ï¼Œå¤§æ¦‚åˆ°ç¬¬ä¸€ä¸ª blockçš„ä½ç½®äº†ã€‚" }, { "title": "What is IOPs", "url": "/posts/iops/", "categories": "icenv", "tags": "storage", "date": "2024-03-13 04:30:00 +0000", "snippet": "æˆ‘ä»¬ç»å¸¸ä¼šå¬åˆ°æ–‡ä»¶ç³»ç»Ÿçš„IOPsï¼Œå®ƒæ˜¯input/output Operations Per Secondçš„ç¼©å†™ï¼Œå®ƒé€šå¸¸ç”¨äºè¡¡é‡æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚å¯¹äºè¯»å†™æ“ä½œï¼Œå®ƒé€šå¸¸æ˜¯ä»¥nå­—èŠ‚ä¸ºå•ä½çš„ï¼š æœ‰æ—¶å€™å®ƒè¢«ç§°ä¸ºoperation or block size ä¸€ä¸ª1MBçš„æ–‡ä»¶ä»¥256ä¸ª4KBå—çš„è¯»å–ï¼Œä¹Ÿå¯ä»¥ä»¥16ä¸ª64KBå—çš„è¯»å–ï¼šå¦‚æœæ˜¯4KBçš„å—åˆ™äº§ç”Ÿ256 IOPsï¼Œå¦‚æœæ˜¯64KBçš„å—åˆ™äº§ç”Ÿ16...", "content": "æˆ‘ä»¬ç»å¸¸ä¼šå¬åˆ°æ–‡ä»¶ç³»ç»Ÿçš„IOPsï¼Œå®ƒæ˜¯input/output Operations Per Secondçš„ç¼©å†™ï¼Œå®ƒé€šå¸¸ç”¨äºè¡¡é‡æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚å¯¹äºè¯»å†™æ“ä½œï¼Œå®ƒé€šå¸¸æ˜¯ä»¥nå­—èŠ‚ä¸ºå•ä½çš„ï¼š æœ‰æ—¶å€™å®ƒè¢«ç§°ä¸ºoperation or block size ä¸€ä¸ª1MBçš„æ–‡ä»¶ä»¥256ä¸ª4KBå—çš„è¯»å–ï¼Œä¹Ÿå¯ä»¥ä»¥16ä¸ª64KBå—çš„è¯»å–ï¼šå¦‚æœæ˜¯4KBçš„å—åˆ™äº§ç”Ÿ256 IOPsï¼Œå¦‚æœæ˜¯64KBçš„å—åˆ™äº§ç”Ÿ16 IOPsã€‚å…¶å®ƒéè¯»å†™æ“ä½œï¼Œå¦‚metadataçš„æ“ä½œï¼Œä¹Ÿå…±äº«äº†IOPsã€‚disk IOPsä¸front-end IOPsæ˜¯ä¸ç›¸åŒçš„ã€‚å‚è€ƒé“¾æ¥ï¼šWhat are IOPs? Why does the sum of all volume IOPS in an aggregate not match the aggregate IOPS? What available IOPS is" }, { "title": "LXC", "url": "/posts/lxc-snippets/", "categories": "icenv", "tags": "lxc", "date": "2024-03-10 00:30:00 +0000", "snippet": "lxc installationdnf install epel-releasednf install lxc lxc-doc lxc-templateslxc commandslxc-ls # list all instancesDOWNLOAD_KEYSERVER=\"hkp://keyserver.ubuntu.com\" lxc-create -n almalinux8 -B lvm -...", "content": "lxc installationdnf install epel-releasednf install lxc lxc-doc lxc-templateslxc commandslxc-ls # list all instancesDOWNLOAD_KEYSERVER=\"hkp://keyserver.ubuntu.com\" lxc-create -n almalinux8 -B lvm --vgname vg01 --thinpool almalinux8 --fssize=20G -t download -- -d almalinux -r 8 -a amd64lxc-start -n almalinux8 # start the instancelxc-info -n almalinux8 # get the instance infolxc-attach -n almalinux8 # attach to the instancelxc-stop -n almalinux8 # stop the instanceæ³¨æ„ï¼šéœ€åˆ›å»ºlvç»™å®¹å™¨çš„æ ¹ç›®å½•æ¥è¿è¡ŒFlexNet licã€‚é™¤åˆ›å»ºlvçš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥å‚è€ƒæ–‡æœ«â€å…¶å®ƒç›¸å…³èµ„æ–™â€ã€‚ç”¨ä»¥è§£å†³å¯åŠ¨æ—¶æŠ¥é”™ï¼š Cannot open daemon lock fileEXITING DUE TO SIGNAL 41 Exit reason 9***lmd exited with status 41 (Exited because another server was running)MULTIPLE â€œ***lmdâ€ license server systems running.Please kill, and run lmreread This error probbly results from either: Another copy of the license server manager (lmgrd) is running. A prior license server manager (lmgrd) was killed with â€œkill -9â€ customizing config for containervi /var/lib/lxc/almalinux8/config# Template used to create this container: /usr/share/lxc/templates/lxc-download# Parameters passed to the template: --dist almalinux --release 8 --arch amd64# For additional config options, please look at lxc.container.conf(5)# Uncomment the following line to support nesting containers:#lxc.include = /usr/share/lxc/config/nesting.conf# (Be aware this has security implications)# Distribution configurationlxc.include = /usr/share/lxc/config/common.conflxc.arch = x86_64# Container specific configurationlxc.rootfs.path = lvm:/dev/vg01/almalinux8lxc.uts.name = almalinux8# Network configurationlxc.net.0.type = vethlxc.net.0.link = virbr0lxc.net.0.flags = uplxc.net.0.hwaddr = 12:34:56:78:90:ablxc.net.0.ipv4.address = 192.168.122.2/24lxc.net.0.ipv4.gateway = 192.168.122.1# Mount entieslxc.mount.entry = /software software none bind,create=dir 0 0lxc.mount.entry = /tools tools none bind,create=dir 0 0lxc.mount.entry = /licenses licenses none bind,create=dir 0 0Creating a bridge NIC named virbr0# NetworkManagernmcli con add type bridge ifname virbr0 con-name virbr0nmcli con mod virbr0 ipv4.addresses 192.168.122.1/24 ipv4.method manualnmcli con up virbr0Firewall(DNAT and FORWARD)enable ipv4 forwarding which needed by NAT[root@lxc-host ~]# cat /proc/sys/net/ipv4/ip_forward0[root@lxc-host ~]# echo \"net.ipv4.ip_forward = 1\" &gt;&gt; /etc/sysctl.conf [root@lxc-host ~]# sysctl -pkernel.sysrq = 1sysctl: cannot stat /proc/sys/net/ipv6/conf/all/disable_ipv6: No such file or directorysysctl: cannot stat /proc/sys/net/ipv6/conf/default/disable_ipv6: No such file or directorysysctl: cannot stat /proc/sys/net/ipv6/conf/lo/disable_ipv6: No such file or directorykernel.numa_balancing = 0kernel.shmmax = 68719476736kernel.printk = 5net.ipv4.ip_forward = 1[root@lxc-host ~]# cat /proc/sys/net/ipv4/ip_forward1iptables# Generated by iptables-save*raw:PREROUTING ACCEPT [0:0]:OUTPUT ACCEPT [0:0]COMMIT*mangle:PREROUTING ACCEPT [0:0]:INPUT ACCEPT [0:0]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [0:0]:POSTROUTING ACCEPT [0:0]COMMIT*nat:PREROUTING ACCEPT [0:0]:INPUT ACCEPT [0:0]:OUTPUT ACCEPT [0:0]:POSTROUTING ACCEPT [0:0]-A PREROUTING -p tcp -m tcp --dport 5280 -j DNAT --to-destination 192.168.122.2:5280 #DNAT-A PREROUTING -p tcp -m tcp --dport 3000 -j DNAT --to-destination 192.168.122.2:3000 #DNAT-A POSTROUTING -o virbr0 -j MASQUERADE #DNAT# SNAT-A POSTROUTING -s 192.168.122.3/32 -o eth0 -j MASQUERADECOMMIT*filter:INPUT ACCEPT [0:0]:FORWARD ACCEPT [0:0]:OUTPUT ACCEPT [0:0]-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT-A INPUT -p icmp -j ACCEPT-A INPUT -i lo -j ACCEPT-A INPUT -j REJECT --reject-with icmp-host-prohibited# SNAT-A FORWARD -s 192.168.122.3/32 -j ACCEPT# DNAT-A FORWARD -d 192.168.122.2/32 -p tcp -m tcp --dport 5280 -j ACCEPT-A FORWARD -d 192.168.122.2/32 -p tcp -m tcp --dport 3000 -j ACCEPT-A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT-A FORWARD -j REJECT --reject-with icmp-host-prohibited-A OUTPUT -o lo -j ACCEPTCOMMITfirewalldsysctl net.ipv4.ip_forward=1firewall-cmd --zone=public --add-forward-port=port=5280:proto=tcp:toaddr=192.168.122.2:toport=5280 --permanentfirewall-cmd --zone=public --add-forward-port=port=3000:proto=tcp:toaddr=192.168.122.2:toport=3000 --permanentfirewall-cmd --zone=public --add-port=5280/tcp --permanentfirewall-cmd --zone=public --add-port=3000/tcp --permanentfirewall-cmd --zone=public --add-masquerade --permanentfirewall-cmd --reloadfirewall-cmd --list-allå…¶å®ƒç›¸å…³èµ„æ–™æ¥æº https://serverfault.com/q/922532 https://serverfault.com/a/1024360#define _GNU_SOURCE#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;dirent.h&gt;#include &lt;dlfcn.h&gt;#include &lt;string.h&gt;static int is_root = 0;static int d_ino = -1;static DIR *(*orig_opendir)(const char *name);static int (*orig_closedir)(DIR *dirp);static struct dirent *(*orig_readdir)(DIR *dirp);DIR *opendir(const char *name) { if (strcmp(name, \"/\") == 0) { is_root = 1; } return orig_opendir(name);}int closedir(DIR *dirp) { is_root = 0; return orig_closedir(dirp);}struct dirent *readdir(DIR *dirp) { struct dirent *r = orig_readdir(dirp); if (is_root &amp;&amp; r) { if (strcmp(r-&gt;d_name, \".\") == 0) { r-&gt;d_ino = d_ino; } else if (strcmp(r-&gt;d_name, \"..\") == 0) { r-&gt;d_ino = d_ino; } } return r;}static __attribute__((constructor)) void init_methods() { orig_opendir = dlsym(RTLD_NEXT, \"opendir\"); orig_closedir = dlsym(RTLD_NEXT, \"closedir\"); orig_readdir = dlsym(RTLD_NEXT, \"readdir\"); DIR *d = orig_opendir(\"/\"); struct dirent *e = orig_readdir(d); while (e) { if (strcmp(e-&gt;d_name, \".\") == 0) { d_ino = e-&gt;d_ino; break; } e = orig_readdir(d); } orig_closedir(d); if (d_ino == -1) { puts(\"Failed to determine root directory inode number\"); exit(EXIT_FAILURE); }}gcc -ldl -shared -fPIC snpslmd-ld-preload.c -o snpslmd-ld-preload.sovi snpslmd#!/bin/shexport LD_PRELOAD=snpslmd-ld-preload.soexec /path/to/original_snpslmd \"$@\"" }, { "title": "lmgrd not found but exists", "url": "/posts/lmgrd-not-found-but-exists/", "categories": "icenv", "tags": "lic", "date": "2024-03-10 00:30:00 +0000", "snippet": "$ strace -s 512 /software/Cadence/XCELIUM/23.09/tools.lnx86/bin/64bit/lmgrd -c cadence.txtexecve(\"/software/Cadence/XCELIUM/23.09/tools.lnx86/bin/64bit/lmgrd\", [\"/software/Cadence/XCELIUM/23.09/too...", "content": "$ strace -s 512 /software/Cadence/XCELIUM/23.09/tools.lnx86/bin/64bit/lmgrd -c cadence.txtexecve(\"/software/Cadence/XCELIUM/23.09/tools.lnx86/bin/64bit/lmgrd\", [\"/software/Cadence/XCELIUM/23.09/tools.lnx86/bin/64bit/lmgrd\", \"-c\", \"cadence.txt\"], 0x7fff138508d0 /* 33 vars */) = -1 ENOENT (No such file or directory)strace: exec: No such file or directory+++ exited with 1 +++sulotion$ dnf install lsb" }, { "title": "ICè¡Œä¸šä¸Šäº‘", "url": "/posts/tips-for-cloud/", "categories": "icenv", "tags": "cloud", "date": "2024-03-09 13:27:00 +0000", "snippet": "AMDå…³æ³¨çš„é¢†åŸŸä¹‹ä¸€æ˜¯å‰ç«¯éªŒè¯ã€‚ é¦–é€‰çš„æµç¨‹åŒ…æ‹¬å°†ä»–ä»¬çš„æ„å»ºä¿ç•™åœ¨æœ¬åœ°ï¼Œå°†æ¨¡å‹æœ¬èº«ä¸æµ‹è¯•åˆºæ¿€æ†ç»‘åœ¨ä¸€èµ·ï¼Œç„¶åå°†å…¶å‘é€å‡ºå»ä»¥åœ¨äº‘è®¡ç®—ä¸Šæ‰§è¡Œå®é™…çš„æ¨¡æ‹Ÿæ´»åŠ¨ã€‚å‚è€ƒèµ„æ–™https://semiengineering.com/navigating-eda-vendor-cloud-options/", "content": "AMDå…³æ³¨çš„é¢†åŸŸä¹‹ä¸€æ˜¯å‰ç«¯éªŒè¯ã€‚ é¦–é€‰çš„æµç¨‹åŒ…æ‹¬å°†ä»–ä»¬çš„æ„å»ºä¿ç•™åœ¨æœ¬åœ°ï¼Œå°†æ¨¡å‹æœ¬èº«ä¸æµ‹è¯•åˆºæ¿€æ†ç»‘åœ¨ä¸€èµ·ï¼Œç„¶åå°†å…¶å‘é€å‡ºå»ä»¥åœ¨äº‘è®¡ç®—ä¸Šæ‰§è¡Œå®é™…çš„æ¨¡æ‹Ÿæ´»åŠ¨ã€‚å‚è€ƒèµ„æ–™https://semiengineering.com/navigating-eda-vendor-cloud-options/" }, { "title": "ç¯å¢ƒå˜é‡çš„é«˜ä¼˜å…ˆçº§å€¼", "url": "/posts/top-priority-environment-variables-in-environment-modules/", "categories": "icenv", "tags": "modules", "date": "2024-02-22 04:00:00 +0000", "snippet": "å°†è·¯å¾„ä¿æŒåœ¨æœ€å‰é¢ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š å®˜ç½‘çš„æ–¹å¼ï¼šhttps://modules.readthedocs.io/en/latest/cookbook/top-priority-values.html æˆ‘è®¾è®¡çš„æ–¹å¼ï¼šåœ¨æœ‰å‘½ä»¤å†²çªçš„modulefileé‡Œï¼Œå¦‚xceliumé‡Œï¼ŒåŠ ä¸Šè¿™æ®µä½¿å¾—indagoå·¥å…·çš„PATHå˜é‡åœ¨å‰é¢ï¼Œä¼˜å…ˆçº§æ›´é«˜ã€‚è¿™æ ·ï¼Œè¿è¡Œçš„indagoå‘½ä»¤æ˜¯æ¥è‡ªäºin...", "content": "å°†è·¯å¾„ä¿æŒåœ¨æœ€å‰é¢ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š å®˜ç½‘çš„æ–¹å¼ï¼šhttps://modules.readthedocs.io/en/latest/cookbook/top-priority-values.html æˆ‘è®¾è®¡çš„æ–¹å¼ï¼šåœ¨æœ‰å‘½ä»¤å†²çªçš„modulefileé‡Œï¼Œå¦‚xceliumé‡Œï¼ŒåŠ ä¸Šè¿™æ®µä½¿å¾—indagoå·¥å…·çš„PATHå˜é‡åœ¨å‰é¢ï¼Œä¼˜å…ˆçº§æ›´é«˜ã€‚è¿™æ ·ï¼Œè¿è¡Œçš„indagoå‘½ä»¤æ˜¯æ¥è‡ªäºindagoå·¥å…·ç›®å½•çš„indagoã€‚ if { [ info exists env(LOADEDMODULES) ] } { set loaded_module_list [ split $env(LOADEDMODULES) \":\"] foreach modulefile $loaded_module_list { if {[regexp {^(indago|VDEBUG)} $modulefile]} { module swap --not-req $modulefile #--not-reqä»¥ä¾¿å…è®¸ç”¨æˆ·åˆ‡æ¢ç‰ˆæœ¬ã€‚å¦‚æœä¸åŠ ï¼Œå…¶ä¾èµ–å…³ç³»å°†é˜»æ­¢ç”¨æˆ·åˆ‡æ¢ç‰ˆæœ¬ã€‚ break } }} " }, { "title": "verilatoræ€§èƒ½ä¼˜åŒ–", "url": "/posts/verilator-accelerated/", "categories": "icenv", "tags": "verilator", "date": "2024-02-20 02:45:00 +0000", "snippet": "å‚è€ƒèµ„æ–™ï¼š https://veripool.org/papers/Verilator_Accelerated_OSDA2020.pdf https://verilator.org/guide/latest/environment.html#cmdoption-arg-OBJCACHE verilatorå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼ç¼–è¯‘å™¨ distccï¼ˆhttps://github.com/distc...", "content": "å‚è€ƒèµ„æ–™ï¼š https://veripool.org/papers/Verilator_Accelerated_OSDA2020.pdf https://verilator.org/guide/latest/environment.html#cmdoption-arg-OBJCACHE verilatorå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼ç¼–è¯‘å™¨ distccï¼ˆhttps://github.com/distcc/distcc?tab=readme-ov-fileï¼‰ æ¥åˆ©ç”¨å¤šæœºç¼–è¯‘ã€‚ https://veripool.org/papers/Verilator_Fast_Free_Me_DVClub10_pres.pdf P23æåˆ°ä½¿ç”¨distcc + ccacheåœ¨å¤šæœºè¿›è¡Œç¼–è¯‘ã€‚" }, { "title": "tcp/udpè¿é€šæ€§æµ‹è¯•", "url": "/posts/tcp-and-udp-connectivity-checking/", "categories": "icenv", "tags": "network", "date": "2024-02-18 01:45:00 +0000", "snippet": "èƒŒæ™¯è¯´èµ·å¼€é€šé˜²ç«å¢™ç«¯å£ï¼ˆæ¯”å¦‚FlexNet license serverçš„ç«¯å£ï¼‰ï¼Œé€šå¸¸ç”¨çš„æ˜¯TCPåè®®ï¼Œå¤§å®¶é€šå¸¸ä¹Ÿé»˜è®¤æ˜¯ä¸ºéœ€è¦å¼€é€šçš„ç«¯å£ï¼Œå¼€é€šTCPåè®®çš„è®¿é—®ã€‚ç”±äºå¤§éƒ¨åˆ†æœåŠ¡ä½¿ç”¨äº†TCPåè®®ï¼Œè¿™æ ·å¼€é€šæ²¡é—®é¢˜ã€‚ä½†æ˜¯æœ‰äº›ä½¿ç”¨äº†UDPåè®®ï¼Œå¯¼è‡´æœåŠ¡æ— æ³•èµ·æ¥ï¼Œå¦‚è¿™ç¯‡æ–‡ç« æåˆ°çš„lsfæœåŠ¡èµ·ä¸æ¥çš„é—®é¢˜ã€‚ç¯å¢ƒå‡†å¤‡å¦‚æœæœåŠ¡å·²ç»å¯åŠ¨ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿›è¡Œè¿é€šæ€§æµ‹è¯•ï¼›å¦‚æœæœåŠ¡è¿˜æ²¡å¯åŠ¨ï¼Œä½†éœ€è¦å…ˆæµ‹è¯•è¿é€šæ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸‹...", "content": "èƒŒæ™¯è¯´èµ·å¼€é€šé˜²ç«å¢™ç«¯å£ï¼ˆæ¯”å¦‚FlexNet license serverçš„ç«¯å£ï¼‰ï¼Œé€šå¸¸ç”¨çš„æ˜¯TCPåè®®ï¼Œå¤§å®¶é€šå¸¸ä¹Ÿé»˜è®¤æ˜¯ä¸ºéœ€è¦å¼€é€šçš„ç«¯å£ï¼Œå¼€é€šTCPåè®®çš„è®¿é—®ã€‚ç”±äºå¤§éƒ¨åˆ†æœåŠ¡ä½¿ç”¨äº†TCPåè®®ï¼Œè¿™æ ·å¼€é€šæ²¡é—®é¢˜ã€‚ä½†æ˜¯æœ‰äº›ä½¿ç”¨äº†UDPåè®®ï¼Œå¯¼è‡´æœåŠ¡æ— æ³•èµ·æ¥ï¼Œå¦‚è¿™ç¯‡æ–‡ç« æåˆ°çš„lsfæœåŠ¡èµ·ä¸æ¥çš„é—®é¢˜ã€‚ç¯å¢ƒå‡†å¤‡å¦‚æœæœåŠ¡å·²ç»å¯åŠ¨ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿›è¡Œè¿é€šæ€§æµ‹è¯•ï¼›å¦‚æœæœåŠ¡è¿˜æ²¡å¯åŠ¨ï¼Œä½†éœ€è¦å…ˆæµ‹è¯•è¿é€šæ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸‹è¿°å‘½ä»¤ï¼Œåœ¨æœåŠ¡ç«¯ä»¥ç›¸åº”çš„åè®®ç›‘å¬å¯¹åº”çš„ç«¯å£ï¼šç›‘å¬TCPï¼šnc -l &lt;port&gt;ç›‘å¬UDPï¼šnc -ul &lt;port&gt;è¿é€šæ€§æµ‹è¯•è¯´èµ·æµ‹è¯•ç«¯å£è¿é€šæ€§ï¼Œå¤§å®¶ä¹Ÿç¬¬ä¸€æ—¶é—´æƒ³åˆ°telnetå·¥å…·ã€‚ä½†telnetæ˜¯åŸºäºTCPåè®®çš„ï¼Œå› æ­¤åªèƒ½æµ‹è¯•tcpçš„è¿é€šæ€§ï¼Œæ— æ³•æµ‹è¯•udpçš„è¿é€šæ€§ã€‚å…ˆæ˜ç¡®æœåŠ¡ä½¿ç”¨äº†å“ªäº›ç«¯å£ä»€ä¹ˆåè®®ï¼Œç„¶åä½¿ç”¨å¯¹åº”çš„å·¥å…·ï¼Œé€ä¸ªæµ‹è¯•å…¶è¿é€šæ€§ã€‚å¦‚ä½•æµ‹è¯•TCPè¿é€šæ€§ï¼Ÿtelnetå·¥å…·ç”¨æ³•ï¼štelnet &lt;hostname&gt; [&lt;port&gt;]ncå·¥å…·ç”¨æ³•ï¼šnc -zv &lt;hostname&gt; &lt;port&gt;å¦‚ä½•æµ‹è¯•UDPè¿é€šæ€§ï¼Ÿncå·¥å…·ç”¨æ³•ï¼šnc -zvu &lt;hostname&gt; &lt;port&gt;å‚è€ƒèµ„æ–™https://en.wikipedia.org/wiki/Telnet telnetæ˜¯åŸºäºTCPåè®®çš„ï¼Œå› æ­¤åªèƒ½æµ‹è¯•tcpçš„è¿é€šæ€§ã€‚" }, { "title": "straceå‘½ä»¤è¿½è¸ªå­è¿›ç¨‹ä»¥åŠå¤šçº¿ç¨‹", "url": "/posts/strace-subprocess-and-threads/", "categories": "icenv", "tags": "strace", "date": "2024-01-29 02:15:00 +0000", "snippet": "å¤šçº¿ç¨‹straceå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨-fæ¥è¿½è¸ª-p &lt;PID&gt;æŒ‡å®šè¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹ã€‚å­è¿›ç¨‹å¯¹äºå­è¿›ç¨‹å‘¢ï¼Œstraceæ˜¯å¦‚ä½•è¿½è¸ªçš„ï¼Ÿstraceå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨-fæ¥è¿½è¸ªè¢«è¿½è¸ªæ—¶æ–°åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œè€Œä¸ä¼šè¿½è¸ªåŸæ¥å·²ç»åˆ›å»ºäº†çš„å­è¿›ç¨‹ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦è¿½è¸ªä¸€ä¸ªå·²ç»å¯åŠ¨çš„è¿›ç¨‹çš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œéœ€è¦åˆ†åˆ«å°†å­è¿›ç¨‹IDç”¨-p &lt;PID&gt;ä¼ è¿›æ¥è¿½è¸ªã€‚", "content": "å¤šçº¿ç¨‹straceå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨-fæ¥è¿½è¸ª-p &lt;PID&gt;æŒ‡å®šè¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹ã€‚å­è¿›ç¨‹å¯¹äºå­è¿›ç¨‹å‘¢ï¼Œstraceæ˜¯å¦‚ä½•è¿½è¸ªçš„ï¼Ÿstraceå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨-fæ¥è¿½è¸ªè¢«è¿½è¸ªæ—¶æ–°åˆ›å»ºçš„å­è¿›ç¨‹ï¼Œè€Œä¸ä¼šè¿½è¸ªåŸæ¥å·²ç»åˆ›å»ºäº†çš„å­è¿›ç¨‹ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦è¿½è¸ªä¸€ä¸ªå·²ç»å¯åŠ¨çš„è¿›ç¨‹çš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œéœ€è¦åˆ†åˆ«å°†å­è¿›ç¨‹IDç”¨-p &lt;PID&gt;ä¼ è¿›æ¥è¿½è¸ªã€‚" }, { "title": "Pyhon2 to Python3", "url": "/posts/2to3/", "categories": "icenv", "tags": "python", "date": "2024-01-26 08:15:00 +0000", "snippet": "èƒŒæ™¯Imaginationæä¾›çš„flowè„šæœ¬æ˜¯åŸºäºPython2çš„ï¼Œé‡Œé¢å¯¼å…¥ä¸€ä¸ªPILæ¨¡å—ã€‚ä½†æ˜¯ä½¿ç”¨pip2 install PILæˆ–pip2 install pillowå´æ— æ³•è£…ä¸Šã€‚è§£å†³ç°åœ¨Python2å·²ç»ä¸ç»´æŠ¤äº†ï¼Œäº‰å–å°†ä»£ç è¿ç§»åˆ°Python3ä¸Šæ¥ã€‚å®‰è£…2to3:åœ¨Python 2.7ä¸‹ï¼Œpip2 install 2to3è½¬æ¢2to3 -w /path/to/python2.pyå°±å¯ä»¥...", "content": "èƒŒæ™¯Imaginationæä¾›çš„flowè„šæœ¬æ˜¯åŸºäºPython2çš„ï¼Œé‡Œé¢å¯¼å…¥ä¸€ä¸ªPILæ¨¡å—ã€‚ä½†æ˜¯ä½¿ç”¨pip2 install PILæˆ–pip2 install pillowå´æ— æ³•è£…ä¸Šã€‚è§£å†³ç°åœ¨Python2å·²ç»ä¸ç»´æŠ¤äº†ï¼Œäº‰å–å°†ä»£ç è¿ç§»åˆ°Python3ä¸Šæ¥ã€‚å®‰è£…2to3:åœ¨Python 2.7ä¸‹ï¼Œpip2 install 2to3è½¬æ¢2to3 -w /path/to/python2.pyå°±å¯ä»¥åŸåœ°å°†/path/to/python2.pyé‡Œé¢çš„å†…å®¹ï¼Œè½¬æ¢æˆPython3çš„è¯­æ³•äº†ã€‚ä½†æ˜¯ç¬¬ä¸€è¡Œçš„è§£æå™¨æ²¡æœ‰ä¿®æ”¹ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ‰‹åŠ¨å°†è§£æå™¨ä¿®æ”¹è‡³æ­£ç¡®çš„Python3çš„ä½ç½®ã€‚å‚è€ƒèµ„æ–™https://pypi.org/project/2to3/" }, { "title": "Windowsä¸‹ä½¿ç”¨pspingå·¥å…·æµ‹åˆ°æŒ‡å®šip:portçš„å»¶æ—¶", "url": "/posts/psping/", "categories": "icenv", "tags": "psping", "date": "2024-01-26 07:15:00 +0000", "snippet": "é—®é¢˜å¦‚ä½•è·å¾—ä»Windowsåˆ°ä¸€ä¸ªIP:PORTçš„ç½‘ç»œå»¶æ—¶ï¼Ÿå·¥å…·PsPingæ˜¯å¾®è½¯æä¾›çš„ï¼Œå®ç°äº†pingã€tcp pingã€å»¶æ—¶ä¸å¸¦å®½æµ‹é‡çš„å·¥å…·ã€‚PS C:\\Users\\wanlinwang&gt; C:\\Users\\wanlinwang\\Downloads\\PSTools\\psping 192.168.1.2:3389PsPing v2.12 - PsPing - ping, latenc...", "content": "é—®é¢˜å¦‚ä½•è·å¾—ä»Windowsåˆ°ä¸€ä¸ªIP:PORTçš„ç½‘ç»œå»¶æ—¶ï¼Ÿå·¥å…·PsPingæ˜¯å¾®è½¯æä¾›çš„ï¼Œå®ç°äº†pingã€tcp pingã€å»¶æ—¶ä¸å¸¦å®½æµ‹é‡çš„å·¥å…·ã€‚PS C:\\Users\\wanlinwang&gt; C:\\Users\\wanlinwang\\Downloads\\PSTools\\psping 192.168.1.2:3389PsPing v2.12 - PsPing - ping, latency, bandwidth measurement utilityCopyright (C) 2012-2023 Mark RussinovichSysinternals - www.sysinternals.comTCP connect to 192.168.1.2:3389:5 iterations (warmup 1) ping test:Connecting to 192.168.1.2:3389 (warmup): from 192.168.11.10:57712: 0.33msConnecting to 192.168.1.2:3389: from 192.168.11.10:57714: 0.31msConnecting to 192.168.1.2:3389: from 192.168.11.10:57716: 0.33msConnecting to 192.168.1.2:3389: from 192.168.11.10:57718: 0.34ms Sent = 3, Received = 3, Lost = 0 (0% loss), Minimum = 0.31ms, Maximum = 0.34ms, Average = 0.33msControl-Cå‚è€ƒèµ„æ–™https://learn.microsoft.com/en-us/sysinternals/downloads/psping" }, { "title": "spack bootstrap in air-gapped system", "url": "/posts/spack-bootstrap-in-air-gapped-system/", "categories": "icenv", "tags": "spack", "date": "2024-01-21 03:15:00 +0000", "snippet": "èƒŒæ™¯é¦–æ¬¡ä½¿ç”¨spackæ—¶ï¼Œè™½ç„¶å°†gmake-4.4.1.tar.gzåŒ…ä¸‹è½½è‡³mirrorç›®å½•ï¼Œä½†è¿˜æ˜¯æç¤ºå¦‚ä¸‹ï¼šspack install gcc@13.2.0 +binutils==&gt; Installing gmake-4.4.1-bun3eynjvtrgzylwfldooydmcbtgsavx [1/2]==&gt; No binary for gmake-4.4.1-bun3eyn...", "content": "èƒŒæ™¯é¦–æ¬¡ä½¿ç”¨spackæ—¶ï¼Œè™½ç„¶å°†gmake-4.4.1.tar.gzåŒ…ä¸‹è½½è‡³mirrorç›®å½•ï¼Œä½†è¿˜æ˜¯æç¤ºå¦‚ä¸‹ï¼šspack install gcc@13.2.0 +binutils==&gt; Installing gmake-4.4.1-bun3eynjvtrgzylwfldooydmcbtgsavx [1/2]==&gt; No binary for gmake-4.4.1-bun3eynjvtrgzylwfldooydmcbtgsavx found: installing from source==&gt; Error: FetchError: All fetchers failed for spack-stage-gmake-4.4.1-bun3eynjvtrgzylwfldooydmcbtgsavxåˆ†æéœ€å…ˆåœ¨ç¦»çº¿ç³»ç»Ÿä¸‹spack bootstrapã€‚åœ¨air-gapped systemï¼ˆç¦»çº¿ç³»ç»Ÿï¼‰éœ€è¦æ‰‹åŠ¨å°†bootstrapç›¸å…³åŒ…å‡†å¤‡å¥½ï¼Œå¦åˆ™spackä¼šå°è¯•å»äº’è”ç½‘å–å¹¶å¤±è´¥ã€‚æ­¥éª¤åœ¨åœ¨çº¿ç³»ç»Ÿä¸‹ï¼Œæ‰§è¡Œ$ spack bootstrap mirror --binary-packages /opt/bootstrap==&gt; Adding \"clingo-bootstrap@spack+python %apple-clang target=x86_64\" and dependencies to the mirror at /opt/bootstrap/local-mirror==&gt; Adding \"gnupg@2.3: %apple-clang target=x86_64\" and dependencies to the mirror at /opt/bootstrap/local-mirror==&gt; Adding \"patchelf@0.13.1:0.13.99 %apple-clang target=x86_64\" and dependencies to the mirror at /opt/bootstrap/local-mirror==&gt; Adding binary packages from \"https://github.com/alalazo/spack-bootstrap-mirrors/releases/download/v0.1-rc.2/bootstrap-buildcache.tar.gz\" to the mirror at /opt/bootstrap/local-mirrorå°†/opt/bootstrapç›®å½•æ‹·è´åˆ°ç¦»çº¿ç³»ç»Ÿä¸‹ï¼Œå¹¶æ·»åŠ ï¼Œ$ spack bootstrap add --trust local-sources /opt/bootstrap/metadata/sources$ spack bootstrap add --trust local-binaries /opt/bootstrap/metadata/binariesæ•ˆæœ$ spack install gcc@13.2.0 +binutils==&gt; Fetching file:///tools/opensrc/spack/spack-mirror/bootstrap_cache/build_cache/linux-centos7-x86_64-gcc-10.2.1-patchelf-0.16.1-p72zyan5wrzuabtmzq7isa5mzyh6ahdp.spec.json==&gt; Fetching file:///tools/opensrc/spack/spack-mirror/bootstrap_cache/build_cache/linux-centos7-x86_64/gcc-10.2.1/patchelf-0.16.1/linux-centos7-x86_64-gcc-10.2.1-patchelf-0.16.1-p72zyan5wrzuabtmzq7isa5mzyh6ahdp.spack==&gt; Installing \"patchelf@=0.16.1%gcc@=10.2.1 ldflags=\"-static-libstdc++ -static-libgcc\" build_system=autotools arch=linux-centos7-x86_64\" from a buildcache==&gt; Fetching file:///tools/opensrc/spack/spack-mirror/bootstrap_cache/build_cache/linux-centos7-x86_64-gcc-10.2.1-clingo-bootstrap-spack-prqkzynv2nwko5mktitebgkeumuxkveu.spec.json==&gt; Fetching file:///tools/opensrc/spack/spack-mirror/bootstrap_cache/build_cache/linux-centos7-x86_64/gcc-10.2.1/clingo-bootstrap-spack/linux-centos7-x86_64-gcc-10.2.1-clingo-bootstrap-spack-prqkzynv2nwko5mktitebgkeumuxkveu.spack==&gt; Installing \"clingo-bootstrap@=spack%gcc@=10.2.1~docs~ipo+python+static_libstdcpp build_type=Release arch=linux-centos7-x86_64\" from a buildcache==&gt; Installing gmake-4.4.1-7xujubssqx5cedh3lnbz7nhzgn2kjpyh [1/30]==&gt; No binary for gmake-4.4.1-7xujubssqx5cedh3lnbz7nhzgn2kjpyh found: installing from sourceå‚è€ƒèµ„æ–™https://spack.readthedocs.io/en/latest/bootstrapping.html#creating-a-mirror-for-air-gapped-systems" }, { "title": "new group and change directory", "url": "/posts/new-group-n-chdir/", "categories": "icenv", "tags": "newgrp", "date": "2024-01-19 02:19:00 +0000", "snippet": "ä»‹ç»newgrpå¯åŠ¨ä¸€ä¸ªæ–°shellã€‚ç”¨æˆ·ä¸€èˆ¬ä¼šæ‹¥æœ‰å¤šä¸ªç¾¤ç»„ã€‚åˆ‡æ¢primaryç¾¤ç»„æ—¶ä¼šå¸¦æ¥å¾ˆå¤šéº»çƒ¦ã€‚å®è·µå¦‚æœgroupåå­—ä¸ç›®å½•åå­—ä¸ä¸€æ ·ï¼Œå°±æ”¾è¿™ä¸ªè¿›å»åˆ°~/.cshrcæ–‡ä»¶ï¼Œé€šè¿‡ä¸åŒåˆ†æ”¯æ¥åˆ¤æ–­ã€‚alias new_group 'setenv NEW_MANNUALY_GROUP \\!:1; exec newgrp $NEW_MANNUALY_GROUP'if ($?NEW_MANNUAL...", "content": "ä»‹ç»newgrpå¯åŠ¨ä¸€ä¸ªæ–°shellã€‚ç”¨æˆ·ä¸€èˆ¬ä¼šæ‹¥æœ‰å¤šä¸ªç¾¤ç»„ã€‚åˆ‡æ¢primaryç¾¤ç»„æ—¶ä¼šå¸¦æ¥å¾ˆå¤šéº»çƒ¦ã€‚å®è·µå¦‚æœgroupåå­—ä¸ç›®å½•åå­—ä¸ä¸€æ ·ï¼Œå°±æ”¾è¿™ä¸ªè¿›å»åˆ°~/.cshrcæ–‡ä»¶ï¼Œé€šè¿‡ä¸åŒåˆ†æ”¯æ¥åˆ¤æ–­ã€‚alias new_group 'setenv NEW_MANNUALY_GROUP \\!:1; exec newgrp $NEW_MANNUALY_GROUP'if ($?NEW_MANNUALY_GROUP) then switch ($NEW_MANNUALY_GROUP) case 'group001': cd /project/group001/${USER} &amp;&amp; unsetenv NEW_MANNUALY_GROUP breaksw case 'group002': cd /project/group002/${USER} &amp;&amp; unsetenv NEW_MANNUALY_GROUP breaksw endswendifå¦‚æœgroupåå­—ä¸ç›®å½•åå­—ä¸€æ ·ï¼Œå°±æ”¾è¿™æ®µè¿›å»åˆ°~/.cshrcæ–‡ä»¶ï¼Œç®€å•ï¼šalias new_group 'setenv NEW_MANNUALY_GROUP \\!:1; exec newgrp $NEW_MANNUALY_GROUP'if ($?NEW_MANNUALY_GROUP) then cd /project/${NEW_MANNUALY_GROUP}/${USER} &amp;&amp; unsetenv NEW_MANNUALY_GROUPendifç„¶åå°±å¯ä»¥æ‰§è¡Œ new_grp xxxx æ¥åˆ‡æ¢è‡³xxxxç¾¤ç»„äº†ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä¿æŒå½“å‰ç¯å¢ƒå˜é‡ã€‚" }, { "title": "Pull-Through Cache Docker Registryå®è·µ", "url": "/posts/registry-as-a-pull-through-cache/", "categories": "icenv", "tags": "registry", "date": "2024-01-17 08:30:00 +0000", "snippet": "èƒŒæ™¯å®¹å™¨åœ¨risc-vç¤¾åŒºæ¯”è¾ƒæµè¡Œã€‚è¿™é‡Œä»‹ç»å®¹å™¨åœ¨ç ”å‘ç¯å¢ƒçš„å®è·µï¼Œèƒ½å¤Ÿå•å‘æ‹‰å–é•œåƒè¿è¡Œï¼Œä¸èƒ½æ¨é€ã€‚+------------------------------------+ +------------------------------+ +-----------+| Upstream Docker | | Pu...", "content": "èƒŒæ™¯å®¹å™¨åœ¨risc-vç¤¾åŒºæ¯”è¾ƒæµè¡Œã€‚è¿™é‡Œä»‹ç»å®¹å™¨åœ¨ç ”å‘ç¯å¢ƒçš„å®è·µï¼Œèƒ½å¤Ÿå•å‘æ‹‰å–é•œåƒè¿è¡Œï¼Œä¸èƒ½æ¨é€ã€‚+------------------------------------+ +------------------------------+ +-----------+| Upstream Docker | | Pull-Through Cache | | Client || Registry | | Docker Registry | | (host001) || (https://registry-1.docker.io) | -----&gt; | (registry.icinfra.cn:5000) | ----&gt; | |+------------------------------------+ +------------------------------+ +-----------+é…ç½®Pull-through cache docker registryæ ¹æ® https://docs.docker.com/docker-hub/mirror/#run-a-registry-as-a-pull-through-cache ä»‹ç»ï¼Œé…ç½®/etc/docker/registry/config.ymlæ–‡ä»¶é‡Œçš„proxy.remoteurlä¸ºå¤–éƒ¨registryã€‚registryå®¹å™¨å¯ä»¥é€šè¿‡ä¼ å…¥REGISTRY_PROXY_REMOTEURLç¯å¢ƒå˜é‡æ¥å®Œæˆé…ç½®ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼špodman run -d -p 5000:5000 --name registry-cache -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io registry:2Clientåœ¨å®¢æˆ·ç«¯ä¾§é…ç½®registryåœ°å€ï¼Œè®©podmanæˆ–dockerå‘½ä»¤ä½¿ç”¨ã€‚cat &gt; ~/.config/containers/registries.conf &lt;&lt;EOF[registries.insecure] registries = ['registry.icinfra.cn:5000']EOFå®Œæ¯•ã€‚é™„å½• https://distribution.github.io/distribution/about/configuration/ ä¸ https://distribution.github.io/distribution/recipes/mirror/ æåˆ°ï¼Œpodman pushåˆ°pull-through cacheæ˜¯ä¸æ”¯æŒçš„ã€‚æ»¡è¶³â€œç¦æ­¢ç”¨æˆ·pushâ€çš„éœ€æ±‚ã€‚ https://www.icinfra.cn/blog/2024/rootless-podman-and-nfs/ å®¹å™¨é•œåƒå±‚ä¸èƒ½æ”¾åœ¨NFSï¼Œç”¨æˆ·æ•°æ®å¯ä»¥é€šè¿‡-væ˜ å°„NFSç›®å½•è¿›å»ä½¿ç”¨ã€‚ https://www.redhat.com/sysadmin/rootless-podman-user-namespace-modes è¿è¡Œ rootlesså®¹å™¨ éœ€è¦æ‰“å¼€subordinate IDã€‚" }, { "title": "millå·¥å…·çš„proxyè®¾ç½®", "url": "/posts/mill-proxy-setting/", "categories": "icenv", "tags": "mill", "date": "2024-01-15 08:30:00 +0000", "snippet": "èƒŒæ™¯æ–°Scalaæ„å»ºå·¥å…·millæ­£åœ¨æµè¡Œã€‚å¾ˆå¤šScalaå¼€å‘ç¯å¢ƒæ˜¯å†…ç½‘ç¯å¢ƒï¼Œè®¿é—®äº’è”ç½‘éœ€è¦é€šè¿‡proxyã€‚é—®é¢˜ç”¨æˆ·è®¾ç½®äº†http_proxyä¸https_proxyå˜é‡ï¼Œæ‰§è¡Œmillæ„å»ºScalaå·¥ç¨‹æ—¶å¡ä½ã€‚è§£å†³å‡è®¾http proxyçš„ä¸»æœºä¸ç«¯å£ä¸º your-proxy-server.com:8080ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥è®©millä½¿ç”¨proxyï¼š åœ¨æ„å»ºç¯å¢ƒï¼Œè®¾ç½®ç¯å¢ƒå˜é‡JAVA_OPTS...", "content": "èƒŒæ™¯æ–°Scalaæ„å»ºå·¥å…·millæ­£åœ¨æµè¡Œã€‚å¾ˆå¤šScalaå¼€å‘ç¯å¢ƒæ˜¯å†…ç½‘ç¯å¢ƒï¼Œè®¿é—®äº’è”ç½‘éœ€è¦é€šè¿‡proxyã€‚é—®é¢˜ç”¨æˆ·è®¾ç½®äº†http_proxyä¸https_proxyå˜é‡ï¼Œæ‰§è¡Œmillæ„å»ºScalaå·¥ç¨‹æ—¶å¡ä½ã€‚è§£å†³å‡è®¾http proxyçš„ä¸»æœºä¸ç«¯å£ä¸º your-proxy-server.com:8080ï¼Œåˆ™æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥è®©millä½¿ç”¨proxyï¼š åœ¨æ„å»ºç¯å¢ƒï¼Œè®¾ç½®ç¯å¢ƒå˜é‡JAVA_OPTS=â€-Dhttp.proxyHost=your-proxy-server.com -Dhttp.proxyPort=8080 -Dhttps.proxyHost=your-proxy-server.com -Dhttps.proxyPort=8080â€ åœ¨è°ƒç”¨millæ—¶ï¼ŒåŠ ä¸Š-ié€‰é¡¹ã€‚" }, { "title": "rootlesså®¹å™¨ä¸NFS", "url": "/posts/rootless-podman-and-nfs/", "categories": "icenv", "tags": "container", "date": "2024-01-12 15:10:00 +0000", "snippet": "å¾ˆå¤šäººéƒ½å¯¹rootless Podmanæ„Ÿå…´è¶£ã€‚æ­¤å·¥å…·å…è®¸æ‚¨æ„å»ºã€å®‰è£…å’Œä½¿ç”¨å®¹å™¨ï¼Œè€Œæ— éœ€ç”¨æˆ·ä»¥ root èº«ä»½è¿è¡Œï¼Œä¹Ÿä¸éœ€è¦ç”¨æˆ·åœ¨å…¶ç³»ç»Ÿä¸Šæ‹¥æœ‰å¤§å‹ root è¿è¡Œå®ˆæŠ¤ç¨‹åºã€‚ç›¸åï¼ŒPodmanï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰å°†å®¹å™¨æ˜ åƒå­˜å‚¨åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­ã€‚Podman åˆ©ç”¨ç”¨æˆ·å‘½åç©ºé—´æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œå› ä¸ºå¤§å¤šæ•°å®¹å™¨æ˜ åƒåœ¨æ˜ åƒä¸­éƒ½æœ‰å¤šä¸ª UIDã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªä¸èµ·ä½œç”¨çš„é—®é¢˜æ˜¯å°†è¿™äº›æ˜ åƒå­˜å‚¨åœ¨åŸºäº NFS çš„ä¸»ç›®å½•ä¸­ã€‚ä¸º...", "content": "å¾ˆå¤šäººéƒ½å¯¹rootless Podmanæ„Ÿå…´è¶£ã€‚æ­¤å·¥å…·å…è®¸æ‚¨æ„å»ºã€å®‰è£…å’Œä½¿ç”¨å®¹å™¨ï¼Œè€Œæ— éœ€ç”¨æˆ·ä»¥ root èº«ä»½è¿è¡Œï¼Œä¹Ÿä¸éœ€è¦ç”¨æˆ·åœ¨å…¶ç³»ç»Ÿä¸Šæ‹¥æœ‰å¤§å‹ root è¿è¡Œå®ˆæŠ¤ç¨‹åºã€‚ç›¸åï¼ŒPodmanï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰å°†å®¹å™¨æ˜ åƒå­˜å‚¨åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­ã€‚Podman åˆ©ç”¨ç”¨æˆ·å‘½åç©ºé—´æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œå› ä¸ºå¤§å¤šæ•°å®¹å™¨æ˜ åƒåœ¨æ˜ åƒä¸­éƒ½æœ‰å¤šä¸ª UIDã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªä¸èµ·ä½œç”¨çš„é—®é¢˜æ˜¯å°†è¿™äº›æ˜ åƒå­˜å‚¨åœ¨åŸºäº NFS çš„ä¸»ç›®å½•ä¸­ã€‚ä¸ºä»€ä¹ˆ Podman ä¸æ”¯æŒ NFS ä¸Šçš„å­˜å‚¨ï¼Ÿé¦–å…ˆï¼Œå¯¹äºå¤§å¤šæ•°åœºæ™¯ï¼Œrootless Podman å¯ä»¥å¾ˆå¥½åœ°ä¸ NFS å·é…åˆä½¿ç”¨ã€‚æ•ˆæœä¸ä½³çš„åœºæ™¯æ˜¯å°†å®¹å™¨æ˜ åƒå­˜å‚¨é©»ç•™åœ¨ NFS æŒ‚è½½ç‚¹ä¸Šã€‚å½“ç”¨æˆ·å°è¯•æ‹‰å–æ˜ åƒæˆ–å®‰è£… RPM åŒ…æ—¶ï¼Œè¿™ä¸ªé—®é¢˜æœ€å®¹æ˜“ç†è§£ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å½“ç”¨æˆ·å°è¯•ä½¿ç”¨rootless Podman åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šå®‰è£… tarball æˆ– RPM åŒ…æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ UID ä¸º 1000 çš„ç”¨æˆ·ï¼Œå…¶ä¸­çš„ UID æ˜ å°„è®¾ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š/etc/subuidwanlinwang:100000:65536ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š$ podman unshare cat /proc/self/uid_map 0 1000 1 1 100000 65536ç°åœ¨ï¼Œåœ¨å®¹å™¨å†…éƒ¨ï¼Œæˆ‘æƒ³å®‰è£…è¯¥è½¯ä»¶åŒ…ã€‚è¯¥è½¯ä»¶åŒ…å°†ä»¥ root ç”¨æˆ·å’Œ UID ä¸º 60 çš„ç”¨æˆ·èº«ä»½å®‰è£…æ–‡ä»¶ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ä¸»ç›®å½•ä¸Šå®‰è£…åŒ…çš„å®¹å™¨çš„æ ¹è¿›ç¨‹ä¼šå°è¯•è¿è¡Œå¦‚ä¸‹å†…å®¹ï¼š$ chown 60:60 /var/www/html/index.htmlå½“è¿™ç§æƒ…å†µå‘ç”Ÿåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šæ—¶ï¼Œå†…æ ¸ä¼šæ£€æŸ¥ä¸¤ä»¶äº‹ã€‚é¦–å…ˆï¼Œå®ƒæ£€æŸ¥ UID 60 å’Œ GID 60 æ˜¯å¦æ˜ å°„åœ¨ç”¨æˆ·å‘½åç©ºé—´å†…ã€‚å…¶æ¬¡ï¼Œå®ƒå†³å®šäº†æ‰§è¡Œ chowning çš„è¿‡ç¨‹æ˜¯å¦å…·æœ‰DAC_OVERRIDEèƒ½åŠ›ã€‚ç”±äºè¯¥è¿›ç¨‹æœªä»¥ UID 60 çš„å½¢å¼è¿è¡Œï¼Œå› æ­¤å®ƒå¿…é¡»èƒ½å¤Ÿè¦†ç›–æ­£å¸¸çš„ UID/GID æƒé™ã€‚å®¹å™¨å†…éƒ¨çš„è¿›ç¨‹ä»¥ root èº«ä»½è¿è¡Œæ—¶ä»¥ UID 1000 è¿è¡Œï¼Œå½“å®¹å™¨å†…ä»¥ UID 60 è¿è¡Œæ—¶ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸»æœºä¸Šçš„ uid 100059ã€‚è¯·æ³¨æ„ï¼Œæˆ‘åªè°ˆè®ºç”¨æˆ·å‘½åç©ºé—´DAC_OVERRIDEï¼Œè¿™æ„å‘³ç€å®¹å™¨å†…éƒ¨çš„è¿›ç¨‹å¯ä»¥è¦†ç›–æ˜ å°„åˆ°ç”¨æˆ·å‘½åç©ºé—´ï¼ˆä¾‹å¦‚å®¹å™¨ï¼‰çš„ UID/GIDã€‚æ­¤è®¾ç½®é€‚ç”¨äºæ‰€æœ‰æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºæœ¬åœ°å†…æ ¸å¯ä»¥åšå‡ºå†³ç­–ã€‚åœ¨å¤„ç† NFS æ—¶ï¼Œæ‚¨å¿…é¡»æ»¡è¶³æœ¬åœ°å†…æ ¸å’Œè¿œç¨‹å†…æ ¸çš„è¦æ±‚ã€‚ä»è¿œç¨‹ NFS æœåŠ¡å™¨å†…æ ¸çš„è§’åº¦æ¥çœ‹å¾…è¿™ä¸ªé—®é¢˜ã€‚è¿œç¨‹å†…æ ¸çœ‹åˆ°ä¸€ä¸ªè¿›ç¨‹ä»¥ UID 1000ï¼ˆå®¹å™¨ä¸­çš„æ ¹ï¼‰èº«ä»½è¿è¡Œï¼Œå°è¯•å°† 1000 æ‹¥æœ‰çš„æ–‡ä»¶æ›´æ”¹owneråˆ° UID 100059ï¼ˆå®¹å™¨å†…çš„ UID 60ï¼‰ã€‚è¿œç¨‹å†…æ ¸æ‹’ç»æ­¤è®¿é—®ã€‚NFS åè®®æ²¡æœ‰ç”¨æˆ·å‘½åç©ºé—´çš„æ¦‚å¿µï¼Œä¹Ÿæ— æ³•çŸ¥é“ä½œä¸º UID 1000 è¿è¡Œçš„è¿›ç¨‹æ˜¯å¦åˆäºŒä¸ºä¸€ã€‚NFS æœåŠ¡å™¨ä¹Ÿæ— æ³•çŸ¥é“å®¢æˆ·ç«¯è¿›ç¨‹æ˜¯å¦DAC_OVERRIDEç”¨æˆ·å‘½åç©ºé—´ï¼Œä»¥åŠ UID 100059æ˜¯å¦æ˜ å°„åˆ°åŒä¸€ç”¨æˆ·å‘½åç©ºé—´ã€‚ç°åœ¨ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªåœ¨ NFS å…±äº«ä¸Šåˆ›å»ºæ–‡ä»¶çš„æ­£å¸¸è¿›ç¨‹ï¼Œå¹¶ä¸”æ²¡æœ‰åˆ©ç”¨ç”¨æˆ·å‘½åç©ºé—´åŠŸèƒ½ï¼Œåˆ™ä¸€åˆ‡æ­£å¸¸ã€‚å½“å®¹å™¨å†…çš„è¿›ç¨‹éœ€è¦åœ¨ NFS å…±äº«ä¸Šæ‰§è¡Œéœ€è¦ç‰¹æ®ŠåŠŸèƒ½è®¿é—®çš„æ“ä½œæ—¶ï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿œç¨‹å†…æ ¸å°†ä¸çŸ¥é“è¯¥åŠŸèƒ½ï¼Œå¹¶ä¸”å¾ˆå¯èƒ½ä¼šæ‹’ç»è®¿é—®ã€‚æ¡ˆä¾‹wanlinwang@h74ba78:/home/wanlinwang/ podman --versionpodman version 4.4.1wanlinwang@h74ba78:/home/wanlinwang/ podman unshare cat /proc/self/uid_map 0 1157 1 1 2147483648 65536wanlinwang@h74ba78:/home/wanlinwang/ podman run -ti -v /home/wanlinwang/podman-volume:/mnt mirrors.tencent.com/sysbox/busybox bashTrying to pull mirrors.tencent.com/sysbox/busybox:latest...Getting image source signaturesCopying blob b71f96345d44 done ERRO[0000] While applying layer: ApplyLayer stdout: stderr: setting up pivot dir: mkdir /home/wanlinwang/.local/share/containers/storage/vfs/dir/5b8c72934dfc08c7d2bd707e93197550f06c0751023dabb3a045b723c5e7b373/.pivot_root2193543684: permission denied exit status 1 Error: writing blob: adding layer with blob \"sha256:b71f96345d44b237decc0c2d6c2f9ad0d17fde83dad7579608f1f0764d9686f2\": ApplyLayer stdout: stderr: setting up pivot dir: mkdir /home/wanlinwang/.local/share/containers/storage/vfs/dir/5b8c72934dfc08c7d2bd707e93197550f06c0751023dabb3a045b723c5e7b373/.pivot_root2193543684: permission denied exit status 1wanlinwang@h74ba78:/home/wanlinwang/ mkdir -p /home/wanlinwang/.local/share/containers/storage/vfs/dir/5b8c72934dfc08c7d2bd707e93197550f06c0751023dabb3a045b723c5e7b373/.pivot_root2193543684wanlinwang@h74ba78:/home/wanlinwang/ podman run -ti -v /home/wanlinwang/podman-volume:/mnt mirrors.tencent.com/sysbox/busybox bashTrying to pull mirrors.tencent.com/sysbox/busybox:latest...Getting image source signaturesCopying blob b71f96345d44 done Copying blob b71f96345d44 done Error: writing blob: adding layer with blob \"sha256:b71f96345d44b237decc0c2d6c2f9ad0d17fde83dad7579608f1f0764d9686f2\": ApplyLayer stdout: stderr: lchown /home: operation not permitted exit status 1å¦‚ä½•ä½¿ NFS ä¸æ— æ ¹ Podman ä¸€èµ·å·¥ä½œï¼Ÿæœ‰å‡ ç§æ–¹æ³•å¯ä»¥åœ¨ NFS å…±äº«ä¸Šè®¾ç½®ç”¨æˆ·çš„ä¸»ç›®å½•ä»¥ä½¿ç”¨æ— æ ¹ Podmanã€‚æ–¹æ³•ä¸€å¯ä»¥å°†æ–‡ä»¶ä¸­çš„graphrootæ ‡å¿—é…ç½®ä¸ºé NFS ç›®å½•ã€‚ä¾‹å¦‚ï¼Œæ›´æ”¹ï¼š~/.config/containers/storage.conf[storage] driver = \"overlay\" runroot = \"/run/user/1000\" graphroot = \"/home/wanlinwang/.local/share/containers/storage\"ä¸º[storage] driver = \"overlay\" runroot = \"/run/user/1000\" graphroot = \"/var/tmp/wanlinwang/containers/storageæ­¤æ›´æ”¹å°†ä½¿å¾—åœ¨å®¹å™¨ä¸­æ‹‰å–å’Œåˆ›å»ºçš„æ˜ åƒåœ¨å®¶ç›®å½•ä¹‹å¤–çš„å…¶ä»–ç›®å½•ä¸Šè¿›è¡Œå¤„ç†ã€‚ä½†è¯¥æ–¹æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯æ— æ³•åœ¨å¤šå°æœºå™¨åŒæ—¶ä½¿ç”¨å®¹å™¨æ˜ åƒã€‚å¦‚æœéœ€è¦åœ¨ç”±å¤šå°æœåŠ¡å™¨ç»„æˆçš„é›†ç¾¤ä¸­è·‘ä¸€ä¸ªå®¹å™¨æ˜ åƒçš„å¤šä¸ªå®ä¾‹ï¼Œåˆ™éœ€è¦åœ¨æ¯å°æœºå™¨ä¸Šéƒ½æ‹‰å–è¯¥å®¹å™¨æ˜ åƒã€‚æ–¹æ³•äºŒå¦ä¸€ç§é€‰æ‹©æ˜¯åˆ›å»ºç£ç›˜æ˜ åƒå¹¶å°†å…¶æŒ‚è½½åˆ°ç›®å½•ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è„šæœ¬ï¼š~/.local/share/containerstruncate -s 10g /home/wanlinwang/xfs.img mkfs.xfs -m reflink=1 /home/wanlinwang/xfs.imgç„¶åï¼Œæ‚¨å¯ä»¥åœ¨å…·æœ‰å®¶ç›®å½•çš„è®¡ç®—æœºä¸Šï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š$ mount /home/myuser/xfs.img /home/myuser/.local/share/containersç»“è®ºrootlesså’Œroot Podman éå¸¸é€‚åˆä½œä¸ºå·æŒ‚è½½çš„è¿œç¨‹ç½‘ç»œå…±äº«ï¼ŒåŒ…æ‹¬ NFS å…±äº«ã€‚ä½†æ˜¯ï¼Œå¼€ç®±å³ç”¨çš„rootless Podman åœ¨ NFS ä¸»ç›®å½•ä¸­å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºè¯¥åè®®æ— æ³•ç†è§£ç”¨æˆ·å‘½åç©ºé—´ã€‚å¹¸è¿çš„æ˜¯ï¼Œåªéœ€ç¨ä½œé…ç½®æ›´æ”¹ï¼Œå°±å¯ä»¥åœ¨ NFS ä¸»ç›®å½•ä¸Šä½¿ç”¨rootless Podmanã€‚å‚è€ƒèµ„æ–™https://www.redhat.com/sysadmin/rootless-podman-nfshttps://opensource.com/article/18/12/podman-and-user-namespaceshttps://opensource.com/users/rhatdan çº¢å¸½å·¥ç¨‹å¸ˆçš„ä¸»é¡µï¼Œå®¹å™¨ç›¸å…³çš„https://opensource.com/article/19/5/shortcomings-rootless-containers rootlesså®¹å™¨çš„ç¼ºç‚¹https://github.com/containers/podman/blob/main/rootless.md rootlesså®¹å™¨çš„ç¼ºç‚¹https://man7.org/linux/man-pages/man7/capabilities.7.html CAP_DAC_OVERRIDE èµ„æ–™https://www.redhat.com/sysadmin/controlling-access-rootless-podman-users å¿½ç•¥chownä¸suçš„é”™è¯¯" }, { "title": "ç”¨PythonçŒœè°œ", "url": "/posts/solve-puzzle-with-python/", "categories": "icenv", "tags": "python", "date": "2024-01-11 15:20:00 +0000", "snippet": "è¿™é‡Œï¼Œè®°å½•ä¸€ä¸ªæ¯”è¾ƒæœ‰è¶£çš„è°œé¢˜è§£å†³æ–¹æ³•ã€‚è°œé¢˜ç•¥ã€‚æ€è·¯ç¼–ç¨‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚#!/usr/bin/env python3# å®šä¹‰çº¿ç´¢clues = [ (\"ABC\", (1, True)), # A B C - ä¸€ä¸ªæ•°å­—æ­£ç¡®ä¸”ä½ç½®æ­£ç¡® (\"AEF\", (1, False)), # A E F - ä¸€ä¸ªæ•°å­—æ­£ç¡®ä½†ä½ç½®ä¸æ­£ç¡® (\"CKA\", (2, False)), # C ...", "content": "è¿™é‡Œï¼Œè®°å½•ä¸€ä¸ªæ¯”è¾ƒæœ‰è¶£çš„è°œé¢˜è§£å†³æ–¹æ³•ã€‚è°œé¢˜ç•¥ã€‚æ€è·¯ç¼–ç¨‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚#!/usr/bin/env python3# å®šä¹‰çº¿ç´¢clues = [ (\"ABC\", (1, True)), # A B C - ä¸€ä¸ªæ•°å­—æ­£ç¡®ä¸”ä½ç½®æ­£ç¡® (\"AEF\", (1, False)), # A E F - ä¸€ä¸ªæ•°å­—æ­£ç¡®ä½†ä½ç½®ä¸æ­£ç¡® (\"CKA\", (2, False)), # C K A - ä¸¤ä¸ªæ•°å­—æ­£ç¡®ä½†ä½ç½®éƒ½ä¸æ­£ç¡® (\"DEB\", (0, False)), # D E B - æ‰€æœ‰æ•°å­—éƒ½ä¸æ­£ç¡® (\"BDK\", (1, False)) # B D K - ä¸€ä¸ªæ•°å­—æ­£ç¡®ä½†ä½ç½®ä¸æ­£ç¡®]# å®šä¹‰å¯èƒ½çš„æ•°å­—digits = \"ABCDEFGHK\" # å¯èƒ½çš„æ•°å­—ï¼Œæ’é™¤äº†æœªæåˆ°çš„# ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„ä¸‰å­—æ¯ç»„åˆfrom itertools import permutations# åˆå§‹åŒ–ä¸€ä¸ªåˆ—è¡¨æ¥ä¿å­˜å¯èƒ½çš„ç»„åˆpossible_combinations = [''.join(p) for p in permutations(digits, 3)]# æ£€æŸ¥ç»„åˆæ˜¯å¦ç¬¦åˆçº¿ç´¢çš„å‡½æ•°def check_combination(combination, clue): digit_correct, position_correct = clue[1] # è®¡ç®—æœ‰å¤šå°‘æ•°å­—æ˜¯æ­£ç¡®ä¸”ä½ç½®æ­£ç¡®çš„ correct_digits_and_positions = sum(1 for i in range(3) if combination[i] == clue[0][i]) # è®¡ç®—æœ‰å¤šå°‘æ•°å­—æ˜¯æ­£ç¡®çš„ï¼Œä¸è€ƒè™‘ä½ç½® correct_digits = sum(1 for c in clue[0] if c in combination) # æ ¹æ®çº¿ç´¢è¿›è¡Œæ£€æŸ¥ if position_correct: return correct_digits_and_positions == digit_correct else: if digit_correct == 0: return correct_digits == 0 return correct_digits == digit_correct and correct_digits_and_positions == 0# é€šè¿‡æ¯æ¡çº¿ç´¢è¿‡æ»¤å¯èƒ½çš„ç»„åˆfor clue in clues: possible_combinations = [comb for comb in possible_combinations if check_combination(comb, clue)]print(possible_combinations)" }, { "title": "æ‰“å¼€ipaç”¨æˆ·çš„subid(subordinate id)ä»¥è¿è¡Œrootlesså®¹å™¨", "url": "/posts/subid-from-ipa/", "categories": "icenv", "tags": "ipa", "date": "2024-01-10 03:30:00 +0000", "snippet": "èƒŒæ™¯å‰é¢æ–‡ç« å‡çº§ipaä»‹ç»äº†å¦‚ä½•å°†ipaä»CentOS 7ä¸Šçš„æ—§ç‰ˆæœ¬è¿ç§»è‡³AlmaLinux 8ä¸Šçš„æ–°ç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨AlmaLinux 8ä¸Šçš„FreeIPAæ–°ç‰ˆæœ¬çš„subidåŠŸèƒ½ã€‚æ­¥éª¤FreeIPAæœåŠ¡ç«¯é…ç½®ç•¥ã€‚FreeIPAå®¢æˆ·ç«¯é…ç½®ä¸éªŒè¯[root@almalinux-8-ipa-client ~]# su - wanlinwangLast login: Wed Jan 1...", "content": "èƒŒæ™¯å‰é¢æ–‡ç« å‡çº§ipaä»‹ç»äº†å¦‚ä½•å°†ipaä»CentOS 7ä¸Šçš„æ—§ç‰ˆæœ¬è¿ç§»è‡³AlmaLinux 8ä¸Šçš„æ–°ç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨AlmaLinux 8ä¸Šçš„FreeIPAæ–°ç‰ˆæœ¬çš„subidåŠŸèƒ½ã€‚æ­¥éª¤FreeIPAæœåŠ¡ç«¯é…ç½®ç•¥ã€‚FreeIPAå®¢æˆ·ç«¯é…ç½®ä¸éªŒè¯[root@almalinux-8-ipa-client ~]# su - wanlinwangLast login: Wed Jan 10 02:36:13 EST 2024 on pts/0[wanlinwang@almalinux-8-ipa-client ~]$ podman pull bosyboxâœ” docker.io/library/bosybox:latestTrying to pull docker.io/library/bosybox:latest...Error: initializing source docker://bosybox:latest: reading manifest latest in docker.io/library/bosybox: requested access to the resource is denied[wanlinwang@almalinux-8-ipa-client ~]$ podman run busybox dateResolved \"busybox\" as an alias (/etc/containers/registries.conf.d/000-shortnames.conf)Trying to pull docker.io/library/busybox:latest...Getting image source signaturesCopying blob a307d6ecc620 done Error: copying system image from manifest list: writing blob: adding layer with blob \"sha256:a307d6ecc6205dfa11d2874af9adb7e3fc244a429e00e8e3df90534d4cf0f3f8\": processing tar file(potentially insufficient UIDs or GIDs available in user namespace (requested 65534:65534 for /home): Check /etc/subuid and /etc/subgid if configured locally and run \"podman system migrate\": lchown /home: invalid argument): exit status 1[wanlinwang@almalinux-8-ipa-client ~]$ podman system migrate[wanlinwang@almalinux-8-ipa-client ~]$ podman run busybox dateERRO[0000] cannot find UID/GID for user wanlinwang: no subuid ranges found for user \"wanlinwang\" in /etc/subuid - check rootless mode in man pages. WARN[0000] Using rootless single mapping into the namespace. This might break some images. Check /etc/subuid and /etc/subgid for adding sub*ids if not using a network user Resolved \"busybox\" as an alias (/etc/containers/registries.conf.d/000-shortnames.conf)Trying to pull docker.io/library/busybox:latest...Getting image source signaturesCopying blob a307d6ecc620 done Error: copying system image from manifest list: writing blob: adding layer with blob \"sha256:a307d6ecc6205dfa11d2874af9adb7e3fc244a429e00e8e3df90534d4cf0f3f8\": processing tar file(potentially insufficient UIDs or GIDs available in user namespace (requested 65534:65534 for /home): Check /etc/subuid and /etc/subgid if configured locally and run \"podman system migrate\": lchown /home: invalid argument): exit status 1[wanlinwang@almalinux-8-ipa-client ~]$ exitlogout[root@almalinux-8-ipa-client ~]# vi /etc/nsswitch.conf #åœ¨/etc/nsswitch.confé…ç½®æ–‡ä»¶é‡Œå¢åŠ äº†subid:sss[root@almalinux-8-ipa-client ~]# grep subid /etc/nsswitch.confsubid: sss[root@almalinux-8-ipa-client ~]# su - wanlinwangLast login: Wed Jan 10 02:39:28 EST 2024 on pts/0[wanlinwang@almalinux-8-ipa-client ~]$ podman run busybox dateResolved \"busybox\" as an alias (/etc/containers/registries.conf.d/000-shortnames.conf)Trying to pull docker.io/library/busybox:latest...Getting image source signaturesCopying blob a307d6ecc620 done Error: copying system image from manifest list: writing blob: adding layer with blob \"sha256:a307d6ecc6205dfa11d2874af9adb7e3fc244a429e00e8e3df90534d4cf0f3f8\": processing tar file(potentially insufficient UIDs or GIDs available in user namespace (requested 65534:65534 for /home): Check /etc/subuid and /etc/subgid if configured locally and run \"podman system migrate\": lchown /home: invalid argument): exit status 1[wanlinwang@almalinux-8-ipa-client ~]$ podman system migrate #åœ¨/etc/nsswitch.confé…ç½®æ–‡ä»¶é‡Œå¢åŠ äº†subid:sssåï¼Œéœ€è¦æ‰§è¡Œpodman system migrateåpodman runæ‰ç”Ÿæ•ˆã€‚[wanlinwang@almalinux-8-ipa-client ~]$ podman run busybox date #ç”Ÿæ•ˆäº†ã€‚Resolved \"busybox\" as an alias (/etc/containers/registries.conf.d/000-shortnames.conf)Trying to pull docker.io/library/busybox:latest...Getting image source signaturesCopying blob a307d6ecc620 done Copying config 9211bbaa0d done Writing manifest to image destinationWed Jan 10 07:40:58 UTC 2024èµ„æ–™https://access.redhat.com/solutions/6784071 å¦‚ä½•é…ç½®ä½¿ç”¨ipa subidæ¥æºhttps://access.redhat.com/solutions/6961540 åªèƒ½å…è®¸ä¸€ç§subidæ¥æº" }, { "title": "ä¸ºä»€ä¹ˆä¸è¦å°†ntp serviceè¿è¡Œåœ¨virtual machineä¸Šï¼Ÿ", "url": "/posts/do-not-run-ntp-server-on-vm/", "categories": "icenv", "tags": "ntp", "date": "2024-01-09 03:50:00 +0000", "snippet": "èƒŒæ™¯NTPæ˜¯Network Time Protocalï¼Œè¢«è®¡ç®—æœºåˆ†å¸ƒå¼æœåŠ¡ä¾èµ–ï¼Œç”¨æ¥åŒæ­¥ã€‚ä¸€æ—¦æ—¶é—´æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ—¶é—´å·®å¼‚è¾ƒå¤§ï¼Œåˆ†å¸ƒå¼æœåŠ¡é€šä¿¡å¯èƒ½å‡ºé—®é¢˜ã€‚virtual machineï¼ˆä¸‹æ–‡ä»¥â€œè™šæ‹Ÿæœºâ€ä»£æ›¿ï¼‰ä»¥å…¶è½»é‡ã€æ ‡å‡†åŒ–ã€é¢„ç½®å¿«ï¼Œåœ¨å¦‚ä»Šä½¿ç”¨çš„è¶Šæ¥è¶Šé¢‘ç¹ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººä½¿ç”¨å®ƒæ¥æä¾›ntpæœåŠ¡ã€‚åˆ†æè™šæ‹Ÿæœºæ²¡æœ‰ç¡¬ä»¶æ—¶é’Ÿæºï¼Œå®ƒä»…ç”±è™šæ‹Ÿæœºç›‘æ§ç¨‹åºæä¾›æœåŠ¡ï¼Œå°½ç®¡æä¾›äº†ä¸€ä¸ªåä¸º kvm-clock çš„åŠè™šæ‹Ÿ...", "content": "èƒŒæ™¯NTPæ˜¯Network Time Protocalï¼Œè¢«è®¡ç®—æœºåˆ†å¸ƒå¼æœåŠ¡ä¾èµ–ï¼Œç”¨æ¥åŒæ­¥ã€‚ä¸€æ—¦æ—¶é—´æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯æ—¶é—´å·®å¼‚è¾ƒå¤§ï¼Œåˆ†å¸ƒå¼æœåŠ¡é€šä¿¡å¯èƒ½å‡ºé—®é¢˜ã€‚virtual machineï¼ˆä¸‹æ–‡ä»¥â€œè™šæ‹Ÿæœºâ€ä»£æ›¿ï¼‰ä»¥å…¶è½»é‡ã€æ ‡å‡†åŒ–ã€é¢„ç½®å¿«ï¼Œåœ¨å¦‚ä»Šä½¿ç”¨çš„è¶Šæ¥è¶Šé¢‘ç¹ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººä½¿ç”¨å®ƒæ¥æä¾›ntpæœåŠ¡ã€‚åˆ†æè™šæ‹Ÿæœºæ²¡æœ‰ç¡¬ä»¶æ—¶é’Ÿæºï¼Œå®ƒä»…ç”±è™šæ‹Ÿæœºç›‘æ§ç¨‹åºæä¾›æœåŠ¡ï¼Œå°½ç®¡æä¾›äº†ä¸€ä¸ªåä¸º kvm-clock çš„åŠè™šæ‹ŸåŒ–é©±åŠ¨ç¨‹åºä½œä¸ºæ›´å‡†ç¡®çš„æ—¶é’Ÿæºã€‚æ­¤å¤–ï¼Œè™šæ‹Ÿæœºä¹Ÿå¯èƒ½è¢«æš‚åœï¼Œæˆ–ä»ä¸€å°å®¿ä¸»æœºæ¼‚ç§»åˆ°å¦ä¸€å°å®¿ä¸»æœºï¼Œè¿™æ—¶ç”±ä¸åŒçš„hypervisoræä¾›æœåŠ¡ï¼Œå¯¼è‡´æä¾›çš„NTPä¸å¯é ã€‚åœ¨KVMè™šæ‹Ÿæœºä¸­ï¼ŒNTP æœåŠ¡å™¨æä¾›çš„ NTP æ—¶é—´çš„ç²¾åº¦å’Œå‡†ç¡®æ€§ä¸è¶³ä»¥åœ¨æ— æ›´é«˜å±‚ NTP æœåŠ¡å™¨çš„æƒ…å†µä¸‹æä¾› NTP æœåŠ¡ã€‚NTP æœåŠ¡å™¨ä¸æ˜¯ä¸ºåœ¨è™šæ‹Ÿæœºå†…éƒ¨è¿è¡Œè€Œè®¾è®¡çš„ã€‚å®ƒéœ€è¦é«˜åˆ†è¾¨ç‡çš„ç³»ç»Ÿæ—¶é’Ÿï¼Œå¯¹æ—¶é’Ÿä¸­æ–­çš„å“åº”æ—¶é—´å…·æœ‰å¾ˆé«˜çš„ç²¾åº¦ã€‚å‚è€ƒèµ„æ–™https://access.redhat.com/solutions/361803https://access.redhat.com/site/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Virtualization_Host_Configuration_and_Guest_Installation_Guide/chap-Virtualization_Host_Configuration_and_Guest_Installation_Guide-KVM_guest_timing_management.html" }, { "title": "å‡çº§ipaå¹¶ä¿æŒç”¨æˆ·ä¸ç¾¤ç»„ç­‰æ•°æ®åŒæ­¥ï¼Œé™ä½ç”¨æˆ·ä¸Šæ‰‹æˆæœ¬", "url": "/posts/upgrading-ipa-server-without-changing-end-user-password/", "categories": "icenv", "tags": "ipa", "date": "2024-01-09 02:50:00 +0000", "snippet": "èƒŒæ™¯ç”±äºCentOS 7/8çš„EOLï¼ŒICè®¾è®¡ç¯å¢ƒçš„ITåº•åº§ä¹‹ä¸€â€”â€”â€”â€”æ“ä½œç³»ç»Ÿï¼Œå…¶å‡çº§è¢«æä¸Šæ—¥ç¨‹ã€‚å…¶ä¸­æ¶‰åŠåˆ°åœ¨æ—§ç‰ˆæœ¬æ“ä½œç³»ç»Ÿä¸Šçš„FreeIPAçš„å‡çº§ã€‚æ€è€ƒå¼€å§‹ï¼Œè®¡åˆ’åœ¨ä¸€å°æ–°æ“ä½œç³»ç»Ÿä¸Šåšfresh FreeIPA installationï¼Œç»™å‡çº§ä¸Šå»çš„æ“ä½œç³»ç»Ÿä½¿ç”¨å³å¯ã€‚åæ¥ï¼Œè€ƒè™‘åœ¨è¿‡æ¸¡æœŸé—´éœ€è¦ç»´æŠ¤ä¸¤å¥—FreeIPAï¼Œéœ€è¦ä»æ—§FreeIPAé‡ŒåŒæ­¥ç”¨æˆ·/ç¾¤ç»„åˆ°æ–°FreeIPAï¼Œå¹¶ä¸”ä¸¤å¥—ç³»ç»Ÿå†…ç”¨æˆ·...", "content": "èƒŒæ™¯ç”±äºCentOS 7/8çš„EOLï¼ŒICè®¾è®¡ç¯å¢ƒçš„ITåº•åº§ä¹‹ä¸€â€”â€”â€”â€”æ“ä½œç³»ç»Ÿï¼Œå…¶å‡çº§è¢«æä¸Šæ—¥ç¨‹ã€‚å…¶ä¸­æ¶‰åŠåˆ°åœ¨æ—§ç‰ˆæœ¬æ“ä½œç³»ç»Ÿä¸Šçš„FreeIPAçš„å‡çº§ã€‚æ€è€ƒå¼€å§‹ï¼Œè®¡åˆ’åœ¨ä¸€å°æ–°æ“ä½œç³»ç»Ÿä¸Šåšfresh FreeIPA installationï¼Œç»™å‡çº§ä¸Šå»çš„æ“ä½œç³»ç»Ÿä½¿ç”¨å³å¯ã€‚åæ¥ï¼Œè€ƒè™‘åœ¨è¿‡æ¸¡æœŸé—´éœ€è¦ç»´æŠ¤ä¸¤å¥—FreeIPAï¼Œéœ€è¦ä»æ—§FreeIPAé‡ŒåŒæ­¥ç”¨æˆ·/ç¾¤ç»„åˆ°æ–°FreeIPAï¼Œå¹¶ä¸”ä¸¤å¥—ç³»ç»Ÿå†…ç”¨æˆ·çš„å¯†ç ä¸èƒ½å¤Ÿä¿æŒç»Ÿä¸€ã€‚æŸ¥é˜…äº†çº¢å¸½å®˜ç½‘å‡çº§çš„ç›¸å…³èµ„æ–™ï¼Œå†³å®šä½¿ç”¨Replicaçš„æ–¹å¼æ¥ä½¿å¾—æ–°æ—§FreeIPAæ•°æ®åŒæ­¥ï¼Œä¹Ÿèƒ½å¤Ÿä¿æŒç”¨æˆ·çš„å¯†ç ä¸€è‡´ï¼Œé™ä½ç”¨æˆ·çš„ä¸Šæ‰‹æˆæœ¬ã€‚å‡çº§æ–¹æ¡ˆæ¶æ„å›¾å‡çº§çš„è¿‡æ¸¡æœŸé—´ï¼ŒFreeIPA master-replicaæ¶æ„å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š+---------------------+ +----------------------------+| | | || CentOS 7 VM | | AlmaLinux 8 VM || | | || +-------------+ | | +--------------------+ || | | | | | | || | FreeIPA | | | | AlmaLinux 8 | || | Server | | | | Container | || | (Master) | | | | | || | version: | | Replication| | +----------------+ | || | 4.6.8 &lt;----------------------&gt; | | || +-------------+ | | | | FreeIPA | | || | | | | Server | | |+---------------------+ | | | (Replica) | | | | | | | version: | | | | | | | 4.9.12 | | | | | | +----------------+ | | | | | | | | | +--------------------+ | | | |+------------+ +----------------------------+| Client Host| || Group | || (for | || Master) | |+------------+ | +---------------+ | Client Host | | Group | | (for | | Replica) | +---------------+å…¶ä¸­ï¼ŒCentOS 7 VMé‡Œçš„æ˜¯ç›´æ¥å®‰è£…å¯åŠ¨çš„FreeIPA Serverã€‚åœ¨AlmaLinux 8 VMé‡Œè¿è¡Œçš„AlmaLinux 8 Containeré‡Œè¿è¡ŒFreeIPA Server Replicaã€‚è¿™é‡Œä½¿ç”¨å®¹å™¨æ¥æ‰¿è½½æ–°FreeIPA Serverï¼Œä¸»è¦è€ƒè™‘åˆ°å®¹å™¨ç¯å¢ƒå¯ä»¥åšåˆ°æ ‡å‡†åŒ–ï¼Œæ•°æ®é€šè¿‡æŒä¹…åŒ–åˆ°å®¹å™¨å®¿ä¸»æœºï¼ˆAlmaLinux 8 VMï¼‰çš„ç›®å½•ä¸‹ï¼Œå†å®šæœŸå¿«ç…§å¤‡ä»½å®¹å™¨å®¿ä¸»æœºï¼ˆAlmaLinux 8 VMï¼‰ã€‚ç›¸å…³å‘½ä»¤# CentOS 7.9è™šæ‹Ÿæœºä¸Šï¼Œå®‰è£…FreeIPA Masterã€‚sudo su -yum install -y freeipa-server ipa-server-dns &gt;&amp; /dev/nullfirewall-cmd --add-service={freeipa-ldap,freeipa-ldaps,dns,mountd,rpc-bind} --permanent &amp;&amp; firewall-cmd --reload\"172.16.0.100 centos-7-ipa-server.icinfra.cn\" | tee -a /etc/hostscp -a /etc/hosts /etc/cloud/templates/hosts.redhat.tmpl ipa-server-install --setup-dns --domain=icinfra.cn --realm=ICINFRA.CN --hostname=centos-7-ipa-server.icinfra.cn --admin-password=12345678 --ds-password=12345678 --no-reverse --allow-zone-overlap --auto-forwarders -U# AlmaLinux 8è™šæ‹Ÿæœºä¸Šï¼Œè¿è¡Œå®¹å™¨å¹¶åˆå§‹åŒ–å®‰è£…FreeIPA Replicaã€‚sudo su -dnf install -y podmanfirewall-cmd --add-service={freeipa-ldap,freeipa-ldaps,dns,mountd,rpc-bind} --permanent &amp;&amp; sudo firewall-cmd --reload# åˆæ¬¡è¿è¡Œmkdir /var/lib/ipa-datapodman run -ti --rm \\ -h almalinux-8-ipa-server.icinfra.cn \\ --net=host \\ --dns 172.16.0.100 \\ --dns-search icinfra.cn \\ -v /var/lib/ipa-data:/data:Z \\ --add-host=centos-7-ipa-server.icinfra.cn:172.16.0.100 \\ --add-host=almalinux-8-ipa-server.icinfra.cn:172.16.0.101 \\ -e TZ=Asia/Shanghai \\ freeipa/freeipa-server:almalinux-8 ipa-replica-install \\ --force-join \\ --setup-ca \\ --setup-dns \\ --server centos-7-ipa-server.icinfra.cn \\ --domain icinfra.cn \\ --ip-address 172.16.0.101 \\ --no-forwarders \\ --no-ntp \\ --principal admin \\ --admin-password 12345678# è¿™æ ·å®‰è£…çš„replicaï¼Œæ¯”masterå°‘äº†ntpd serverã€‚çœ‹ä¸‹å¦‚ä½•å°†è¿™ä¸ªä¹Ÿå®‰è£…ä¸Šã€‚è¡¥å……åŸå› ï¼šç”±äºå®¹å™¨å®é™…ä¸Šä½¿ç”¨çš„æ˜¯å®¿ä¸»æœºçš„æ—¶é—´ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥ã€‚# å¦‚æœå› å®šä½é—®é¢˜ï¼Œéœ€è¦åœ¨å®¹å™¨é‡Œæ‰§è¡Œstraceï¼Œåˆ™åœ¨å®¿ä¸»æœºä»¥åŠå®¹å™¨é‡Œï¼Œéƒ½è¦å°†selinuxå…³æ‰ã€‚sudo setenforce 0# åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œå³/var/lib/ipa-dataç›®å½•å·²ç»populatedæ•°æ®ï¼Œä¸‹ä¸€æ¬¡å¯ä»¥ä»¥åå°çš„æ–¹å¼è¿è¡Œã€‚podman run -d --rm \\ -h almalinux-8-ipa-server.icinfra.cn \\ --net=host \\ --dns 172.16.0.100 \\ --dns-search icinfra.cn \\ -v /var/lib/ipa-data:/data:Z \\ --add-host=centos-7-ipa-server.icinfra.cn:172.16.0.100 \\ --add-host=almalinux-8-ipa-server.icinfra.cn:172.16.0.101 \\ -e TZ=Asia/Shanghai \\ freeipa/freeipa-server:almalinux-8 \\ ipa-replica-install \\ --force-join \\ --setup-ca \\ --setup-dns \\ --server centos-7-ipa-server.icinfra.cn \\ --domain icinfra.cn \\ --ip-address 172.16.0.101 \\ --no-forwarders \\ --no-ntp \\ --principal admin \\ --admin-password 12345678# æ–°å®¢æˆ·ç«¯ç³»ç»ŸåŠ å…¥ almalinux-8-ipa-server.icinfra.cn è¿™ä¸ªFreeIPAdnf install -y freeipa-client podmancat &gt; /etc/resolv.conf &lt;&lt; EOFsearch icinfra.cnnameserver 172.16.0.101EOFipa-client-install --force-join --hostname=almalinux-8-ipa-client.icinfra.cn --domain=icinfra.cn --server=almalinux-8-ipa-server.icinfra.cn --enable-dns-updates --principal=admin --password=12345678 -Uæµ‹è¯•é¡¹ç”¨æˆ·/ç¾¤ç»„åŒæ­¥åŒ…æ‹¬ç”¨æˆ·/ç¾¤ç»„çš„ID/Subordinate IDä»¥åŠç›¸å…³ä¿¡æ¯çš„åŒæ­¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCentOS 7 VMé‡Œè‡ªå¸¦çš„FreeIPA Serveræ˜¯ä¸æ”¯æŒSubordinate IDçš„ï¼Œå› æ­¤éœ€è¦é‡ç‚¹å…³æ³¨å¯¹å®ƒçš„æµ‹è¯•â€”â€”â€”â€”æ¯”å¦‚åœ¨AlmaLinux 8 Containerä¸Šçš„FreeIPA Serveråˆ›å»ºçš„Subordinate IDèƒ½å¦è¢«æŒä¹…åŒ–ä¿å­˜ï¼Œå¹¶è¢«æ­£å¸¸ä½¿ç”¨ã€‚æµ‹è¯•é€šè¿‡ï¼Œè§æ‰“å¼€ipaç”¨æˆ·çš„subid(subordinate id)ä»¥è¿è¡Œrootlesså®¹å™¨ã€‚åŸŸåè§£æDNS forwarderé‡åˆ°äº›é—®é¢˜ï¼Œéœ€è¦è¿›ä¸€æ­¥å®šä½ã€‚æ—¶é—´åŒæ­¥TODOå…¶å®ƒé¡¹å‚è€ƒèµ„æ–™IdMä»éRHELå‘è¡Œç‰ˆè¿ç§»è‡³RHEL8FreeIPA Replica SetupIdM Replicaå®‰è£…" }, { "title": "CentOS 7 & 8 EOLäº‹å®œï¼Œä»¥åŠæ›¿ä»£æ–¹æ¡ˆä»‹ç»", "url": "/posts/centos-7-and-8-eol/", "categories": "icenv", "tags": "os", "date": "2024-01-05 03:20:00 +0000", "snippet": "èƒŒæ™¯æˆªæ­¢è‡³2023å¹´æœ«ï¼ŒèŠ¯ç‰‡è®¾è®¡å…¬å¸ï¼Œé™¤äº†å°‘é‡è®¢é˜…RHELç”¨ä½œå‘ç”Ÿæ•…éšœæ—¶çš„æ•‘å‘½ç¨»è‰ï¼Œæ™®éåœ¨ä½¿ç”¨CentOSæ“ä½œç³»ç»Ÿï¼ˆRHELçš„ä¸€ä¸ªè¡ç”Ÿå‘è¡Œç‰ˆï¼‰ï¼Œå…¶ä¸­ä»¥CentOS 7å±…å¤šï¼Œå°‘éƒ¨åˆ†æŠ€æœ¯å€ºè¾ƒä½çš„å›¢é˜Ÿâ€œå°é²œâ€äº†CentOS 8æ“ä½œç³»ç»Ÿã€‚ç”šè‡³å› å†å²é¡¹ç›®ä¾èµ–çš„å·¥å…·é“¾ç‰ˆæœ¬è¾ƒæ—§ï¼Œè¿˜æœ‰ä¸å°‘CentOS 6.10çš„å­˜é‡ç³»ç»Ÿã€‚æ ¹æ®CentOS Linux is reaching its end of life....", "content": "èƒŒæ™¯æˆªæ­¢è‡³2023å¹´æœ«ï¼ŒèŠ¯ç‰‡è®¾è®¡å…¬å¸ï¼Œé™¤äº†å°‘é‡è®¢é˜…RHELç”¨ä½œå‘ç”Ÿæ•…éšœæ—¶çš„æ•‘å‘½ç¨»è‰ï¼Œæ™®éåœ¨ä½¿ç”¨CentOSæ“ä½œç³»ç»Ÿï¼ˆRHELçš„ä¸€ä¸ªè¡ç”Ÿå‘è¡Œç‰ˆï¼‰ï¼Œå…¶ä¸­ä»¥CentOS 7å±…å¤šï¼Œå°‘éƒ¨åˆ†æŠ€æœ¯å€ºè¾ƒä½çš„å›¢é˜Ÿâ€œå°é²œâ€äº†CentOS 8æ“ä½œç³»ç»Ÿã€‚ç”šè‡³å› å†å²é¡¹ç›®ä¾èµ–çš„å·¥å…·é“¾ç‰ˆæœ¬è¾ƒæ—§ï¼Œè¿˜æœ‰ä¸å°‘CentOS 6.10çš„å­˜é‡ç³»ç»Ÿã€‚æ ¹æ®CentOS Linux is reaching its end of life. Now what?å®˜æ–¹å…¬å¸ƒæ¶ˆæ¯æ¥çœ‹ï¼ŒCentOS 8å·²åœ¨2021.12.31ä¸å†æ›´æ–°å‘å¸ƒï¼ŒCentOS Stream 8å°†äº2024.05.31ä¸å†æ›´æ–°å‘å¸ƒï¼ŒCentOS 7å°†äº2024.06.30ä¸å†æ›´æ–°å‘å¸ƒã€‚ä¼ä¸šå†…æ­£åœ¨ä½¿ç”¨çš„ç³»ç»ŸEOLåï¼Œä¼ä¸šçš„ITç®¡ç†å‘˜åº”è¯¥å¦‚ä½•åº”å¯¹ï¼Ÿåˆ†ææ€»ç»“å‚è€ƒèµ„æ–™" }, { "title": "FreeIPA/IdMæœåŠ¡å™¨ï¼ˆå³å°†/å·²ï¼‰è¿‡æœŸçš„è¯ä¹¦çš„å¤„ç†æ–¹æ³•", "url": "/posts/ipa-expired-certificates-renewal/", "categories": "icenv", "tags": "ipa", "date": "2024-01-03 07:20:00 +0000", "snippet": "èƒŒæ™¯FreeIPA/IdMæœåŠ¡å™¨ï¼Œé»˜è®¤Certificate Authority certificateçš„æœ‰æ•ˆæœŸä¸º20å¹´ï¼Œhost or service certificateæœ‰æ•ˆæœŸä¸º2å¹´ã€‚FreeIPA/IdMæœåŠ¡å™¨åœ¨å®‰è£…æ—¶ï¼Œé»˜è®¤ä½¿ç”¨äº†Certmongeræ¥auto renewè¯ä¹¦ã€‚åœºæ™¯æœ‰äº›å…¬å¸å‡ºäºå®‰å…¨éœ€æ±‚ï¼Œç¦æ­¢äº†auto renewçš„ç­–ç•¥ã€‚å‡å¦‚æ²¡æœ‰æ‰“å¼€auto renewï¼Œ å¦‚ä½•æ‰‹åŠ¨æ›´...", "content": "èƒŒæ™¯FreeIPA/IdMæœåŠ¡å™¨ï¼Œé»˜è®¤Certificate Authority certificateçš„æœ‰æ•ˆæœŸä¸º20å¹´ï¼Œhost or service certificateæœ‰æ•ˆæœŸä¸º2å¹´ã€‚FreeIPA/IdMæœåŠ¡å™¨åœ¨å®‰è£…æ—¶ï¼Œé»˜è®¤ä½¿ç”¨äº†Certmongeræ¥auto renewè¯ä¹¦ã€‚åœºæ™¯æœ‰äº›å…¬å¸å‡ºäºå®‰å…¨éœ€æ±‚ï¼Œç¦æ­¢äº†auto renewçš„ç­–ç•¥ã€‚å‡å¦‚æ²¡æœ‰æ‰“å¼€auto renewï¼Œ å¦‚ä½•æ‰‹åŠ¨æ›´æ–°å³å°†è¿‡æœŸçš„certificateï¼Ÿ å¦‚ä½•æ‰‹åŠ¨ä¿®å¤å·²ç»è¿‡æœŸçš„certificateï¼Ÿæ›´æ–°å³å°†è¿‡æœŸçš„certificateå‚è€ƒ1ï¼ŒIPA &gt;= 4.1ï¼Œåœ¨FreeIPAæœåŠ¡å™¨æ‰§è¡Œipa-cacert-manage renewã€‚IPA &lt; 4.1çš„ä¾‹å­ï¼šç•¥ã€‚ä¿®å¤å·²ç»è¿‡æœŸçš„certificateæµ‹è¯•ç¯å¢ƒè¿™é‡Œæ„å»ºä¸€ä¸ªæµ‹è¯•ç¯å¢ƒï¼Œæ¨¡æ‹Ÿè¯ä¹¦è¿‡æœŸçš„åœºæ™¯ã€‚ å‚è€ƒCentOS 7.9ä¸Šéƒ¨ç½²é«˜å¯ç”¨FreeIPAæœåŠ¡å™¨ä¸€æ–‡ï¼Œå®‰è£…å¥½FreeIPAæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ã€‚ [centos@CentOS7-ipa-server ~]$ kinit adminPassword for admin@ICINFRA.CN: [centos@CentOS7-ipa-server ~]$ ipa user-find--------------1 user matched--------------User login: adminLast name: AdministratorHome directory: /home/adminLogin shell: /bin/bashPrincipal alias: admin@ICINFRA.CNUID: 450000000GID: 450000000Account disabled: False----------------------------Number of entries returned 1---------------------------- åœ¨FreeIPAæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ï¼Œåˆ†åˆ«æ“ä½œï¼šå°†æ—¶é—´åŒæ­¥æœåŠ¡æ–­å¼€ï¼Œå¹¶å°†æ—¶é—´è®¾ç½®åˆ°å°†æ¥çš„2å¹´åï¼Œæ¨¡æ‹Ÿè¯ä¹¦è¿‡æœŸã€‚å‘½ä»¤å¦‚ä¸‹ï¼š [centos@CentOS7-ipa-server ~]$ sudo date --set=\"`date -d '+2 years' '+%Y-%m-%d %H:%M:%S'`\"Sat Jan 3 20:36:47 EST 2026[centos@CentOS7-ipa-server ~]$ ipa user-findipa: ERROR: cannot connect to 'https://ipa-server-01.icinfra.cn/ipa/json': [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:618)[centos@CentOS7-ipa-server ~]$ sudo ipactl restart --ignore-service-failureRestarting Directory ServiceRestarting krb5kdc ServiceRestarting kadmin ServiceRestarting named ServiceRestarting httpd ServiceFailed to restart httpd ServiceForced restart, ignoring httpd Service, continuing normal operationRestarting ipa-custodia ServiceRestarting ntpd ServiceRestarting pki-tomcatd Service æ›´æ–°è¯ä¹¦åœ¨FreeIPAæœåŠ¡å™¨ä¸Šï¼Œæ‰§è¡Œsudo ipa-cert-fixä¿®å¤è¿‡æœŸçš„è¯ä¹¦ã€‚[centos@CentOS7-ipa-server ~]$ sudo ipa-cert-fix WARNINGipa-cert-fix is intended for recovery when expired certificatesprevent the normal operation of IPA. It should ONLY be usedin such scenarios, and backup of the system, especially certificatesand keys, is STRONGLY RECOMMENDED.The following certificates will be renewed: Dogtag sslserver certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 3 Expires: 2025-12-24 01:32:38Dogtag subsystem certificate: Subject: CN=CA Subsystem,O=ICINFRA.CN Serial: 4 Expires: 2025-12-24 01:32:38Dogtag ca_ocsp_signing certificate: Subject: CN=OCSP Subsystem,O=ICINFRA.CN Serial: 2 Expires: 2025-12-24 01:32:38Dogtag ca_audit_signing certificate: Subject: CN=CA Audit,O=ICINFRA.CN Serial: 5 Expires: 2025-12-24 01:32:38IPA IPA RA certificate: Subject: CN=IPA RA,O=ICINFRA.CN Serial: 7 Expires: 2025-12-24 01:32:52IPA Apache HTTPS certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 9 Expires: 2026-01-04 01:33:26IPA LDAP certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 8 Expires: 2026-01-04 01:33:11IPA KDC certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 10 Expires: 2026-01-04 01:33:34Enter \"yes\" to proceed: yesProceeding.Renewed Dogtag sslserver certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 11 Expires: 2027-12-25 01:47:51Renewed Dogtag subsystem certificate: Subject: CN=CA Subsystem,O=ICINFRA.CN Serial: 12 Expires: 2027-12-25 01:47:51Renewed Dogtag ca_ocsp_signing certificate: Subject: CN=OCSP Subsystem,O=ICINFRA.CN Serial: 13 Expires: 2027-12-25 01:47:52Renewed Dogtag ca_audit_signing certificate: Subject: CN=CA Audit,O=ICINFRA.CN Serial: 14 Expires: 2027-12-25 01:47:52Renewed IPA IPA RA certificate: Subject: CN=IPA RA,O=ICINFRA.CN Serial: 15 Expires: 2027-12-25 01:47:52Renewed IPA Apache HTTPS certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 16 Expires: 2028-01-05 01:47:52Renewed IPA LDAP certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 17 Expires: 2028-01-05 01:47:53Renewed IPA KDC certificate: Subject: CN=ipa-server-01.icinfra.cn,O=ICINFRA.CN Serial: 18 Expires: 2028-01-05 01:47:53Becoming renewal master.The ipa-cert-fix command was successful[centos@CentOS7-ipa-server ~]$ sudo ipactl restartRestarting Directory ServiceRestarting krb5kdc ServiceRestarting kadmin ServiceRestarting named ServiceRestarting httpd ServiceRestarting ipa-custodia ServiceRestarting ntpd ServiceRestarting pki-tomcatd ServiceRestarting ipa-otpd ServiceRestarting ipa-dnskeysyncd Serviceipa: INFO: The ipactl command was successful[centos@CentOS7-ipa-server ~]$ sudo ipactl statusDirectory Service: RUNNINGkrb5kdc Service: RUNNINGkadmin Service: RUNNINGnamed Service: RUNNINGhttpd Service: RUNNINGipa-custodia Service: RUNNINGntpd Service: RUNNINGpki-tomcatd Service: RUNNINGipa-otpd Service: RUNNINGipa-dnskeysyncd Service: RUNNINGipa: INFO: The ipactl command was successfulå®Œæˆã€‚ä½¿ç”¨getcert listå‘½ä»¤æŸ¥çœ‹ï¼Œå·²ç»å»¶æœŸäº†ã€‚å‚è€ƒèµ„æ–™https://www.freeipa.org/page/Certificate_renewalhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/identity_management_guide/certmonger-tracking-certshttps://frasertweedale.github.io/blog-redhat/posts/2019-12-12-certmonger-disable-auto-renew.html https://www.freeipa.org/page/Howto/CA_Certificate_RenewalÂ &#8617;&#xfe0e; " }, { "title": "å¦‚ä½•ä½¿ç”¨vimæ’ä»¶", "url": "/posts/vim-plugins-usage/", "categories": "icenv", "tags": "vim", "date": "2023-12-27 07:20:00 +0000", "snippet": "æœ¬æ–‡ï¼Œä»¥ç¼©è¿›æ’ä»¶ https://github.com/tabulapdf/tabula/releases ä¸ºä¾‹ã€‚ä¸‹è½½1.0.0ç‰ˆæœ¬å­˜æ”¾è‡³ /tools/opensrc/vim-plugins/tabular/1.0.0 ç›®å½•ã€‚åœ¨ ~/.vimrc é‡Œå¢åŠ ä¸€è¡Œset runtimepath+=/tools/opensrc/vim-plugins/tabular/1.0.0", "content": "æœ¬æ–‡ï¼Œä»¥ç¼©è¿›æ’ä»¶ https://github.com/tabulapdf/tabula/releases ä¸ºä¾‹ã€‚ä¸‹è½½1.0.0ç‰ˆæœ¬å­˜æ”¾è‡³ /tools/opensrc/vim-plugins/tabular/1.0.0 ç›®å½•ã€‚åœ¨ ~/.vimrc é‡Œå¢åŠ ä¸€è¡Œset runtimepath+=/tools/opensrc/vim-plugins/tabular/1.0.0" }, { "title": "promptå·¥ç¨‹", "url": "/posts/prompt-engineering/", "categories": "ai", "tags": "gpt", "date": "2023-12-17 14:20:00 +0000", "snippet": "æœ¬æŒ‡å—åˆ†äº«äº†ä» GPT-4 ç­‰å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆæœ‰æ—¶ç§°ä¸º GPT æ¨¡å‹ï¼‰ä¸­è·å¾—æ›´å¥½ç»“æœçš„ç­–ç•¥å’Œç­–ç•¥ã€‚è¿™é‡Œæè¿°çš„æ–¹æ³•æœ‰æ—¶å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œä»¥è·å¾—æ›´å¤§çš„æ•ˆæœã€‚æˆ‘ä»¬é¼“åŠ±æ‚¨è¿›è¡Œå®éªŒï¼Œä»¥æ‰¾åˆ°æœ€é€‚åˆæ‚¨çš„æ–¹æ³•ã€‚æ­¤å¤„æ¼”ç¤ºçš„ä¸€äº›ç¤ºä¾‹ç›®å‰ä»…é€‚ç”¨äºæˆ‘ä»¬åŠŸèƒ½æœ€å¼ºå¤§çš„æ¨¡å‹ gpt-4ã€‚é€šå¸¸ï¼Œå¦‚æœå‘ç°æŸä¸ªæ¨¡å‹åœ¨æŸé¡¹ä»»åŠ¡ä¸­å¤±è´¥ï¼Œå¹¶ä¸”æœ‰åŠŸèƒ½æ›´å¼ºå¤§çš„æ¨¡å‹å¯ç”¨ï¼Œåˆ™é€šå¸¸å€¼å¾—ä½¿ç”¨åŠŸèƒ½æ›´å¼ºå¤§çš„æ¨¡å‹å†æ¬¡å°è¯•ã€‚æ‚¨è¿˜å¯ä»¥æµè§ˆç¤ºä¾‹æç¤ºï¼Œè¿™äº›æç¤ºå±•ç¤º...", "content": "æœ¬æŒ‡å—åˆ†äº«äº†ä» GPT-4 ç­‰å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆæœ‰æ—¶ç§°ä¸º GPT æ¨¡å‹ï¼‰ä¸­è·å¾—æ›´å¥½ç»“æœçš„ç­–ç•¥å’Œç­–ç•¥ã€‚è¿™é‡Œæè¿°çš„æ–¹æ³•æœ‰æ—¶å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œä»¥è·å¾—æ›´å¤§çš„æ•ˆæœã€‚æˆ‘ä»¬é¼“åŠ±æ‚¨è¿›è¡Œå®éªŒï¼Œä»¥æ‰¾åˆ°æœ€é€‚åˆæ‚¨çš„æ–¹æ³•ã€‚æ­¤å¤„æ¼”ç¤ºçš„ä¸€äº›ç¤ºä¾‹ç›®å‰ä»…é€‚ç”¨äºæˆ‘ä»¬åŠŸèƒ½æœ€å¼ºå¤§çš„æ¨¡å‹ gpt-4ã€‚é€šå¸¸ï¼Œå¦‚æœå‘ç°æŸä¸ªæ¨¡å‹åœ¨æŸé¡¹ä»»åŠ¡ä¸­å¤±è´¥ï¼Œå¹¶ä¸”æœ‰åŠŸèƒ½æ›´å¼ºå¤§çš„æ¨¡å‹å¯ç”¨ï¼Œåˆ™é€šå¸¸å€¼å¾—ä½¿ç”¨åŠŸèƒ½æ›´å¼ºå¤§çš„æ¨¡å‹å†æ¬¡å°è¯•ã€‚æ‚¨è¿˜å¯ä»¥æµè§ˆç¤ºä¾‹æç¤ºï¼Œè¿™äº›æç¤ºå±•ç¤ºäº†æˆ‘ä»¬çš„æ¨¡å‹çš„åŠŸèƒ½ï¼šè·å¾—æ›´å¥½ç»“æœçš„6ç§ç­–ç•¥å†™å‡ºæ¸…æ™°çš„æŒ‡ä»¤è¿™äº›æ¨¡å‹æ— æ³•è¯»æ‡‚ä½ çš„å¿ƒæ€ã€‚å¦‚æœè¾“å‡ºå¤ªé•¿ï¼Œè¯·è¦æ±‚ç®€çŸ­å›å¤ã€‚å¦‚æœè¾“å‡ºå¤ªç®€å•ï¼Œè¯·è¦æ±‚ä¸“å®¶çº§å†™ä½œã€‚å¦‚æœæ‚¨ä¸å–œæ¬¢è¯¥æ ¼å¼ï¼Œè¯·å±•ç¤ºæ‚¨å¸Œæœ›çœ‹åˆ°çš„æ ¼å¼ã€‚æ¨¡å‹è¶Šå°‘çŒœæµ‹ä½ æƒ³è¦ä»€ä¹ˆï¼Œä½ å°±è¶Šæœ‰å¯èƒ½å¾—åˆ°æƒ³è¦çš„ç»“æœã€‚ç­–ç•¥ï¼š åœ¨æŸ¥è¯¢ä¸­åŒ…å«è¯¦ç»†ä¿¡æ¯ä»¥è·å¾—æ›´ç›¸å…³çš„ç­”æ¡ˆ è¦æ±‚æ¨¡å‹é‡‡ç”¨è§’è‰² ä½¿ç”¨åˆ†éš”ç¬¦æ¸…æ¥šåœ°æŒ‡ç¤ºè¾“å…¥çš„ä¸åŒéƒ¨åˆ† æŒ‡å®šå®Œæˆä»»åŠ¡æ‰€éœ€çš„æ­¥éª¤ ä¸¾ä¾‹è¯´æ˜ æŒ‡å®šæ‰€éœ€çš„è¾“å‡ºé•¿åº¦æä¾›å‚è€ƒæ–‡æœ¬è¯­è¨€æ¨¡å‹å¯ä»¥è‡ªä¿¡åœ°å‘æ˜è™šå‡ç­”æ¡ˆï¼Œå°¤å…¶æ˜¯åœ¨è¢«é—®åŠæ·±å¥¥çš„ä¸»é¢˜æˆ–å¼•æ–‡å’Œ URL æ—¶ã€‚å°±åƒä¸€å¼ ç¬”è®°å¯ä»¥å¸®åŠ©å­¦ç”Ÿåœ¨è€ƒè¯•ä¸­åšå¾—æ›´å¥½ä¸€æ ·ï¼Œä¸ºè¿™äº›æ¨¡å‹æä¾›å‚è€ƒæ–‡æœ¬å¯ä»¥å¸®åŠ©ä»¥æ›´å°‘çš„æé€ æ¥å›ç­”ã€‚ç­–ç•¥ï¼š æŒ‡ç¤ºæ¨¡å‹ä½¿ç”¨å‚è€ƒæ–‡æœ¬å›ç­” æŒ‡ç¤ºæ¨¡å‹ä½¿ç”¨å‚è€ƒæ–‡æœ¬ä¸­çš„å¼•æ–‡è¿›è¡Œå›ç­”å°†å¤æ‚çš„ä»»åŠ¡æ‹†åˆ†ä¸ºæ›´ç®€å•çš„å­ä»»åŠ¡æ­£å¦‚åœ¨è½¯ä»¶å·¥ç¨‹ä¸­å°†å¤æ‚ç³»ç»Ÿåˆ†è§£ä¸ºä¸€ç»„æ¨¡å—åŒ–ç»„ä»¶æ˜¯å¾ˆå¥½çš„åšæ³•ä¸€æ ·ï¼Œæäº¤ç»™è¯­è¨€æ¨¡å‹çš„ä»»åŠ¡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¤æ‚ä»»åŠ¡å¾€å¾€æ¯”ç®€å•ä»»åŠ¡å…·æœ‰æ›´é«˜çš„é”™è¯¯ç‡ã€‚æ­¤å¤–ï¼Œå¤æ‚ä»»åŠ¡é€šå¸¸å¯ä»¥é‡æ–°å®šä¹‰ä¸ºæ›´ç®€å•ä»»åŠ¡çš„å·¥ä½œæµï¼Œå…¶ä¸­æ—©æœŸä»»åŠ¡çš„è¾“å‡ºç”¨äºæ„å»ºåç»­ä»»åŠ¡çš„è¾“å…¥ã€‚ç­–ç•¥ï¼š ä½¿ç”¨æ„å‘åˆ†ç±»æ¥è¯†åˆ«ä¸ç”¨æˆ·æŸ¥è¯¢æœ€ç›¸å…³çš„è¯´æ˜ å¯¹äºéœ€è¦å¾ˆé•¿å¯¹è¯çš„å¯¹è¯åº”ç”¨ç¨‹åºï¼Œè¯·æ€»ç»“æˆ–ç­›é€‰ä¸Šä¸€ä¸ªå¯¹è¯ åˆ†æ®µæ€»ç»“é•¿æ–‡æ¡£ï¼Œé€’å½’æ„å»ºå®Œæ•´æ‘˜è¦ç»™æ¨¡å‹æ—¶é—´â€œæ€è€ƒâ€å¦‚æœè¢«è¦æ±‚å°† 17 ä¹˜ä»¥ 28ï¼Œæ‚¨å¯èƒ½ä¸ä¼šç«‹å³çŸ¥é“ï¼Œä½†ä»ç„¶å¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»è€Œè®¡ç®—å‡ºæ¥ã€‚åŒæ ·ï¼Œæ¨¡å‹åœ¨è¯•å›¾ç«‹å³å›ç­”æ—¶ä¼šçŠ¯æ›´å¤šçš„æ¨ç†é”™è¯¯ï¼Œè€Œä¸æ˜¯èŠ±æ—¶é—´æ‰¾å‡ºç­”æ¡ˆã€‚åœ¨å›ç­”ä¹‹å‰è¯¢é—®â€œæ€ç»´é“¾â€å¯ä»¥å¸®åŠ©æ¨¡å‹æ›´å¯é åœ°æ¨ç†å‡ºæ­£ç¡®ç­”æ¡ˆã€‚ç­–ç•¥ï¼š åœ¨åŒ†å¿™å¾—å‡ºç»“è®ºä¹‹å‰ï¼ŒæŒ‡ç¤ºæ¨¡å‹åˆ¶å®šè‡ªå·±çš„è§£å†³æ–¹æ¡ˆ ä½¿ç”¨å†…å¿ƒç‹¬ç™½æˆ–ä¸€ç³»åˆ—æŸ¥è¯¢æ¥éšè—æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹ è¯¢é—®æ¨¡å‹åœ¨ä¹‹å‰çš„ä¼ é€’ä¸­æ˜¯å¦é—æ¼äº†ä»»ä½•å†…å®¹ä½¿ç”¨å¤–éƒ¨å·¥å…·é€šè¿‡å‘æ¨¡å‹æä¾›å…¶ä»–å·¥å…·çš„è¾“å‡ºæ¥å¼¥è¡¥æ¨¡å‹çš„å¼±ç‚¹ã€‚ä¾‹å¦‚ï¼Œæ–‡æœ¬æ£€ç´¢ç³»ç»Ÿï¼ˆæœ‰æ—¶ç§°ä¸º RAG æˆ–æ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å¯ä»¥å‘Šè¯‰æ¨¡å‹ç›¸å…³æ–‡æ¡£ã€‚åƒ OpenAI çš„ Code Interpreter è¿™æ ·çš„ä»£ç æ‰§è¡Œå¼•æ“å¯ä»¥å¸®åŠ©æ¨¡å‹è¿›è¡Œæ•°å­¦è¿ç®—å’Œè¿è¡Œä»£ç ã€‚å¦‚æœä¸€é¡¹ä»»åŠ¡å¯ä»¥é€šè¿‡å·¥å…·è€Œä¸æ˜¯è¯­è¨€æ¨¡å‹æ›´å¯é æˆ–æ›´é«˜æ•ˆåœ°å®Œæˆï¼Œè¯·å¸è½½å®ƒä»¥å……åˆ†åˆ©ç”¨ä¸¤è€…ã€‚ç­–ç•¥ï¼š ä½¿ç”¨åŸºäºåµŒå…¥çš„æœç´¢å®ç°é«˜æ•ˆçš„çŸ¥è¯†æ£€ç´¢ ä½¿ç”¨ä»£ç æ‰§è¡Œæ¥æ‰§è¡Œæ›´å‡†ç¡®çš„è®¡ç®—æˆ–è°ƒç”¨å¤–éƒ¨ API æˆäºˆæ¨¡å‹å¯¹ç‰¹å®šå‡½æ•°çš„è®¿é—®æƒé™ç³»ç»Ÿåœ°æµ‹è¯•æ›´æ”¹å¦‚æœå¯ä»¥è¡¡é‡æ€§èƒ½ï¼Œåˆ™æ›´å®¹æ˜“æé«˜æ€§èƒ½ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹æç¤ºçš„ä¿®æ”¹å°†åœ¨ä¸€äº›å­¤ç«‹çš„ç¤ºä¾‹ä¸Šè·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œä½†åœ¨ä¸€ç»„æ›´å…·ä»£è¡¨æ€§çš„ç¤ºä¾‹ä¸Šä¼šå¯¼è‡´æ•´ä½“æ€§èƒ½å˜å·®ã€‚å› æ­¤ï¼Œä¸ºäº†ç¡®ä¿æ›´æ”¹å¯¹æ€§èƒ½æœ‰å‡€ç§¯æå½±å“ï¼Œå¯èƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªå…¨é¢çš„æµ‹è¯•å¥—ä»¶ï¼ˆä¹Ÿç§°ä¸ºâ€œè¯„ä¼°â€ï¼‰ã€‚ç­–ç•¥ï¼š å‚è€ƒé»„é‡‘æ ‡å‡†ç­”æ¡ˆè¯„ä¼°æ¨¡å‹è¾“å‡ºç­–ç•¥ä¸Šé¢åˆ—å‡ºçš„æ¯ä¸ªç­–ç•¥éƒ½å¯ä»¥ç”¨ç‰¹å®šçš„ç­–ç•¥è¿›è¡Œå®ä¾‹åŒ–ã€‚è¿™äº›ç­–ç•¥æ—¨åœ¨ä¸ºå°è¯•æä¾›æƒ³æ³•ã€‚ä½†ä¸æ˜¯å…¨éƒ¨ï¼Œæ‚¨åº”è¯¥éšæ„å°è¯•æ­¤å¤„æœªæåŠçš„å…¶ä»–åˆ›æ„ã€‚ç­–ç•¥ï¼šå†™å‡ºæ¸…æ™°çš„æŒ‡ä»¤ç­–ç•¥ï¼šåœ¨æŸ¥è¯¢ä¸­åŒ…å«è¯¦ç»†ä¿¡æ¯ä»¥è·å¾—æ›´ç›¸å…³çš„ç­”æ¡ˆä¸ºäº†è·å¾—é«˜åº¦ç›¸å…³çš„å“åº”ï¼Œè¯·ç¡®ä¿è¯·æ±‚æä¾›ä»»ä½•é‡è¦çš„è¯¦ç»†ä¿¡æ¯æˆ–ä¸Šä¸‹æ–‡ã€‚å¦åˆ™ï¼Œä½ å°±è¦è®©æ¨¡å‹æ¥çŒœæµ‹ä½ çš„æ„æ€äº†ã€‚ æ›´ç³Ÿ æ›´å¥½ å¦‚ä½•åœ¨Excelä¸­æ·»åŠ æ•°å­—ï¼Ÿ å¦‚ä½•åœ¨Excelä¸­å°†ä¸€è¡Œç¾å…ƒé‡‘é¢ç›¸åŠ ï¼Ÿæˆ‘æƒ³è‡ªåŠ¨ä¸ºæ•´å¼ è¡Œè¡¨æ‰§è¡Œæ­¤æ“ä½œï¼Œæ‰€æœ‰æ€»æ•°éƒ½ä½äºåä¸ºâ€œTotalâ€çš„åˆ—çš„å³ä¾§ã€‚ è°æ˜¯æ€»ç»Ÿï¼Ÿ 2021å¹´è°æ˜¯å¢¨è¥¿å“¥æ€»ç»Ÿï¼Œé€‰ä¸¾å¤šä¹…ä¸¾è¡Œä¸€æ¬¡ï¼Ÿ ç¼–å†™ä»£ç æ¥è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚ ç¼–å†™ä¸€ä¸ª TypeScript å‡½æ•°æ¥æœ‰æ•ˆåœ°è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚å¯¹ä»£ç è¿›è¡Œå®½æ¾çš„æ³¨é‡Šï¼Œä»¥è§£é‡Šæ¯ä¸ªéƒ¨åˆ†çš„ä½œç”¨ä»¥åŠä¸ºä»€ä¹ˆè¿™æ ·ç¼–å†™ã€‚ æ€»ç»“ä¼šè®®è®°å½•ã€‚ ç”¨ä¸€ä¸ªæ®µè½æ€»ç»“ä¼šè®®è®°å½•ã€‚ç„¶åå†™ä¸‹æ¼”è®²è€…çš„é™ä»·åˆ—è¡¨å’Œä»–ä»¬çš„æ¯ä¸ªå…³é”®ç‚¹ã€‚æœ€åï¼Œåˆ—å‡ºæ¼”è®²è€…å»ºè®®çš„åç»­æ­¥éª¤æˆ–è¡ŒåŠ¨é¡¹ç›®ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚ ç­–ç•¥ï¼šè¦æ±‚æ¨¡å‹é‡‡ç”¨è§’è‰²ç³»ç»Ÿæ¶ˆæ¯å¯ç”¨äºæŒ‡å®šæ¨¡å‹åœ¨å…¶å›å¤ä¸­ä½¿ç”¨çš„è§’è‰²ã€‚ Â  Â  ç³»ç»Ÿ å½“æˆ‘è¯·æ±‚å¸®åŠ©å†™ä¸œè¥¿æ—¶ï¼Œä½ ä¼šå›å¤ä¸€ä»½æ–‡æ¡£ï¼Œæ¯ä¸ªæ®µè½ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªç¬‘è¯æˆ–ä¿çš®çš„è¯„è®ºã€‚ ç”¨æˆ· ç»™æˆ‘çš„é’¢èºæ “ä¾›åº”å•†å†™ä¸€å°æ„Ÿè°¢ä¿¡ï¼Œæ„Ÿè°¢ä»–ä»¬åœ¨çŸ­æ—¶é—´å†…æŒ‰æ—¶äº¤è´§ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿäº¤ä»˜ä¸€ä¸ªé‡è¦çš„è®¢å•ã€‚ ç­–ç•¥ï¼šä½¿ç”¨åˆ†éš”ç¬¦æ¸…æ¥šåœ°æŒ‡ç¤ºè¾“å…¥çš„ä¸åŒéƒ¨åˆ†ä¸‰å¼•å·ã€XML æ ‡è®°ã€ç« èŠ‚æ ‡é¢˜ç­‰åˆ†éš”ç¬¦å¯ä»¥å¸®åŠ©åˆ’åˆ†è¦åŒºåˆ«å¯¹å¾…çš„æ–‡æœ¬éƒ¨åˆ†ã€‚ Â  Â  ç”¨æˆ· ç”¨ä¿³å¥æ€»ç»“ç”¨ä¸‰å¼•å·åˆ†éš”çš„æ–‡æœ¬ã€‚&lt;/br&gt;&lt;/br&gt;â€œâ€â€œåœ¨æ­¤å¤„æ’å…¥æ–‡æœ¬â€â€œâ€ Â  Â  ç³»ç»Ÿ æ‚¨å°†è·å¾—ä¸¤ç¯‡å…³äºåŒä¸€ä¸»é¢˜çš„æ–‡ç« ï¼ˆç”¨ XML æ ‡è®°åˆ†éš”ï¼‰ã€‚é¦–å…ˆæ€»ç»“ä¸€ä¸‹æ¯ç¯‡æ–‡ç« çš„è®ºç‚¹ã€‚ç„¶åæŒ‡å‡ºä»–ä»¬ä¸­çš„å“ªä¸€ä¸ªæå‡ºäº†æ›´å¥½çš„è®ºç‚¹å¹¶è§£é‡ŠåŸå› ã€‚ ç”¨æˆ· &lt;article&gt;åœ¨æ­¤å¤„æ’å…¥ç¬¬ä¸€ç¯‡æ–‡ç«  &lt;/article&gt;&lt;/br&gt;&lt;/br&gt;&lt;article&gt;åœ¨æ­¤å¤„æ’å…¥ç¬¬äºŒç¯‡æ–‡ç«  &lt;/article&gt; Â  Â  ç³»ç»Ÿ æ‚¨å°†è·å¾—è®ºæ–‡æ‘˜è¦å’Œå»ºè®®çš„æ ‡é¢˜ã€‚è®ºæ–‡æ ‡é¢˜åº”è¯¥è®©è¯»è€…å¯¹è®ºæ–‡çš„ä¸»é¢˜æœ‰ä¸€ä¸ªå¾ˆå¥½çš„äº†è§£ï¼Œä½†ä¹Ÿåº”è¯¥å¼•äººæ³¨ç›®ã€‚å¦‚æœæ ‡é¢˜ä¸ç¬¦åˆè¿™äº›æ ‡å‡†ï¼Œè¯·å»ºè®® 5 ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚ ç”¨æˆ· æ‘˜è¦ï¼šåœ¨æ­¤å¤„æ’å…¥æ‘˜è¦&lt;/br&gt;&lt;/br&gt;æ ‡é¢˜ï¼šåœ¨æ­¤å¤„æ’å…¥æ ‡é¢˜ å¯¹äºæ­¤ç±»ç®€å•ä»»åŠ¡ï¼Œä½¿ç”¨åˆ†éš”ç¬¦å¯èƒ½ä¸ä¼šå¯¹è¾“å‡ºè´¨é‡äº§ç”Ÿå½±å“ã€‚ä½†æ˜¯ï¼Œä»»åŠ¡è¶Šå¤æ‚ï¼Œæ¶ˆé™¤ä»»åŠ¡ç»†èŠ‚çš„æ­§ä¹‰å°±è¶Šé‡è¦ã€‚ä¸è¦è®©æ¨¡å‹ç¡®åˆ‡åœ°ç†è§£ä½ å¯¹ä»–ä»¬çš„è¦æ±‚ã€‚ç­–ç•¥ï¼šæŒ‡å®šå®Œæˆä»»åŠ¡æ‰€éœ€çš„æ­¥éª¤æŸäº›ä»»åŠ¡æœ€å¥½æŒ‡å®šä¸ºä¸€ç³»åˆ—æ­¥éª¤ã€‚æ˜¾å¼å†™å‡ºè¿™äº›æ­¥éª¤å¯ä»¥ä½¿æ¨¡å‹æ›´å®¹æ˜“éµå¾ªå®ƒä»¬ã€‚ Â  Â  ç³»ç»Ÿ ä½¿ç”¨ä»¥ä¸‹åˆ†æ­¥è¯´æ˜æ¥å“åº”ç”¨æˆ·è¾“å…¥ã€‚&lt;/br&gt;ç¬¬ 1 æ­¥ - ç”¨æˆ·å°†ä¸ºæ‚¨æä¾›ä¸‰å¼•å·ä¸­çš„æ–‡æœ¬ã€‚ç”¨ä¸€å¥è¯æ€»ç»“è¿™æ®µæ–‡å­—ï¼Œå‰ç¼€æ˜¯â€œæ‘˜è¦ï¼šâ€ã€‚&lt;/br&gt;ç¬¬ 2 æ­¥ - å°†ç¬¬ 1 æ­¥ä¸­çš„æ‘˜è¦ç¿»è¯‘æˆè¥¿ç­ç‰™è¯­ï¼Œå‰ç¼€ä¸ºâ€œç¿»è¯‘ï¼šâ€ã€‚ ç”¨æˆ· â€œâ€â€œåœ¨æ­¤å¤„æ’å…¥æ–‡æœ¬â€â€œâ€ ç­–ç•¥ï¼šä¸¾ä¾‹è¯´æ˜æä¾›é€‚ç”¨äºæ‰€æœ‰ç¤ºä¾‹çš„ä¸€èˆ¬è¯´æ˜é€šå¸¸æ¯”é€šè¿‡ç¤ºä¾‹æ¼”ç¤ºä»»åŠ¡çš„æ‰€æœ‰æ’åˆ—æ›´æœ‰æ•ˆï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæä¾›ç¤ºä¾‹å¯èƒ½æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ‰“ç®—è®©æ¨¡å‹å¤åˆ¶å“åº”ç”¨æˆ·æŸ¥è¯¢çš„ç‰¹å®šæ ·å¼ï¼Œè¿™å¾ˆéš¾æ˜¾å¼æè¿°ã€‚è¿™è¢«ç§°ä¸ºâ€œå°é•œå¤´â€æç¤ºã€‚ Â  Â  ç³»ç»Ÿ ä»¥ä¸€è‡´çš„é£æ ¼å›ç­”ã€‚ ç”¨æˆ· æ•™æˆ‘å¿è€ã€‚ åŠ©ç† é›•åˆ»æœ€æ·±è°·çš„æ²³æµä»ä¸€æ±ªä¸èµ·çœ¼çš„æ³‰æ°´æµå‡º;æœ€ä¼Ÿå¤§çš„äº¤å“æ›²èµ·æºäºä¸€ä¸ªéŸ³ç¬¦;æœ€å¤æ‚çš„æŒ‚æ¯¯å§‹äºä¸€æ ¹å­¤ç‹¬çš„çº¿ã€‚ ç”¨æˆ· æ•™æˆ‘å…³äºæµ·æ´‹çš„çŸ¥è¯†ã€‚ ç­–ç•¥ï¼šæŒ‡å®šæ‰€éœ€çš„è¾“å‡ºé•¿åº¦æ‚¨å¯ä»¥è¦æ±‚æ¨¡å‹ç”Ÿæˆå…·æœ‰ç»™å®šç›®æ ‡é•¿åº¦çš„è¾“å‡ºã€‚ç›®æ ‡è¾“å‡ºé•¿åº¦å¯ä»¥æ ¹æ®å•è¯ã€å¥å­ã€æ®µè½ã€é¡¹ç›®ç¬¦å·ç­‰çš„æ•°é‡æ¥æŒ‡å®šã€‚ä½†è¯·æ³¨æ„ï¼ŒæŒ‡ç¤ºæ¨¡å‹ç”Ÿæˆç‰¹å®šæ•°é‡çš„å•è¯å¹¶ä¸èƒ½é«˜ç²¾åº¦åœ°å·¥ä½œã€‚è¯¥æ¨¡å‹å¯ä»¥æ›´å¯é åœ°ç”Ÿæˆå…·æœ‰ç‰¹å®šæ•°é‡çš„æ®µè½æˆ–é¡¹ç›®ç¬¦å·çš„è¾“å‡ºã€‚ Â  Â  ç”¨æˆ· ç”¨ä¸‰å¼•å·åˆ†éš”çš„æ–‡æœ¬æ€»ç»“åœ¨å¤§çº¦ 50 ä¸ªå•è¯ä¸­ã€‚&lt;/br&gt;&lt;/br&gt;â€œâ€â€œåœ¨æ­¤å¤„æ’å…¥æ–‡æœ¬â€â€œâ€ Â  Â  ç”¨æˆ· æ€»ç»“ 2 æ®µä¸­ç”¨ä¸‰å¼•å·åˆ†éš”çš„æ–‡æœ¬ã€‚&lt;/br&gt;&lt;/br&gt;â€œâ€â€œåœ¨æ­¤å¤„æ’å…¥æ–‡æœ¬â€â€œâ€ Â  Â  ç”¨æˆ· æ€»ç»“ç”¨ä¸‰å¼•å·åˆ†éš”çš„æ–‡æœ¬ï¼Œåˆ†ä¸º 3 ä¸ªè¦ç‚¹ã€‚&lt;/br&gt;&lt;/br&gt;â€œâ€â€œåœ¨æ­¤å¤„æ’å…¥æ–‡æœ¬â€â€œâ€ ç­–ç•¥ï¼šæä¾›å‚è€ƒæ–‡æœ¬ç­–ç•¥ï¼šæŒ‡ç¤ºæ¨¡å‹ä½¿ç”¨å‚è€ƒæ–‡æœ¬è¿›è¡Œå›ç­”å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä¸ºæ¨¡å‹æä¾›ä¸å½“å‰æŸ¥è¯¢ç›¸å…³çš„å¯ä¿¡ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŒ‡ç¤ºæ¨¡å‹ä½¿ç”¨æä¾›çš„ä¿¡æ¯æ¥æ’°å†™å…¶ç­”æ¡ˆã€‚ Â  Â  ç³»ç»Ÿ ä½¿ç”¨æä¾›çš„æ–‡ç« ï¼ˆç”¨ä¸‰å¼•å·åˆ†éš”ï¼‰æ¥å›ç­”é—®é¢˜ã€‚å¦‚æœåœ¨æ–‡ç« ä¸­æ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œè¯·å†™â€œæˆ‘æ‰¾ä¸åˆ°ç­”æ¡ˆâ€ã€‚ ç”¨æˆ· &lt;æ’å…¥æ–‡ç« ï¼Œæ¯ç¯‡æ–‡ç« ç”¨ä¸‰å¼•å·åˆ†éš”&gt;&lt;/br&gt;&lt;/br&gt;é—®é¢˜ï¼š é‰´äºæ‰€æœ‰æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£éƒ½æœ‰é™ï¼Œæˆ‘ä»¬éœ€è¦æŸç§æ–¹æ³•æ¥åŠ¨æ€æŸ¥æ‰¾ä¸æ‰€é—®é—®é¢˜ç›¸å…³çš„ä¿¡æ¯ã€‚åµŒå…¥å¯ç”¨äºå®ç°é«˜æ•ˆçš„çŸ¥è¯†æ£€ç´¢ã€‚æœ‰å…³å¦‚ä½•å®ç°æ­¤ç­–ç•¥çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ç­–ç•¥â€œä½¿ç”¨åŸºäºåµŒå…¥çš„æœç´¢å®ç°é«˜æ•ˆçš„çŸ¥è¯†æ£€ç´¢â€ã€‚ç­–ç•¥ï¼šæŒ‡ç¤ºæ¨¡å‹ä½¿ç”¨å‚è€ƒæ–‡æœ¬ä¸­çš„å¼•æ–‡æ¥å›ç­”å¦‚æœè¾“å…¥å·²è¡¥å……ç›¸å…³çŸ¥è¯†ï¼Œåˆ™ç›´æ¥è¦æ±‚æ¨¡å‹é€šè¿‡å¼•ç”¨æ‰€æä¾›æ–‡æ¡£ä¸­çš„æ®µè½æ¥ä¸ºå…¶ç­”æ¡ˆæ·»åŠ å¼•æ–‡ã€‚è¯·æ³¨æ„ï¼Œè¾“å‡ºä¸­çš„å¼•æ–‡å¯ä»¥é€šè¿‡æä¾›çš„æ–‡æ¡£ä¸­çš„å­—ç¬¦ä¸²åŒ¹é…ä»¥ç¼–ç¨‹æ–¹å¼è¿›è¡ŒéªŒè¯ã€‚ Â  Â  ç³»ç»Ÿ æ‚¨å°†è·å¾—ä¸€ä»½ç”±ä¸‰å¼•å·åˆ†éš”çš„æ–‡ä»¶å’Œä¸€ä¸ªé—®é¢˜ã€‚æ‚¨çš„ä»»åŠ¡æ˜¯ä»…ä½¿ç”¨æä¾›çš„æ–‡æ¡£å›ç­”é—®é¢˜ï¼Œå¹¶å¼•ç”¨ç”¨äºå›ç­”é—®é¢˜çš„æ–‡æ¡£çš„æ®µè½ã€‚å¦‚æœæ–‡æ¡£ä¸åŒ…å«å›ç­”æ­¤é—®é¢˜æ‰€éœ€çš„ä¿¡æ¯ï¼Œåˆ™åªéœ€å†™ï¼šâ€œä¿¡æ¯ä¸è¶³â€ã€‚å¦‚æœæä¾›äº†é—®é¢˜çš„ç­”æ¡ˆï¼Œåˆ™å¿…é¡»ç”¨å¼•æ–‡è¿›è¡Œæ³¨é‡Šã€‚ä½¿ç”¨ä»¥ä¸‹æ ¼å¼å¼•ç”¨ç›¸å…³æ®µè½ ï¼ˆ{â€œcitationâ€ï¼š â€¦}ï¼‰ã€‚ ç”¨æˆ· â€œâ€â€œâ€â€œâ€&lt;/br&gt;&lt;/br&gt;é—®é¢˜ï¼š ç­–ç•¥ï¼šå°†å¤æ‚çš„ä»»åŠ¡æ‹†åˆ†ä¸ºæ›´ç®€å•çš„å­ä»»åŠ¡ç­–ç•¥ï¼šä½¿ç”¨æ„å‘åˆ†ç±»æ¥è¯†åˆ«ä¸ç”¨æˆ·æŸ¥è¯¢æœ€ç›¸å…³çš„è¯´æ˜å¯¹äºéœ€è¦å¤§é‡ç‹¬ç«‹æŒ‡ä»¤é›†æ¥å¤„ç†ä¸åŒæƒ…å†µçš„ä»»åŠ¡ï¼Œé¦–å…ˆå¯¹æŸ¥è¯¢ç±»å‹è¿›è¡Œåˆ†ç±»ï¼Œç„¶åä½¿ç”¨è¯¥åˆ†ç±»æ¥ç¡®å®šéœ€è¦å“ªäº›æŒ‡ä»¤ï¼Œè¿™å¯èƒ½æ˜¯æœ‰ç›Šçš„ã€‚è¿™å¯ä»¥é€šè¿‡å®šä¹‰ä¸å¤„ç†ç»™å®šç±»åˆ«ä¸­çš„ä»»åŠ¡ç›¸å…³çš„å›ºå®šç±»åˆ«å’Œç¡¬ç¼–ç æŒ‡ä»¤æ¥å®ç°ã€‚æ­¤è¿‡ç¨‹ä¹Ÿå¯ä»¥é€’å½’åº”ç”¨ï¼Œä»¥å°†ä»»åŠ¡åˆ†è§£ä¸ºä¸€ç³»åˆ—é˜¶æ®µã€‚è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œæ¯ä¸ªæŸ¥è¯¢å°†ä»…åŒ…å«æ‰§è¡Œä»»åŠ¡ä¸‹ä¸€é˜¶æ®µæ‰€éœ€çš„é‚£äº›æŒ‡ä»¤ï¼Œä¸ä½¿ç”¨å•ä¸ªæŸ¥è¯¢æ‰§è¡Œæ•´ä¸ªä»»åŠ¡ç›¸æ¯”ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´ä½çš„é”™è¯¯ç‡ã€‚è¿™ä¹Ÿå¯ä»¥é™ä½æˆæœ¬ï¼Œå› ä¸ºè¾ƒå¤§çš„æç¤ºçš„è¿è¡Œæˆæœ¬æ›´é«˜ï¼ˆè¯·å‚é˜…[å®šä»·ä¿¡æ¯(https://openai.com/pricing)]ï¼‰ã€‚ä¾‹å¦‚ï¼Œå‡è®¾å¯¹äºå®¢æˆ·æœåŠ¡åº”ç”¨ç¨‹åºï¼ŒæŸ¥è¯¢å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼è¿›è¡Œæœ‰ç”¨çš„åˆ†ç±»ï¼šæ ¹æ®å®¢æˆ·æŸ¥è¯¢çš„åˆ†ç±»ï¼Œå¯ä»¥å‘æ¨¡å‹æä¾›ä¸€ç»„æ›´å…·ä½“çš„æŒ‡ä»¤ï¼Œä»¥ä¾¿å…¶å¤„ç†åç»­æ­¥éª¤ã€‚ä¾‹å¦‚ï¼Œå‡è®¾å®¢æˆ·éœ€è¦â€œæ•…éšœæ’é™¤â€æ–¹é¢çš„å¸®åŠ©ã€‚è¯·æ³¨æ„ï¼Œå·²æŒ‡ç¤ºæ¨¡å‹å‘å‡ºç‰¹æ®Šå­—ç¬¦ä¸²ï¼Œä»¥æŒ‡ç¤ºä¼šè¯çŠ¶æ€ä½•æ—¶æ›´æ”¹ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†ç³»ç»Ÿå˜æˆä¸€ä¸ªçŠ¶æ€æœºï¼Œå…¶ä¸­çŠ¶æ€å†³å®šäº†æ³¨å…¥å“ªäº›æŒ‡ä»¤ã€‚é€šè¿‡è·Ÿè¸ªçŠ¶æ€ã€åœ¨è¯¥çŠ¶æ€ä¸‹å“ªäº›æŒ‡ä»¤æ˜¯ç›¸å…³çš„ï¼Œä»¥åŠå¯ä»¥é€‰æ‹©å…è®¸ä»è¯¥çŠ¶æ€è¿›è¡Œå“ªäº›çŠ¶æ€è½¬æ¢ï¼Œæˆ‘ä»¬å¯ä»¥å›´ç»•ç”¨æˆ·ä½“éªŒè®¾ç½®æŠ¤æ ï¼Œè€Œè¿™äº›ä¿æŠ¤æªæ–½å¾ˆéš¾ç”¨ä¸å¤ªç»“æ„åŒ–çš„æ–¹æ³•å®ç°ã€‚ç­–ç•¥ï¼šå¯¹äºéœ€è¦å¾ˆé•¿å¯¹è¯çš„å¯¹è¯åº”ç”¨ç¨‹åºï¼Œæ€»ç»“æˆ–ç­›é€‰ä¹‹å‰çš„å¯¹è¯ç”±äºæ¨¡å‹å…·æœ‰å›ºå®šçš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œå› æ­¤ç”¨æˆ·å’ŒåŠ©æ‰‹ä¹‹é—´çš„å¯¹è¯ï¼ˆå…¶ä¸­æ•´ä¸ªå¯¹è¯åŒ…å«åœ¨ä¸Šä¸‹æ–‡çª—å£ä¸­ï¼‰ä¸èƒ½æ— é™æœŸåœ°ç»§ç»­ã€‚æ­¤é—®é¢˜æœ‰å¤šç§è§£å†³æ–¹æ³•ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯æ€»ç»“å¯¹è¯ä¸­çš„å‰ä¸€è½®ã€‚ä¸€æ—¦è¾“å…¥çš„å¤§å°è¾¾åˆ°é¢„å®šçš„é˜ˆå€¼é•¿åº¦ï¼Œè¿™å¯èƒ½ä¼šè§¦å‘ä¸€ä¸ªæŸ¥è¯¢ï¼Œè¯¥æŸ¥è¯¢æ±‡æ€»äº†éƒ¨åˆ†ä¼šè¯ï¼Œå¹¶ä¸”å…ˆå‰ä¼šè¯çš„æ‘˜è¦å¯ä»¥ä½œä¸ºç³»ç»Ÿæ¶ˆæ¯çš„ä¸€éƒ¨åˆ†åŒ…å«åœ¨å†…ã€‚æˆ–è€…ï¼Œå¯ä»¥åœ¨æ•´ä¸ªå¯¹è¯ä¸­åœ¨åå°å¼‚æ­¥æ€»ç»“å…ˆå‰çš„å¯¹è¯ã€‚å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯åŠ¨æ€é€‰æ‹©ä¸å½“å‰æŸ¥è¯¢æœ€ç›¸å…³çš„å¯¹è¯çš„å…ˆå‰éƒ¨åˆ†ã€‚è¯·å‚é˜…ç­–ç•¥â€œä½¿ç”¨åŸºäºåµŒå…¥çš„æœç´¢å®ç°é«˜æ•ˆçš„çŸ¥è¯†æ£€ç´¢â€ã€‚ç­–ç•¥ï¼šåˆ†æ®µæ€»ç»“é•¿æ–‡æ¡£ï¼Œé€’å½’æ„å»ºå®Œæ•´æ‘˜è¦ç”±äºæ¨¡å‹å…·æœ‰å›ºå®šçš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½ç”¨äºæ±‡æ€»é•¿åº¦è¶…è¿‡ä¸Šä¸‹æ–‡é•¿åº¦å‡å»å•ä¸ªæŸ¥è¯¢ä¸­ç”Ÿæˆçš„æ‘˜è¦é•¿åº¦çš„æ–‡æœ¬ã€‚ä¸ºäº†æ€»ç»“ä¸€ä¸ªå¾ˆé•¿çš„æ–‡æ¡£ï¼Œæ¯”å¦‚ä¸€æœ¬ä¹¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—æŸ¥è¯¢æ¥æ€»ç»“æ–‡æ¡£çš„æ¯ä¸ªéƒ¨åˆ†ã€‚ç« èŠ‚æ‘˜è¦å¯ä»¥è¿æ¥å’Œæ±‡æ€»ï¼Œä»è€Œç”Ÿæˆæ‘˜è¦çš„æ‘˜è¦ã€‚æ­¤è¿‡ç¨‹å¯ä»¥é€’å½’æ–¹å¼è¿›è¡Œï¼Œç›´åˆ°å¯¹æ•´ä¸ªæ–‡æ¡£è¿›è¡Œæ±‡æ€»ã€‚å¦‚æœæœ‰å¿…è¦ä½¿ç”¨æœ‰å…³å‰é¢éƒ¨åˆ†çš„ä¿¡æ¯æ¥ç†è§£åé¢çš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªæœ‰ç”¨çš„æŠ€å·§æ˜¯ï¼Œåœ¨æ€»ç»“è¯¥ç‚¹çš„å†…å®¹æ—¶ï¼ŒåŒ…æ‹¬ä¹¦ä¸­ä»»ä½•ç»™å®šç‚¹ä¹‹å‰çš„æ–‡æœ¬çš„è¿ç»­æ‘˜è¦ã€‚OpenAI ä¹‹å‰ä½¿ç”¨ GPT-3 å˜ä½“çš„ç ”ç©¶ä¸­å·²ç»ç ”ç©¶äº†è¿™ç§æ€»ç»“ä¹¦ç±ç¨‹åºçš„æœ‰æ•ˆæ€§ã€‚ç­–ç•¥ï¼šç»™æ¨¡å‹â€œæ€è€ƒâ€çš„æ—¶é—´ç­–ç•¥ï¼šåœ¨åŒ†å¿™å¾—å‡ºç»“è®ºä¹‹å‰ï¼ŒæŒ‡ç¤ºæ¨¡å‹åˆ¶å®šè‡ªå·±çš„è§£å†³æ–¹æ¡ˆæœ‰æ—¶ï¼Œå½“æˆ‘ä»¬æ˜ç¡®æŒ‡ç¤ºæ¨¡å‹åœ¨å¾—å‡ºç»“è®ºä¹‹å‰ä»ç¬¬ä¸€æ€§åŸç†è¿›è¡Œæ¨ç†æ—¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°æ›´å¥½çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ¨¡å‹æ¥è¯„ä¼°å­¦ç”Ÿå¯¹æ•°å­¦é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚æœ€æ˜æ˜¾çš„æ–¹æ³•æ˜¯ç®€å•åœ°è¯¢é—®æ¨¡å‹å­¦ç”Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚ä½†å­¦ç”Ÿçš„è§£æ³•å…¶å®æ˜¯ä¸å¯¹çš„ï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡æç¤ºæ¨¡å‹é¦–å…ˆç”Ÿæˆè‡ªå·±çš„è§£å†³æ–¹æ¡ˆæ¥è®©æ¨¡å‹æˆåŠŸæ³¨æ„åˆ°è¿™ä¸€ç‚¹ã€‚ç­–ç•¥ï¼šä½¿ç”¨å†…å¿ƒç‹¬ç™½æˆ–ä¸€ç³»åˆ—æŸ¥è¯¢æ¥éšè—æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹å‰é¢çš„ç­–ç•¥è¡¨æ˜ï¼Œæ¨¡å‹åœ¨å›ç­”ç‰¹å®šé—®é¢˜ä¹‹å‰è¯¦ç»†æ¨ç†é—®é¢˜æœ‰æ—¶å¾ˆé‡è¦ã€‚å¯¹äºæŸäº›åº”ç”¨ç¨‹åºï¼Œæ¨¡å‹ç”¨äºå¾—å‡ºæœ€ç»ˆç­”æ¡ˆçš„æ¨ç†è¿‡ç¨‹ä¸é€‚åˆä¸ç”¨æˆ·å…±äº«ã€‚ä¾‹å¦‚ï¼Œåœ¨è¾…å¯¼åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›é¼“åŠ±å­¦ç”Ÿè‡ªå·±æ‰¾å‡ºç­”æ¡ˆï¼Œä½†æ¨¡å‹å¯¹å­¦ç”Ÿè§£å†³æ–¹æ¡ˆçš„æ¨ç†è¿‡ç¨‹å¯èƒ½ä¼šå‘å­¦ç”Ÿæ­ç¤ºç­”æ¡ˆã€‚å†…å¿ƒç‹¬ç™½æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥ç¼“è§£è¿™ç§æƒ…å†µçš„ç­–ç•¥ã€‚å†…å¿ƒç‹¬ç™½çš„æ€æƒ³æ˜¯æŒ‡ç¤ºæ¨¡å‹å°†è¾“å‡ºä¸­å¯¹ç”¨æˆ·éšè—çš„éƒ¨åˆ†è½¬æ¢ä¸ºç»“æ„åŒ–æ ¼å¼ï¼Œä»¥ä¾¿è½»æ¾è§£æå®ƒä»¬ã€‚ç„¶åï¼Œåœ¨å°†è¾“å‡ºå‘ˆç°ç»™ç”¨æˆ·ä¹‹å‰ï¼Œå°†è§£æè¾“å‡ºï¼Œå¹¶ä¸”ä»…æ˜¾ç¤ºéƒ¨åˆ†è¾“å‡ºã€‚æˆ–è€…ï¼Œè¿™å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—æŸ¥è¯¢æ¥å®ç°ï¼Œå…¶ä¸­é™¤æœ€åä¸€ä¸ªæŸ¥è¯¢å¤–çš„æ‰€æœ‰æŸ¥è¯¢éƒ½å¯¹æœ€ç»ˆç”¨æˆ·éšè—å…¶è¾“å‡ºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥è¦æ±‚æ¨¡å‹è‡ªè¡Œè§£å†³é—®é¢˜ã€‚ç”±äºæ­¤åˆå§‹æŸ¥è¯¢ä¸éœ€è¦å­¦ç”Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤å¯ä»¥çœç•¥å®ƒã€‚è¿™æä¾›äº†é¢å¤–çš„ä¼˜åŠ¿ï¼Œå³æ¨¡å‹çš„è§£å†³æ–¹æ¡ˆä¸ä¼šå› å­¦ç”Ÿå°è¯•çš„è§£å†³æ–¹æ¡ˆè€Œäº§ç”Ÿåå·®ã€‚ Â  Â  ç”¨æˆ· æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¨¡å‹ä½¿ç”¨æ‰€æœ‰å¯ç”¨ä¿¡æ¯æ¥è¯„ä¼°å­¦ç”Ÿè§£å†³æ–¹æ¡ˆçš„æ­£ç¡®æ€§ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¨¡å‹ä½¿ç”¨è‡ªå·±çš„åˆ†ææ¥æ„å»ºä¸€ä¸ªä¹äºåŠ©äººçš„å¯¼å¸ˆè§’è‰²çš„å›å¤ã€‚ç­–ç•¥ï¼šè¯¢é—®æ¨¡å‹åœ¨ä¹‹å‰çš„ä¼ é€’ä¸­æ˜¯å¦é—æ¼äº†ä»»ä½•å†…å®¹å‡è®¾æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªæ¨¡å‹æ¥åˆ—å‡ºä¸ç‰¹å®šé—®é¢˜ç›¸å…³çš„æ¥æºæ‘˜å½•ã€‚åˆ—å‡ºæ¯ä¸ªæ‘˜å½•åï¼Œæ¨¡å‹éœ€è¦ç¡®å®šæ˜¯å¦åº”è¯¥å¼€å§‹ç¼–å†™å¦ä¸€ä¸ªæ‘˜å½•ï¼Œæˆ–è€…æ˜¯å¦åº”è¯¥åœæ­¢ã€‚å¦‚æœæºæ–‡æ¡£å¾ˆå¤§ï¼Œæ¨¡å‹é€šå¸¸ä¼šè¿‡æ—©åœæ­¢å¹¶ä¸”æ— æ³•åˆ—å‡ºæ‰€æœ‰ç›¸å…³çš„æ‘˜å½•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡æç¤ºæ¨¡å‹è¿›è¡Œåç»­æŸ¥è¯¢æ¥æŸ¥æ‰¾å®ƒåœ¨ä»¥å‰çš„ä¼ é€’ä¸­é—æ¼çš„ä»»ä½•æ‘˜å½•ï¼Œä»è€Œè·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚ç­–ç•¥ï¼šä½¿ç”¨å¤–éƒ¨å·¥å…·ç­–ç•¥ï¼šä½¿ç”¨åŸºäºåµŒå…¥çš„æœç´¢å®ç°é«˜æ•ˆçš„çŸ¥è¯†æ£€ç´¢å¦‚æœæ¨¡å‹ä½œä¸ºå…¶è¾“å…¥çš„ä¸€éƒ¨åˆ†æä¾›ï¼Œåˆ™å¯ä»¥åˆ©ç”¨å¤–éƒ¨ä¿¡æ¯æºã€‚è¿™å¯ä»¥å¸®åŠ©æ¨¡å‹ç”Ÿæˆæ›´æ˜æ™ºå’Œæœ€æ–°çš„å“åº”ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·è¯¢é—®æœ‰å…³ç‰¹å®šç”µå½±çš„é—®é¢˜ï¼Œåˆ™å°†æœ‰å…³ç”µå½±çš„é«˜è´¨é‡ä¿¡æ¯ï¼ˆä¾‹å¦‚æ¼”å‘˜ã€å¯¼æ¼”ç­‰ï¼‰æ·»åŠ åˆ°æ¨¡å‹çš„è¾“å…¥ä¸­å¯èƒ½å¾ˆæœ‰ç”¨ã€‚åµŒå…¥å¯ç”¨äºå®ç°é«˜æ•ˆçš„çŸ¥è¯†æ£€ç´¢ï¼Œä»è€Œå¯ä»¥åœ¨è¿è¡Œæ—¶å°†ç›¸å…³ä¿¡æ¯åŠ¨æ€æ·»åŠ åˆ°æ¨¡å‹è¾“å…¥ä¸­ã€‚æ–‡æœ¬åµŒå…¥æ˜¯ä¸€ç§å‘é‡ï¼Œå¯ä»¥æµ‹é‡æ–‡æœ¬å­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸å…³æ€§ã€‚ç›¸ä¼¼æˆ–ç›¸å…³çš„å­—ç¬¦ä¸²å°†æ¯”ä¸ç›¸å…³çš„å­—ç¬¦ä¸²æ›´ç´§å¯†åœ°è”ç³»åœ¨ä¸€èµ·ã€‚è¿™ä¸€äº‹å®ï¼ŒåŠ ä¸Šå¿«é€Ÿå‘é‡æœç´¢ç®—æ³•çš„å­˜åœ¨ï¼Œæ„å‘³ç€åµŒå…¥å¯ç”¨äºå®ç°æœ‰æ•ˆçš„çŸ¥è¯†æ£€ç´¢ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ–‡æœ¬è¯­æ–™åº“å¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ªå—ï¼Œæ¯ä¸ªå—éƒ½å¯ä»¥åµŒå…¥å’Œå­˜å‚¨ã€‚ç„¶åï¼Œå¯ä»¥åµŒå…¥ç»™å®šçš„æŸ¥è¯¢ï¼Œå¹¶æ‰§è¡Œå‘é‡æœç´¢ï¼Œä»¥ä»è¯­æ–™åº“ä¸­æŸ¥æ‰¾ä¸æŸ¥è¯¢æœ€ç›¸å…³çš„åµŒå…¥æ–‡æœ¬å—ï¼ˆå³åœ¨åµŒå…¥ç©ºé—´ä¸­æœ€æ¥è¿‘çš„æ–‡æœ¬å—ï¼‰ã€‚ç¤ºä¾‹å®ç°å¯ä»¥åœ¨ OpenAI Cookbook ä¸­æ‰¾åˆ°ã€‚æœ‰å…³å¦‚ä½•ä½¿ç”¨çŸ¥è¯†æ£€ç´¢æ¥æœ€å¤§ç¨‹åº¦åœ°é™ä½æ¨¡å‹ç¼–é€ é”™è¯¯äº‹å®çš„å¯èƒ½æ€§çš„ç¤ºä¾‹ï¼Œè¯·å‚é˜…ç­–ç•¥â€œæŒ‡ç¤ºæ¨¡å‹ä½¿ç”¨æ£€ç´¢åˆ°çš„çŸ¥è¯†æ¥å›ç­”æŸ¥è¯¢â€ã€‚ç­–ç•¥ï¼šä½¿ç”¨ä»£ç æ‰§è¡Œæ¥æ‰§è¡Œæ›´å‡†ç¡®çš„è®¡ç®—æˆ–è°ƒç”¨å¤–éƒ¨ APIä¸èƒ½ä¾èµ–è¯­è¨€æ¨¡å‹è‡ªè¡Œå‡†ç¡®åœ°æ‰§è¡Œç®—æœ¯æˆ–é•¿è®¡ç®—ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥æŒ‡ç¤ºæ¨¡å‹ç¼–å†™å’Œè¿è¡Œä»£ç ï¼Œè€Œä¸æ˜¯è¿›è¡Œè‡ªå·±çš„è®¡ç®—ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¯ä»¥æŒ‡ç¤ºæ¨¡å‹å°†è¦è¿è¡Œçš„ä»£ç æ”¾å…¥æŒ‡å®šæ ¼å¼ï¼Œä¾‹å¦‚ä¸‰é‡åå¼•å·ã€‚ç”Ÿæˆè¾“å‡ºåï¼Œå¯ä»¥æå–å¹¶è¿è¡Œä»£ç ã€‚æœ€åï¼Œå¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥å°†ä»£ç æ‰§è¡Œå¼•æ“ï¼ˆå³ Python è§£é‡Šå™¨ï¼‰çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªæŸ¥è¯¢çš„æ¨¡å‹è¾“å…¥ã€‚ Â  Â  ç³»ç»Ÿ æ‚¨å¯ä»¥é€šè¿‡å°† Python ä»£ç æ‹¬åœ¨ä¸‰ä¸ªåå¼•å·ä¸­æ¥ç¼–å†™å’Œæ‰§è¡Œ Python ä»£ç ï¼Œä¾‹å¦‚ â€˜'â€™code goes hereâ€™â€™â€˜ã€‚ä½¿ç”¨å®ƒæ¥æ‰§è¡Œè®¡ç®—ã€‚ ç”¨æˆ· æ±‚å‡ºä»¥ä¸‹å¤šé¡¹å¼çš„æ‰€æœ‰å®å€¼æ ¹ï¼š3x5 - 5*x4 - 3x*3 - 7x - 10ã€‚ ä»£ç æ‰§è¡Œçš„å¦ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹æ˜¯è°ƒç”¨å¤–éƒ¨ APIã€‚å¦‚æœæ¨¡å‹è¢«æŒ‡ç¤ºæ­£ç¡®ä½¿ç”¨ APIï¼Œå®ƒå¯ä»¥ç¼–å†™ä½¿ç”¨å®ƒçš„ä»£ç ã€‚é€šè¿‡å‘æ¨¡å‹æä¾›æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ API çš„æ–‡æ¡£å’Œ/æˆ–ä»£ç ç¤ºä¾‹ï¼Œå¯ä»¥æŒ‡å¯¼æ¨¡å‹å¦‚ä½•ä½¿ç”¨ APIã€‚ Â  Â  ç³»ç»Ÿ æ‚¨å¯ä»¥é€šè¿‡å°† Python ä»£ç æ‹¬åœ¨ä¸‰é‡åå¼•å·ä¸­æ¥ç¼–å†™å’Œæ‰§è¡Œ Python ä»£ç ã€‚å¦è¯·æ³¨æ„ï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹æ¨¡å—æ¥å¸®åŠ©ç”¨æˆ·å‘å…¶æœ‹å‹å‘é€æ¶ˆæ¯ï¼š&lt;/br&gt;&lt;/br&gt;â€™'â€™python&lt;/br&gt;import message&lt;/br&gt;message.writeï¼ˆto=â€œJohnâ€ï¼Œ message=â€œå˜¿ï¼Œä¸‹ç­åæƒ³è§é¢å—ï¼Ÿâ€™â€™â€™ ** è­¦å‘Šï¼šæ‰§è¡Œæ¨¡å‹ç”Ÿæˆçš„ä»£ç æœ¬èº«å¹¶ä¸å®‰å…¨ï¼Œä»»ä½•è¯•å›¾æ‰§è¡Œæ­¤æ“ä½œçš„åº”ç”¨ç¨‹åºéƒ½åº”é‡‡å–é¢„é˜²æªæ–½ã€‚ç‰¹åˆ«æ˜¯ï¼Œéœ€è¦ä¸€ä¸ªæ²™ç›’ä»£ç æ‰§è¡Œç¯å¢ƒæ¥é™åˆ¶ä¸å—ä¿¡ä»»çš„ä»£ç å¯èƒ½é€ æˆçš„å±å®³ã€‚ **ç­–ç•¥ï¼šæˆäºˆæ¨¡å‹å¯¹ç‰¹å®šå‡½æ•°çš„è®¿é—®æƒé™èŠå¤©å®Œæˆ API å…è®¸åœ¨è¯·æ±‚ä¸­ä¼ é€’å‡½æ•°æè¿°åˆ—è¡¨ã€‚è¿™ä½¿æ¨¡å‹èƒ½å¤Ÿæ ¹æ®æä¾›çš„æ¶æ„ç”Ÿæˆå‡½æ•°å‚æ•°ã€‚ç”Ÿæˆçš„å‡½æ•°å‚æ•°ç”± API ä»¥ JSON æ ¼å¼è¿”å›ï¼Œå¯ç”¨äºæ‰§è¡Œå‡½æ•°è°ƒç”¨ã€‚ç„¶åï¼Œå¯ä»¥åœ¨ä»¥ä¸‹è¯·æ±‚ä¸­å°†å‡½æ•°è°ƒç”¨æä¾›çš„è¾“å‡ºåé¦ˆåˆ°æ¨¡å‹ä¸­ä»¥å…³é—­å¾ªç¯ã€‚è¿™æ˜¯ä½¿ç”¨ OpenAI æ¨¡å‹è°ƒç”¨å¤–éƒ¨å‡½æ•°çš„æ¨èæ–¹å¼ã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘ä»¬ä»‹ç»æ€§æ–‡æœ¬ç”ŸæˆæŒ‡å—ä¸­çš„å‡½æ•°è°ƒç”¨éƒ¨åˆ†ï¼Œä»¥åŠ OpenAI Cookbook ä¸­çš„æ›´å¤šå‡½æ•°è°ƒç”¨ç¤ºä¾‹ã€‚ç­–ç•¥ï¼šç³»ç»Ÿåœ°æµ‹è¯•æ›´æ”¹æœ‰æ—¶å¾ˆéš¾åˆ¤æ–­æ›´æ”¹ï¼ˆä¾‹å¦‚ï¼Œæ–°æŒ‡ä»¤æˆ–æ–°è®¾è®¡ï¼‰æ˜¯ä½¿æ‚¨çš„ç³»ç»Ÿå˜å¾—æ›´å¥½è¿˜æ˜¯æ›´ç³Ÿã€‚çœ‹å‡ ä¸ªä¾‹å­å¯èƒ½ä¼šæš—ç¤ºå“ªä¸ªæ›´å¥½ï¼Œä½†æ˜¯åœ¨æ ·æœ¬é‡è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œå¾ˆéš¾åŒºåˆ†çœŸæ­£çš„æ”¹è¿›è¿˜æ˜¯éšæœºçš„è¿æ°”ã€‚ä¹Ÿè®¸è¿™ç§å˜åŒ–æœ‰åŠ©äºæŸäº›è¾“å…¥çš„æ€§èƒ½ï¼Œä½†ä¼šæŸå®³å…¶ä»–è¾“å…¥çš„æ€§èƒ½ã€‚è¯„ä¼°ç¨‹åºï¼ˆæˆ–â€œè¯„ä¼°â€ï¼‰å¯¹äºä¼˜åŒ–ç³»ç»Ÿè®¾è®¡éå¸¸æœ‰ç”¨ã€‚å¥½çš„è¯„ä¼°æ˜¯ï¼š ä»£è¡¨ç°å®ä¸–ç•Œçš„ç”¨æ³•ï¼ˆæˆ–è‡³å°‘æ˜¯å¤šæ ·åŒ–çš„ï¼‰ åŒ…å«è®¸å¤šæµ‹è¯•ç”¨ä¾‹ä»¥è·å¾—æ›´é«˜çš„ç»Ÿè®¡èƒ½åŠ›ï¼ˆè¯·å‚é˜…ä¸‹è¡¨ä»¥è·å–æŒ‡å—ï¼‰ æ˜“äºè‡ªåŠ¨åŒ–æˆ–é‡å¤è¾“å‡ºçš„è¯„ä¼°å¯ä»¥ç”±è®¡ç®—æœºã€äººç±»æˆ–æ··åˆå®Œæˆã€‚è®¡ç®—æœºå¯ä»¥ä½¿ç”¨å®¢è§‚æ ‡å‡†ï¼ˆä¾‹å¦‚ï¼Œå…·æœ‰å•ä¸ªæ­£ç¡®ç­”æ¡ˆçš„é—®é¢˜ï¼‰ä»¥åŠä¸€äº›ä¸»è§‚æˆ–æ¨¡ç³Šæ ‡å‡†è‡ªåŠ¨æ‰§è¡Œè¯„ä¼°ï¼Œå…¶ä¸­æ¨¡å‹è¾“å‡ºç”±å…¶ä»–æ¨¡å‹æŸ¥è¯¢è¯„ä¼°ã€‚OpenAI Evalsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶æ¡†æ¶ï¼Œæä¾›ç”¨äºåˆ›å»ºè‡ªåŠ¨è¯„ä¼°çš„å·¥å…·ã€‚å½“å­˜åœ¨ä¸€ç³»åˆ—è¢«è®¤ä¸ºè´¨é‡åŒæ ·é«˜çš„å¯èƒ½è¾“å‡ºæ—¶ï¼ŒåŸºäºæ¨¡å‹çš„è¯„ä¼°å¯èƒ½å¾ˆæœ‰ç”¨ï¼ˆä¾‹å¦‚ï¼Œå¯¹äºç­”æ¡ˆå¾ˆé•¿çš„é—®é¢˜ï¼‰ã€‚ä½¿ç”¨åŸºäºæ¨¡å‹çš„è¯„ä¼°å¯ä»¥å®é™…è¯„ä¼°çš„å†…å®¹ä¸éœ€è¦äººå·¥è¯„ä¼°çš„å†…å®¹ä¹‹é—´çš„ç•Œé™æ˜¯æ¨¡ç³Šçš„ï¼Œå¹¶ä¸”éšç€æ¨¡å‹åŠŸèƒ½çš„å¢å¼ºè€Œä¸æ–­å˜åŒ–ã€‚æˆ‘ä»¬é¼“åŠ±è¿›è¡Œå®éªŒï¼Œä»¥ç¡®å®šåŸºäºæ¨¡å‹çš„è¯„ä¼°å¯¹æ‚¨çš„ç”¨ä¾‹çš„æ•ˆæœå¦‚ä½•ã€‚ç­–ç•¥ï¼šå‚è€ƒé»„é‡‘æ ‡å‡†ç­”æ¡ˆè¯„ä¼°æ¨¡å‹è¾“å‡ºå‡è®¾å·²çŸ¥é—®é¢˜çš„æ­£ç¡®ç­”æ¡ˆåº”å‚è€ƒä¸€ç»„ç‰¹å®šçš„å·²çŸ¥äº‹å®ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å‹æŸ¥è¯¢æ¥è®¡ç®—ç­”æ¡ˆä¸­åŒ…å«å¤šå°‘å¿…éœ€çš„äº‹å®ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä»¥ä¸‹ç³»ç»Ÿæ¶ˆæ¯ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹è¾“å…¥ï¼Œå…¶ä¸­ä¸¤ä¸ªç‚¹éƒ½å¾—åˆ°æ»¡è¶³ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹è¾“å…¥ï¼Œå…¶ä¸­ä»…æ»¡è¶³ä¸€ä¸ªç‚¹ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹è¾“å…¥ï¼Œä¸€ä¸ªéƒ½ä¸æ»¡è¶³ï¼šè¿™ç§ç±»å‹çš„åŸºäºæ¨¡å‹çš„è¯„ä¼°æœ‰è®¸å¤šå¯èƒ½çš„å˜ä½“ã€‚è€ƒè™‘ä»¥ä¸‹å˜ä½“ï¼Œè¯¥å˜ä½“è·Ÿè¸ªå€™é€‰ç­”æ¡ˆå’Œé»„é‡‘æ ‡å‡†ç­”æ¡ˆä¹‹é—´çš„é‡å ç±»å‹ï¼Œå¹¶è·Ÿè¸ªå€™é€‰ç­”æ¡ˆæ˜¯å¦ä¸é»„é‡‘æ ‡å‡†ç­”æ¡ˆçš„ä»»ä½•éƒ¨åˆ†ç›¸çŸ›ç›¾ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå¸¦æœ‰ä¸åˆæ ¼ç­”æ¡ˆçš„ç¤ºä¾‹è¾“å…¥ï¼Œä½†ä¸ä¸“å®¶ç­”æ¡ˆå¹¶ä¸çŸ›ç›¾ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªå¸¦æœ‰ç­”æ¡ˆçš„ç¤ºä¾‹è¾“å…¥ï¼Œè¯¥ç­”æ¡ˆä¸ä¸“å®¶ç­”æ¡ˆç›´æ¥çŸ›ç›¾ï¼šä¸‹é¢æ˜¯ä¸€ä¸ªå¸¦æœ‰æ­£ç¡®ç­”æ¡ˆçš„ç¤ºä¾‹è¾“å…¥ï¼Œè¯¥è¾“å…¥è¿˜æä¾›äº†æ¯”å¿…è¦å†…å®¹æ›´å¤šçš„è¯¦ç»†ä¿¡æ¯ï¼šå‚è€ƒèµ„æ–™https://platform.openai.com/docs/guides/prompt-engineering" }, { "title": "FreeIPAç”¨æˆ·ç”Ÿå‘½å‘¨æœŸ", "url": "/posts/ipa-user-life-cycle/", "categories": "icenv", "tags": "ipa", "date": "2023-12-17 14:00:00 +0000", "snippet": "å›¾ç‰‡æ¥æºï¼šUser Life Cycle Operationsåœ¨ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†æ“ä½œä¸­ï¼Œä¸ºäº†ç®¡ç†ç”¨æˆ·çš„é…ç½®ï¼Œç®¡ç†å‘˜å¯ä»¥å°†ç”¨æˆ·è´¦æˆ·ä»ä¸€ä¸ªçŠ¶æ€ç§»åŠ¨åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚æ–°çš„ç”¨æˆ·è´¦æˆ·å¯ä»¥ä½œä¸º active æˆ– stage æ·»åŠ ï¼Œä½†ä¸èƒ½ä½œä¸º preserved æ·»åŠ ã€‚FreeIPA æ”¯æŒä»¥ä¸‹ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†æ“ä½œï¼š stage â†’ active: å½“å¤„äº stage çŠ¶æ€çš„è´¦æˆ·å‡†å¤‡å¥½è¢«æ­£å¼æ¿€æ´»æ—¶ï¼Œç®¡ç†å‘˜å°†å…¶...", "content": "å›¾ç‰‡æ¥æºï¼šUser Life Cycle Operationsåœ¨ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†æ“ä½œä¸­ï¼Œä¸ºäº†ç®¡ç†ç”¨æˆ·çš„é…ç½®ï¼Œç®¡ç†å‘˜å¯ä»¥å°†ç”¨æˆ·è´¦æˆ·ä»ä¸€ä¸ªçŠ¶æ€ç§»åŠ¨åˆ°å¦ä¸€ä¸ªçŠ¶æ€ã€‚æ–°çš„ç”¨æˆ·è´¦æˆ·å¯ä»¥ä½œä¸º active æˆ– stage æ·»åŠ ï¼Œä½†ä¸èƒ½ä½œä¸º preserved æ·»åŠ ã€‚FreeIPA æ”¯æŒä»¥ä¸‹ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†æ“ä½œï¼š stage â†’ active: å½“å¤„äº stage çŠ¶æ€çš„è´¦æˆ·å‡†å¤‡å¥½è¢«æ­£å¼æ¿€æ´»æ—¶ï¼Œç®¡ç†å‘˜å°†å…¶ç§»åŠ¨åˆ° active çŠ¶æ€ã€‚ active â†’ preserved: å‘˜å·¥ç¦»å¼€å…¬å¸åï¼Œç®¡ç†å‘˜å°†å…¶è´¦æˆ·ç§»åŠ¨åˆ° preserved çŠ¶æ€ã€‚ preserved â†’ active: å‰å‘˜å·¥é‡æ–°åŠ å…¥å…¬å¸ã€‚ç®¡ç†å‘˜é€šè¿‡å°†å…¶è´¦æˆ·ä» preserved çŠ¶æ€ç§»å› active çŠ¶æ€æ¥æ¢å¤å‘˜å·¥è´¦æˆ·ã€‚ preserved â†’ stage: å‰å‘˜å·¥è®¡åˆ’é‡æ–°åŠ å…¥å…¬å¸ã€‚ç®¡ç†å‘˜å°†å…¶è´¦æˆ·ä» preserved çŠ¶æ€ç§»åŠ¨åˆ° stage çŠ¶æ€ï¼Œä»¥å‡†å¤‡è´¦æˆ·çš„åç»­é‡æ–°æ¿€æ´»ã€‚è¿˜å¯ä»¥ä» FreeIPA ä¸­æ°¸ä¹…åˆ é™¤ activeã€stage å’Œ preserved ç”¨æˆ·ã€‚è¯·æ³¨æ„ï¼Œä¸èƒ½å°† stage ç”¨æˆ·ç§»åŠ¨åˆ° preserved çŠ¶æ€ï¼Œåªèƒ½æ°¸ä¹…åˆ é™¤å®ƒä»¬ã€‚" }, { "title": "FreeIPAè¿è¡Œäºå®¹å™¨", "url": "/posts/deploy-freeipa-with-docker/", "categories": "icenv", "tags": "ipa", "date": "2023-12-17 02:00:00 +0000", "snippet": "FreeIPA Serveråœ¨almalinux-8å®¹å™¨çš„åˆå§‹åŒ–ä¸è¿è¡Œ1ï¼‰åˆå§‹åŒ–å®‰è£… ç”Ÿæˆæ•°æ®æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾åœ¨/data/ipa-dataç›®å½• ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ mkdir -p /data/ipa-datapodman run \\--rm \\--shm-size=2GB \\--name ipa-01.icinfra.cn \\--net host \\-ti \\-h ipa-01.i...", "content": "FreeIPA Serveråœ¨almalinux-8å®¹å™¨çš„åˆå§‹åŒ–ä¸è¿è¡Œ1ï¼‰åˆå§‹åŒ–å®‰è£… ç”Ÿæˆæ•°æ®æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾åœ¨/data/ipa-dataç›®å½• ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ mkdir -p /data/ipa-datapodman run \\--rm \\--shm-size=2GB \\--name ipa-01.icinfra.cn \\--net host \\-ti \\-h ipa-01.icinfra.cn \\--read-only \\-e PASSWORD=Secret123 \\-v /data/ipa-data:/data:Z \\--dns=127.0.0.1 \\-e TZ=Asia/Shanghai \\-v /etc/localtime:/etc/localtime:ro \\--add-host=ipa-01.icinfra.cn:172.16.0.13 \\docker.io/freeipa/freeipa-server:almalinux-8 \\--allow-zone-overlap \\--no-ntp å…¶ä¸­ï¼Œpodmançš„é€‰é¡¹ä¸å‚æ•°ï¼Œ /data/ipa-dataç”¨äºå­˜æ”¾äºipaç›¸å…³çš„é…ç½®æ–‡ä»¶ä¸æ•°æ®ã€‚ --rmä½¿å¾—å®¹å™¨åœæ­¢å°±åˆ é™¤ã€‚ç”±äºé…ç½®æ–‡ä»¶ä¸æ•°æ®éƒ½æŒä¹…åŒ–åˆ°äº†/data/ipa-dataï¼Œå› æ­¤å®¹å™¨æ˜¯æ— çŠ¶æ€å®¹å™¨ï¼Œå¯ä»¥éšæ—¶åˆ é™¤å¹¶é‡æ–°è¿è¡Œä¸€ä¸ªã€‚ --shm-size=2GBå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤åˆ†é…64MBå…±äº«å†…å­˜ã€‚ --name ipa-01.icinfra.cnç”¨äºæŒ‡å®šå®¹å™¨åç§°ã€‚ --net hostä½¿ç”¨å®¿ä¸»æœºçš„ç½‘ç»œã€‚ tiåˆ†é…ttyï¼Œä»¥åŠäº¤äº’å¼ã€‚ -h ipa-01.icinfra.cnå®¹å™¨å†…çš„ä¸»æœºåã€‚ --read-onlyä½¿æ ¹æ–‡ä»¶ç³»ç»Ÿåªè¯»ã€‚çŠ¶æ€å…¨éƒ¨æŒä¹…åŒ–åˆ°/data/ipa-dataã€‚ -e PASSWROD=Secret123ä¼ å…¥PASSWORDç¯å¢ƒå˜é‡ã€‚ -v /data/ipa-data:/data:Zå°†å·ç»‘å®šæŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚ --dns=127.0.0.1ä¿®æ”¹/etc/resolv.confæ–‡ä»¶å†…å®¹ --add-host=ipa-01.icinfra.cn:172.16.0.13/etc/hostså¢åŠ ä¸€è¡Œipa-server-installçš„é€‰é¡¹ä¸å‚æ•°ï¼Œ --allow-zone-overlap --no-ntpä¿®æ”¹DNS Serveré…ç½®å¹¶é‡å¯ï¼Œä½¿å¾—å…è®¸å…¨éƒ¨æŸ¥è¯¢ã€‚[root@ipa-01 /]# cat /etc/named/ipa-options-ext.conf/* User customization for BIND named * * This file is included in /etc/named.conf and is not modified during IPA * upgrades. * * It must only contain \"options\" settings. Any other setting must be * configured in /data/etc/named/ipa-ext.conf. * * Examples: * allow-recursion { trusted_network; }; * allow-query-cache { trusted_network; }; *//* turns on IPv6 for port 53, IPv4 is on by default for all ifaces */listen-on-v6 { any; };/* dnssec-enable is obsolete and 'yes' by default */dnssec-validation no;allow-query { any; };[root@ipa-01 /]# systemctl status | grep name â”œâ”€948 grep --color=auto name â”œâ”€named-pkcs11.service â”‚ â””â”€286 /usr/sbin/named-pkcs11 -u named -c /etc/named.conf[root@ipa-01 /]# systemctl restart named-pkcs112) åœ¨åå°è¿è¡Œå»æ‰äº¤äº’å¼ï¼Œå¢åŠ -dpodman stop `podman ps -q` #åœæ­¢åˆšæ‰äº¤äº’å¼è¿è¡Œçš„å®¹å™¨ã€‚podman run \\--rm \\--shm-size=2GB \\--name ipa-01.icinfra.cn \\--net host \\-d \\-h ipa-01.icinfra.cn \\--read-only \\-e PASSWORD=Secret123 \\-v /data/ipa-data:/data:Z \\--dns=127.0.0.1 \\-e TZ=Asia/Shanghai \\-v /etc/localtime:/etc/localtime:ro \\--add-host=ipa-01.icinfra.cn:172.16.0.13 \\docker.io/freeipa/freeipa-server:almalinux-8 \\--allow-zone-overlap \\--no-ntpå¢åŠ DNS Forwarderï¼ŒFreeIPA Clientåœ¨almalinux-8å®‰è£…ä¸ä½¿ç”¨[root@Copy-of-VM-AlmaLinux8-tmpl-cloudinit-gui-5 ~]# cat /etc/resolv.conf; Created by cloud-init on instance boot automatically, do not edit.;# Generated by NetworkManagersearch lan icinfra.cnnameserver 172.16.0.13[root@Copy-of-VM-AlmaLinux8-tmpl-cloudinit-gui-5 ~]# ipa-client-install --hostname=ipa-client-001.icinfra.cn --server=ipa-01.icinfra.cn --domain=icinfra.cn --realm=ICINFRA.CN --principal=admin --password=Secret123 --unattendedThis program will set up IPA client.Version 4.9.12Client hostname: ipa-client-001.icinfra.cnRealm: ICINFRA.CNDNS Domain: icinfra.cnIPA Server: ipa-01.icinfra.cnBaseDN: dc=icinfra,dc=cnSynchronizing timeNo SRV records of NTP servers found and no NTP server or pool address was provided.Using default chrony configuration.Attempting to sync time with chronyc.Time synchronization was successful.Successfully retrieved CA cert Subject: CN=Certificate Authority,O=ICINFRA.CN Issuer: CN=Certificate Authority,O=ICINFRA.CN Valid From: 2023-12-17 03:55:11 Valid Until: 2043-12-17 03:55:11Enrolled in IPA realm ICINFRA.CNCreated /etc/ipa/default.confConfigured /etc/sssd/sssd.confSystemwide CA database updated.Hostname (ipa-client-001.icinfra.cn) does not have A/AAAA record.Missing reverse record(s) for address(es): 172.16.0.78.Adding SSH public key from /etc/ssh/ssh_host_rsa_key.pubAdding SSH public key from /etc/ssh/ssh_host_ecdsa_key.pubAdding SSH public key from /etc/ssh/ssh_host_ed25519_key.pubSSSD enabledConfigured /etc/openldap/ldap.confConfigured /etc/ssh/ssh_configConfigured /etc/ssh/sshd_configConfiguring icinfra.cn as NIS domain.Configured /etc/krb5.conf for IPA realm ICINFRA.CNClient configuration complete.The ipa-client-install command was successful[root@Copy-of-VM-AlmaLinux8-tmpl-cloudinit-gui-5 ~]# id adminuid=196400000(admin) gid=196400000(admins) groups=196400000(admins)å‚è€ƒèµ„æ–™https://quay.io/repository/freeipa/freeipa-server?tab=infohttps://github.com/freeipa/freeipa-container" }, { "title": "è°·æ­ŒèŠ¯ç‰‡è®¾è®¡å›¢é˜Ÿå¦‚ä½•åˆ©ç”¨GCPï¼Ÿ", "url": "/posts/how-does-google-chip-design-team-utilize-cloud/", "categories": "icenv", "tags": "chip", "date": "2023-12-10 02:00:00 +0000", "snippet": "å‚è€ƒèµ„æ–™March 29, 2023 Google chip design team benefits from move to Google CloudMay 28, 2021 Never miss a tapeout: Faster chip design with Google CloudDecember 23, 2020 Scale your EDA flows: How Googl...", "content": "å‚è€ƒèµ„æ–™March 29, 2023 Google chip design team benefits from move to Google CloudMay 28, 2021 Never miss a tapeout: Faster chip design with Google CloudDecember 23, 2020 Scale your EDA flows: How Google Cloud enables faster verificationJanuary 20, 2022 https://cloud.google.com/blog/products/operations/write-and-deploy-cloud-monitoring-alert-notifications-to-third-party-services" }, { "title": "Cadence COSLITE Product", "url": "/posts/what-is-coslite/", "categories": "icenv", "tags": "eda", "date": "2023-12-05 02:00:00 +0000", "snippet": "COSLITEæ˜¯ä»€ä¹ˆåœ¨éªŒæ”¶Licenseæ—¶ï¼Œçœ‹åˆ°å¤šå‡ºæ¥ä¸€ä¸ªCOSLITE Productã€‚ä»https://e2e.ti.com/support/tools/simulation-hardware-system-design-tools-group/sim-hw-system-design/f/simulation-hardware-system-design-tools-forum/952...", "content": "COSLITEæ˜¯ä»€ä¹ˆåœ¨éªŒæ”¶Licenseæ—¶ï¼Œçœ‹åˆ°å¤šå‡ºæ¥ä¸€ä¸ªCOSLITE Productã€‚ä»https://e2e.ti.com/support/tools/simulation-hardware-system-design-tools-group/sim-hw-system-design/f/simulation-hardware-system-design-tools-forum/952521/pspice-for-ti-warning-lmc-07708-unable-to-validate-licenses æŸ¥çœ‹åˆ°ï¼Œ######################################################################### COSLITE INFORMATION########################################################################## PLEASE NOTE: Your license file may contain COSLITE product depending on# your entitlement. This license will allow some digital tools to access# support.cadence.com content (via CadenceHelp) without requiring login.# This is a zero cost license and will be active as long as the primary tool# license is active. More information is available at# https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009Mns6UAC# For any further questions, please use the feedback option in the# https://support.cadence.com site and someone from the product team will get# back to you.å®ƒæ˜¯å…è®¸ä¸€äº›æ•°å­—å·¥å…·ä¸ç»ç™»å½•å°±å¯è®¿é—®CadenceHelpçš„ä¸€ä¸ªProductã€‚" }, { "title": "How To Enable Newly Added Group On Existing Linux Desktop", "url": "/posts/how-to-enable-newly-added-group-on-existing-linux-desktop/", "categories": "icenv", "tags": "group", "date": "2023-11-30 03:00:00 +0000", "snippet": "åœºæ™¯è¯´æ˜ä»¤èŠ¯ç‰‡è®¾è®¡ç¯å¢ƒçš„ç ”å‘äººå‘˜ç»å¸¸å¤´ç–¼çš„ä¸€ä»¶äº‹ï¼Œç»´æŠ¤å®Œç¾¤ç»„åï¼Œæ— æ³•åœ¨Linuxæ¡Œé¢ç”Ÿæ•ˆã€‚æ”¯æŒäººå‘˜é¢‘ç¹æ¥åˆ°è¿™æ ·çš„caseï¼Œåªèƒ½å»ºè®®taï¼š run â€˜newgrp newly-added-group-nameâ€™, or logout the vnc and login again.åœ¨éµå¾ªLinuxæ¡Œé¢è®¾è®¡èŒƒå¼çš„å‰æä¸‹ï¼Œæœ¬æ–‡æˆ‘ä»¬å°½é‡åšåˆ°è®©ç”¨æˆ·æ— æ„Ÿåœ°è®©æ–°åŠ ç¾¤ç»„ç”Ÿæ•ˆã€‚ç¯å¢ƒè¯´æ˜CentOS 6.1...", "content": "åœºæ™¯è¯´æ˜ä»¤èŠ¯ç‰‡è®¾è®¡ç¯å¢ƒçš„ç ”å‘äººå‘˜ç»å¸¸å¤´ç–¼çš„ä¸€ä»¶äº‹ï¼Œç»´æŠ¤å®Œç¾¤ç»„åï¼Œæ— æ³•åœ¨Linuxæ¡Œé¢ç”Ÿæ•ˆã€‚æ”¯æŒäººå‘˜é¢‘ç¹æ¥åˆ°è¿™æ ·çš„caseï¼Œåªèƒ½å»ºè®®taï¼š run â€˜newgrp newly-added-group-nameâ€™, or logout the vnc and login again.åœ¨éµå¾ªLinuxæ¡Œé¢è®¾è®¡èŒƒå¼çš„å‰æä¸‹ï¼Œæœ¬æ–‡æˆ‘ä»¬å°½é‡åšåˆ°è®©ç”¨æˆ·æ— æ„Ÿåœ°è®©æ–°åŠ ç¾¤ç»„ç”Ÿæ•ˆã€‚ç¯å¢ƒè¯´æ˜CentOS 6.10, Gnome, Krusaderæ•ˆæœæ¼”ç¤ºå®šåˆ¶å®Œæ¯•åï¼Œ æ–°å¼€terminalï¼Œæ–°ç¾¤ç»„å°±ç”Ÿæ•ˆäº†ã€‚æ— éœ€ç”¨æˆ·åšä»»ä½•æ“ä½œã€‚ åœ¨æ–°å¼€terminalé‡Œæ‰“å¼€krusaderï¼Œå¯ä»¥æµè§ˆä¸ç¼–è¾‘æ–‡ä»¶ã€‚ä»£ç ç¤ºä¾‹æ–°terminalç”Ÿæ•ˆæ–°ç¾¤ç»„ç”¨æˆ·åªéœ€è¦è¿è¡Œä¸€æ¬¡æœ¬è„šæœ¬å³å¯ã€‚ä¹Ÿå¯ä»¥ç®¡ç†å‘˜å°†~/.flush_groups.[c]shæ–‡ä»¶æ”¾è‡³NFSï¼Œç”¨æˆ·å®¶ç›®å½•.[c|ba]shrcæ–‡ä»¶å»sourceå³å¯ã€‚#!/bin/bash# Author: wanlinwang# Date : Nov 30, 2023# Description: This script is to make newly added group(s) available in newly created gnome-terminal on CentOS 6.10. Run me once.################## Update .cshrc.CSHRC=~/.cshrcif [ ! -f \"$CSHRC\" ]; then touch \"$CSHRC\"fi# The line to add if it doesn't existLINE=\"source ~/.flush_groups.csh\"if ! grep -Fxq \"$LINE\" \"$CSHRC\"; then # If the line doesn't exist, add it to the file echo \"$LINE\" &gt;&gt; \"$CSHRC\"fi# Add ~/.flush_groups.cshcat &gt; ~/.flush_groups.csh &lt;&lt; 'EOF'#!/bin/csh# Writen by wanlinwang.# Date: Dec 1, 2023# Description: Dec 1, 2023ï¼šæ”¯æŒè‡ªåŠ¨å°†æ–°å¢ç¾¤ç»„åˆ·æ–°åˆ°æ–°terminalä¸­ï¼Œå¯¹ç ”å‘äººå‘˜é€æ˜ã€‚æå‡ç ”å‘äººå‘˜æ•ˆç‡ï¼Œé™ä½æ”¯æŒå·¥ä½œé‡ã€‚# Jan 24, 2024ï¼šå»æ‰ä¸´æ—¶æ–‡ä»¶çš„è¯»å†™ï¼Œä»¥å­shell(bash)æ¥æ›¿ä»£ï¼Œä»¥æå‡æ€§èƒ½ã€‚if ( ! $?new_grp_array) then # è·å–å½“å‰ç”¨æˆ·åœ¨å½“å‰sessionçš„ä¸»ç¾¤ç»„ä»¥åŠå…¨éƒ¨ç¾¤ç»„ setenv primary_group `id -gn` set current_groups=`sh -c 'id -Gn 2&gt; /dev/null' | tr ' ' '\\n' | sort` # è·å–å½“å‰ç”¨æˆ·æœ€æ–°çš„å…¨éƒ¨ç¾¤ç»„ set login_groups=`sh -c 'id -Gn $USER 2&gt; /dev/null' | tr ' ' '\\n' | sort` # ä½¿ç”¨commæ¯”è¾ƒä¸´æ—¶å˜é‡çš„å†…å®¹ setenv new_grp_array `bash --noprofile -c \"comm -13 &lt;(echo $current_groups) &lt;(echo $login_groups) | tr '\\n' ' '\"`endif# iterate new_grp_arrayif (\"$new_grp_array\" != \"\") then set new_group=`echo $new_grp_array | awk '{print $1}'` setenv new_grp_array `echo $new_grp_array | awk '{$1=\"\"; print $0}' | sed 's/^[ \\t]*//'` if (\"$new_group\" != \"\") then # åˆ‡æ¢ç¾¤ç»„ï¼Œä½¿å…¶ç”Ÿæ•ˆ exec newgrp $new_group endifelse set current_group=`id -gn` if ( $?primary_group ) then if ( \"$primary_group\" != \"$current_group\" ) then exec newgrp $primary_group endif endif unset current_group unsetenv primary_groupendifunsetenv new_grp_arrayEOF################## Update .bashrc.BASHRC=~/.bashrcif [ ! -f \"$BASHRC\" ]; then touch \"$BASHRC\"fi# The line to add if it doesn't existLINE=\"source ~/.flush_groups.sh\"if ! grep -Fxq \"$LINE\" \"$BASHRC\"; then # If the line doesn't exist, add it to the file echo \"$LINE\" &gt;&gt; \"$BASHRC\"fi# Add ~/.flush_groups.shcat &gt; ~/.flush_groups.sh &lt;&lt; 'EOF'# Written by wanlinwang.# Date: Dec 6, 2023# Description: Automates the process of refreshing newly added groups in new terminal sessions.# Check if new groups array existsif [ -z \"$new_grp_array\" ]; then # Retrieve the current user's primary group and all groups in the current session primary_group=$(id -gn) current_groups=$(id -Gn 2&gt;/dev/null| tr ' ' '\\n' | sort) # Get the current user's latest complete group list login_groups=$(id -Gn $USER 2&gt;/dev/null| tr ' ' '\\n' | sort) # Compare file contents using 'comm' export new_grp_array=$(comm -13 &lt;(echo $current_groups) &lt;(echo $login_groups) | tr '\\n' ' ')fi# Iterate over new_grp_arrayif [ ! -z \"$new_grp_array\" ]; then new_group=$(echo $new_grp_array | awk '{print $1}') new_grp_array=$(echo $new_grp_array | awk '{$1=\"\"; print $0}' | sed 's/^[ \\t]*//') if [ ! -z \"$new_group\" ]; then # Switch to the new group to activate it exec newgrp $new_group fielse current_group=$(id -gn) if [ -n \"$primary_group\" ]; then if [ \"$primary_group\" != \"$current_group\" ]; then exec newgrp $primary_group fi fi unset current_group unset primary_groupfiunset new_grp_arrayEOFkrusaderè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç»§æ‰¿å½“å‰shellç¾¤ç»„çš„æ–‡ä»¶æµè§ˆå™¨ã€‚éœ€è¦è”ç½‘ã€‚å¦‚æœç¦»çº¿ç¯å¢ƒåˆ™æ‰‹åŠ¨ä¸‹è½½å›æ¥å®‰è£…ã€‚# Install krusader, a file manager. If you want to use this tool, please contact your system administrator to install.sudo yum install epel-releasesudo yum localinstall http://rpms.plnet.rs/plnet-centos6-x86_64/RPMS.plnet-compiled/krusader-2.3.0-0.1.beta1.el6.x86_64.rpm" }, { "title": "slurmå®‰è£…", "url": "/posts/installing-slurm/", "categories": "icenv", "tags": "slurm", "date": "2023-11-29 03:00:00 +0000", "snippet": "æå‰å¹¶è¿è¡Œmunge[root@offline-almalinux8-193-computing slurm-23.11.0]# ./configure --prefix=/tools/OSS/Slurm/23.11.0 --with-munge[root@offline-almalinux8-193-computing slurm-23.11.0]# make &amp;&amp; mak...", "content": "æå‰å¹¶è¿è¡Œmunge[root@offline-almalinux8-193-computing slurm-23.11.0]# ./configure --prefix=/tools/OSS/Slurm/23.11.0 --with-munge[root@offline-almalinux8-193-computing slurm-23.11.0]# make &amp;&amp; make installé…ç½®åˆ°Slurm Configuration Toolå®šåˆ¶ï¼Œ# slurm.conf file generated by configurator.html.# Put this file on all nodes of your cluster.# See the slurm.conf man page for more information.#ClusterName=ic-design-cluster-001SlurmctldHost=offline-almalinux8-193-computing.icinfra.cnSlurmctldHost=offline-almalinux8-194-computing.icinfra.cn##DisableRootJobs=NO#EnforcePartLimits=NO#Epilog=#EpilogSlurmctld=#FirstJobId=1#MaxJobId=67043328#GresTypes=#GroupUpdateForce=0#GroupUpdateTime=600#JobFileAppend=0#JobRequeue=1#JobSubmitPlugins=lua#KillOnBadExit=0#LaunchType=launch/slurm#Licenses=foo*4,bar#MailProg=/bin/mail#MaxJobCount=10000#MaxStepCount=40000#MaxTasksPerNode=512#MpiDefault=#MpiParams=ports=#-##PluginDir=#PlugStackConfig=#PrivateData=jobsProctrackType=proctrack/cgroup#Prolog=#PrologFlags=#PrologSlurmctld=#PropagatePrioProcess=0#PropagateResourceLimits=#PropagateResourceLimitsExcept=#RebootProgram=ReturnToService=1SlurmctldPidFile=/var/run/slurmctld.pidSlurmctldPort=6817SlurmdPidFile=/var/run/slurmd.pidSlurmdPort=6818SlurmdSpoolDir=/var/spool/slurmdSlurmUser=slurm#SlurmdUser=root#SrunEpilog=#SrunProlog=StateSaveLocation=/var/spool/slurmctld#SwitchType=#TaskEpilog=TaskPlugin=task/affinity,task/cgroup#TaskProlog=#TopologyPlugin=topology/tree#TmpFS=/tmp#TrackWCKey=no#TreeWidth=#UnkillableStepProgram=#UsePAM=0### TIMERS#BatchStartTimeout=10#CompleteWait=0#EpilogMsgTime=2000#GetEnvTimeout=2#HealthCheckInterval=0#HealthCheckProgram=InactiveLimit=0KillWait=30#MessageTimeout=10#ResvOverRun=0MinJobAge=300#OverTimeLimit=0SlurmctldTimeout=120SlurmdTimeout=300#UnkillableStepTimeout=60#VSizeFactor=0Waittime=0### SCHEDULING#DefMemPerCPU=0#MaxMemPerCPU=0#SchedulerTimeSlice=30SchedulerType=sched/backfillSelectType=select/cons_tres### JOB PRIORITY#PriorityFlags=#PriorityType=priority/multifactor#PriorityDecayHalfLife=#PriorityCalcPeriod=#PriorityFavorSmall=#PriorityMaxAge=#PriorityUsageResetPeriod=#PriorityWeightAge=#PriorityWeightFairshare=#PriorityWeightJobSize=#PriorityWeightPartition=#PriorityWeightQOS=### LOGGING AND ACCOUNTING#AccountingStorageEnforce=0#AccountingStorageHost=#AccountingStoragePass=#AccountingStoragePort=#AccountingStorageType=#AccountingStorageUser=#AccountingStoreFlags=#JobCompHost=#JobCompLoc=#JobCompParams=#JobCompPass=#JobCompPort=JobCompType=jobcomp/none#JobCompUser=#JobContainerType=JobAcctGatherFrequency=30#JobAcctGatherType=SlurmctldDebug=infoSlurmctldLogFile=/var/log/slurmctld.logSlurmdDebug=infoSlurmdLogFile=/var/log/slurmd.log#SlurmSchedLogFile=#SlurmSchedLogLevel=#DebugFlags=### POWER SAVE SUPPORT FOR IDLE NODES (optional)#SuspendProgram=#ResumeProgram=#SuspendTimeout=#ResumeTimeout=#ResumeRate=#SuspendExcNodes=#SuspendExcParts=#SuspendRate=#SuspendTime=### COMPUTE NODESNodeName=offline-almalinux8-19[5-7]-computing.icinfra.cn State=UNKNOWNPartitionName=debug Nodes=ALL Default=YES MaxTime=INFINITE State=UPè¿è¡ŒControllerå‰å°è¿è¡Œï¼Œçœ‹æ˜¯å¦æœ‰æŠ¥é”™[cloud-user@offline-almalinux8-193-computing ~]$ sudo /tools/OSS/Slurm/23.11.0/sbin/slurmctld -Dslurmctld: fatal: mkdir(/var/spool/slurmctld): Permission deniedæç¤ºæ— æƒé™ï¼Œè¿™é‡Œåˆ›å»ºå¹¶ä¿®æ”¹ownerï¼Œ[cloud-user@offline-almalinux8-193-computing ~]$ sudo mkdir /var/spool/slurmctld &amp;&amp; sudo chown slurm /var/spool/slurmctldå‰å°è¿è¡Œ[cloud-user@offline-almalinux8-193-computing ~]$ sudo /tools/OSS/Slurm/23.11.0/sbin/slurmctld -Dslurmctld: error: Configured MailProg is invalidslurmctld: slurmctld version 23.11.0 started on cluster ic-design-cluster-001slurmctld: error: _shutdown_bu_thread:send/recv offline-almalinux8-194-computing.icinfra.cn: Connection refusedslurmctld: No memory enforcing mechanism configured.slurmctld: error: Could not open node state file /var/spool/slurmctld/node_state: No such file or directoryslurmctld: error: NOTE: Trying backup state save file. Information may be lost!slurmctld: No node state file (/var/spool/slurmctld/node_state.old) to recoverslurmctld: error: Could not open job state file /var/spool/slurmctld/job_state: No such file or directoryslurmctld: error: NOTE: Trying backup state save file. Jobs may be lost!slurmctld: No job state file (/var/spool/slurmctld/job_state.old) to recoverslurmctld: select/cons_tres: select_p_node_init: select/cons_tres SelectTypeParameters not specified, using default value: CR_Core_Memoryslurmctld: select/cons_tres: part_data_create_array: select/cons_tres: preparing for 1 partitionsslurmctld: error: Could not open reservation state file /var/spool/slurmctld/resv_state: No such file or directoryslurmctld: error: NOTE: Trying backup state save file. Reservations may be lostslurmctld: No reservation state file (/var/spool/slurmctld/resv_state.old) to recoverslurmctld: error: Could not open trigger state file /var/spool/slurmctld/trigger_state: No such file or directoryslurmctld: error: NOTE: Trying backup state save file. Triggers may be lost!slurmctld: No trigger state file (/var/spool/slurmctld/trigger_state.old) to recoverslurmctld: Reinitializing job accounting stateslurmctld: select/cons_tres: select_p_reconfigure: select/cons_tres: reconfigureslurmctld: select/cons_tres: part_data_create_array: select/cons_tres: preparing for 1 partitionsslurmctld: Running as primary controlleråå°è¿è¡Œ[cloud-user@offline-almalinux8-193-computing ~]$ sudo /tools/OSS/Slurm/23.11.0/sbin/slurmctldè¿è¡ŒDatabaseç•¥è¿è¡ŒCompute Nodes[cloud-user@offline-almalinux8-193-computing ~]$ sudo /tools/OSS/Slurm/23.11.0/sbin/slurmctldä½¿ç”¨æŸ¥çœ‹ä»»åŠ¡é˜Ÿåˆ—[cloud-user@offline-almalinux8-197-computing ~]$ /tools/OSS/Slurm/23.11.0/bin/squeue JOBID PARTITION NAME USER ST TIME NODES NODELIST(REASON) 2 debug wrap cloud-us R 1:27:49 1 offline-almalinux8-195-computing.icinfra.cnæŸ¥çœ‹Slurmé›†ç¾¤ä¿¡æ¯[cloud-user@offline-almalinux8-197-computing ~]$ /tools/OSS/Slurm/23.11.0/bin/sinfo PARTITION AVAIL TIMELIMIT NODES STATE NODELISTdebug* up infinite 1 alloc offline-almalinux8-195-computing.icinfra.cndebug* up infinite 2 idle offline-almalinux8-196-computing.icinfra.cn,offline-almalinux8-197-computing.icinfra.cn[cloud-user@offline-almalinux8-194-computing ~]$ /tools/OSS/Slurm/23.11.0/bin/sinfo -NlTue Nov 28 23:53:20 2023NODELIST NODES PARTITION STATE CPUS S:C:T MEMORY TMP_DISK WEIGHT AVAIL_FE REASON offline-almalinux8-195-computing.icinfra.cn 1 debug* allocated 1 1:1:1 1 0 1 (null) none offline-almalinux8-196-computing.icinfra.cn 1 debug* allocated 1 1:1:1 1 0 1 (null) none offline-almalinux8-197-computing.icinfra.cn 1 debug* idle 1 1:1:1 1 0 1 (null) none æäº¤ä½œä¸š[cloud-user@offline-almalinux8-197-computing ~]$ /tools/OSS/Slurm/23.11.0/bin/sbatch --wrap=\"sleep 36000\"æŸ¥çœ‹ä½œä¸š[cloud-user@offline-almalinux8-197-computing ~]$ /tools/OSS/Slurm/23.11.0/bin/sstat 2JobID MaxVMSize MaxVMSizeNode MaxVMSizeTask AveVMSize MaxRSS MaxRSSNode MaxRSSTask AveRSS MaxPages MaxPagesNode MaxPagesTask AvePages MinCPU MinCPUNode MinCPUTask AveCPU NTasks AveCPUFreq ReqCPUFreqMin ReqCPUFreqMax ReqCPUFreqGov ConsumedEnergy MaxDiskRead MaxDiskReadNode MaxDiskReadTask AveDiskRead MaxDiskWrite MaxDiskWriteNode MaxDiskWriteTask AveDiskWrite TRESUsageInAve TRESUsageInMax TRESUsageInMaxNode TRESUsageInMaxTask TRESUsageInMin TRESUsageInMinNode TRESUsageInMinTask TRESUsageInTot TRESUsageOutAve TRESUsageOutMax TRESUsageOutMaxNode TRESUsageOutMaxTask TRESUsageOutMin TRESUsageOutMinNode TRESUsageOutMinTask TRESUsageOutTot ------------ ---------- -------------- -------------- ---------- ---------- ---------- ---------- ---------- -------- ------------ -------------- ---------- ---------- ---------- ---------- ---------- -------- ---------- ------------- ------------- ------------- -------------- ------------ --------------- --------------- ------------ ------------ ---------------- ---------------- ------------ -------------- -------------- ------------------ ------------------ -------------- ------------------ ------------------ -------------- --------------- --------------- ------------------- ------------------- --------------- ------------------- ------------------- ---------------å‚è€ƒèµ„æ–™https://slurm.schedmd.com/quickstart_admin.html#build_install #slurmçš„æ„å»ºä¸å®‰è£…https://www.icinfra.cn/blog/2023/setting-up-munge-on-almalinux8/ #mungeçš„å®‰è£…" }, { "title": "git sshé€šè¿‡squid proxyè®¿é—®", "url": "/posts/ssh-over-squid-proxy/", "categories": "icenv", "tags": "squid", "date": "2023-11-28 09:51:00 +0000", "snippet": "èƒŒæ™¯ç°æœ‰IDCæœåŠ¡å™¨Aï¼Œä»…å¯è®¿é—®å†…ç½‘ã€‚ä»¥åŠä¸€å°äº‘æœåŠ¡å™¨Bï¼Œå¯é€šè¿‡NATè®¿é—®å¤–ç½‘ï¼Œä»¥åŠè¢«Aè®¿é—®ã€‚éœ€æ±‚AæœåŠ¡å™¨éœ€è¦è®¿é—®github.comï¼Œåšä»£ç å¼€å‘çš„ä¸Šä¼ ä¸‹è½½ã€‚é…ç½®squidåœ¨BæœåŠ¡å™¨ä¸Šå®‰è£…squidï¼Œé…ç½®/etc/squid/squid.confï¼Œå°†è¿™ä¸¤è¡ŒåŠ åˆ°å‰é¢ï¼Œ...acl Safe_ports port 22 # sshacl SSL_ports port 22 # sshå¯åŠ¨squi...", "content": "èƒŒæ™¯ç°æœ‰IDCæœåŠ¡å™¨Aï¼Œä»…å¯è®¿é—®å†…ç½‘ã€‚ä»¥åŠä¸€å°äº‘æœåŠ¡å™¨Bï¼Œå¯é€šè¿‡NATè®¿é—®å¤–ç½‘ï¼Œä»¥åŠè¢«Aè®¿é—®ã€‚éœ€æ±‚AæœåŠ¡å™¨éœ€è¦è®¿é—®github.comï¼Œåšä»£ç å¼€å‘çš„ä¸Šä¼ ä¸‹è½½ã€‚é…ç½®squidåœ¨BæœåŠ¡å™¨ä¸Šå®‰è£…squidï¼Œé…ç½®/etc/squid/squid.confï¼Œå°†è¿™ä¸¤è¡ŒåŠ åˆ°å‰é¢ï¼Œ...acl Safe_ports port 22 # sshacl SSL_ports port 22 # sshå¯åŠ¨squidsystemctl enable squid --nowæœºå™¨Aé…ç½®git configè¿™é‡Œï¼Œè¯·æŒ‰ç…§ä¸€ä¸‹ corkscrew å·¥å…·ï¼Œå†å¾€ä¸‹é…ç½®ã€‚åœ¨github.comä¸Šé…ç½®å¥½ssh keyä¹‹åï¼Œåœ¨æœºå™¨Aæ‰§è¡ŒæˆåŠŸï¼Œgit clone git@github.com/wanlinwang/test-repo" }, { "title": "åœ¨å¤šå°almalinux8ä¸Šé…ç½®MUNGE", "url": "/posts/setting-up-munge-on-almalinux8/", "categories": "icenv", "tags": "munge", "date": "2023-11-28 08:00:00 +0000", "snippet": "èƒŒæ™¯MUNGE(MUNGE Uid â€˜Nâ€™ Gid Emporium) æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå’ŒéªŒè¯å‡­è¯çš„èº«ä»½éªŒè¯æœåŠ¡ã€‚ å®ƒè¢«è®¾è®¡ä¸ºå…·æœ‰é«˜åº¦å¯æ‰©å±•æ€§ï¼Œå¯åœ¨ HPC é›†ç¾¤ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ å®ƒå…è®¸è¿›ç¨‹éªŒè¯å…·æœ‰å…¬å…±ç”¨æˆ·å’Œç»„çš„ä¸»æœºç»„ä¸­å¦ä¸€ä¸ªæœ¬åœ°æˆ–è¿œç¨‹è¿›ç¨‹çš„ UID å’Œ GIDã€‚ è¿™äº›ä¸»æœºå½¢æˆä¸€ä¸ªç”±å…±äº«åŠ å¯†å¯†é’¥å®šä¹‰çš„å®‰å…¨é¢†åŸŸã€‚ æ­¤å®‰å…¨é¢†åŸŸå†…çš„å®¢æˆ·ç«¯å¯ä»¥åˆ›å»ºå’ŒéªŒè¯å‡­æ®ï¼Œè€Œæ— éœ€ä½¿ç”¨ root æƒé™ã€ä¿ç•™ç«¯å£æˆ–ç‰¹å®šäºå¹³...", "content": "èƒŒæ™¯MUNGE(MUNGE Uid â€˜Nâ€™ Gid Emporium) æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå’ŒéªŒè¯å‡­è¯çš„èº«ä»½éªŒè¯æœåŠ¡ã€‚ å®ƒè¢«è®¾è®¡ä¸ºå…·æœ‰é«˜åº¦å¯æ‰©å±•æ€§ï¼Œå¯åœ¨ HPC é›†ç¾¤ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ å®ƒå…è®¸è¿›ç¨‹éªŒè¯å…·æœ‰å…¬å…±ç”¨æˆ·å’Œç»„çš„ä¸»æœºç»„ä¸­å¦ä¸€ä¸ªæœ¬åœ°æˆ–è¿œç¨‹è¿›ç¨‹çš„ UID å’Œ GIDã€‚ è¿™äº›ä¸»æœºå½¢æˆä¸€ä¸ªç”±å…±äº«åŠ å¯†å¯†é’¥å®šä¹‰çš„å®‰å…¨é¢†åŸŸã€‚ æ­¤å®‰å…¨é¢†åŸŸå†…çš„å®¢æˆ·ç«¯å¯ä»¥åˆ›å»ºå’ŒéªŒè¯å‡­æ®ï¼Œè€Œæ— éœ€ä½¿ç”¨ root æƒé™ã€ä¿ç•™ç«¯å£æˆ–ç‰¹å®šäºå¹³å°çš„æ–¹æ³•ã€‚Slurmé›†ç¾¤å¯ä»¥åˆ©ç”¨MUNGEæ¥ä½¿å¾—æäº¤çš„ä»»åŠ¡ä»¥æäº¤è€…çš„èº«ä»½ï¼Œåœ¨æ‰§è¡Œæœºæ‰§è¡Œã€‚ç¯å¢ƒç•¥ã€‚ç³»ç»Ÿä¸‹åœ¨ldapä¸Šåˆ›å»ºmungeè´¦å·å®‰è£…[root@offline-almalinux8-194-computing cloud-user]# dnf install --disablerepo=TurboVNC mungeé…ç½®ç”Ÿæˆkeyï¼Œå¹¶æ”¾åˆ°å…±äº«ç›®å½•ï¼Œä»¥ä¾›å„ä¸ªæœºå™¨è¯»å–ï¼Œ[root@offline-almalinux8-194-computing ~]# create-munge-key[root@offline-almalinux8-194-computing ~]# mv /etc/munge/munge.key /home/munge/è¿è¡Œåœ¨é›†ç¾¤çš„æ¯å°æœºå™¨è¿è¡Œï¼Œ[root@offline-almalinux8-***-computing ~]# sudo -u munge munged --key-file=/home/munge/munge.key[root@offline-almalinux8-***-computing ~]# ps -ef|grep '[m]unged'munge 4682 1 0 10:22 ? 00:00:00 munged --key-file=/home/munge/munge.keyåœæ­¢[root@offline-almalinux8-***-computing ~]# sudo -u munge munged --stopéç³»ç»Ÿä¸‹å®‰è£…æˆ‘ä»¬ä½¿ç”¨spackæ¥å®‰è£…mungeï¼Œè¯·æ³¨æ„éœ€è¦å°†çŠ¶æ€æ–‡ä»¶å¤¹è®¾ç½®åˆ°/varæˆ–ä¸€ä¸ªæœ¬åœ°ç›®å½•ï¼Œå› ä¸ºæ¯å°æœºå™¨è¿è¡Œéƒ½è¦ç»´æŒçŠ¶æ€ã€‚ç”±äºä½¿ç”¨cloud-userå®‰è£…çš„ï¼Œè¿è¡Œæ—¶ä¼šæ£€æµ‹æ•´ä¸ªå®‰è£…ç›®å½•çš„ownershipï¼Œå› æ­¤è¿™é‡Œä¹Ÿç”¨cloud-useræ¥è¿è¡Œmungeã€‚[cloud-user@offline-almalinux8-193-computing ~]$ spack install munge localstatedir=/var %gcc@=13.2.0[+] /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/bzip2-1.0.8-wjafdi26ghg2ostgp6fre2jtufxgtole[+] /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/libgpg-error-1.47-akx562yeurfuc3q3mwdsm2vq3cpbiaaz[+] /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/zlib-ng-2.1.4-uyqju5xvdx5h3acp5q3wuczoejvypzqr[+] /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/libgcrypt-1.10.3-zeoosgjkjxum2rg4eooio3wg5fc2i2jm[+] /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/openssl-3.1.3-vh3m7mfa7a5nnbkmhctiukwnz5ugffna[+] /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5é…ç½®ç”Ÿæˆkey[cloud-user@offline-almalinux8-193-computing ~]$ /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5/sbin/mungekey --verbosemungekey: Info: Created \"/tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5/etc/munge/munge.key\" with 1024-bit keyåˆ›å»ºçŠ¶æ€æ–‡ä»¶å¤¹[cloud-user@offline-almalinux8-193-computing ~]$ sudo mkdir -p -m 0700 /var/lib/munge /var/log/munge[cloud-user@offline-almalinux8-193-computing ~]$ sudo mkdir -p -m 0755 /var/run/munge[cloud-user@offline-almalinux8-193-computing ~]$ sudo chown cloud-user /var/lib/munge /var/log/munge /var/run/mungeè¿è¡Œ[cloud-user@offline-almalinux8-193-computing ~]$ /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5/sbin/mungedåœæ­¢[cloud-user@offline-almalinux8-193-computing ~]$ /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5/sbin/munged --stopéªŒè¯mungeè¾“å‡ºåˆ°æ–‡æœ¬ï¼Œç„¶åunmungeè§£å¯†munge -n &gt; munge.txtunmunge &lt; munge.txtè¾“å‡ºåˆ°ç®¡é“ï¼Œç„¶åunmungeè§£å¯†[admin@offline-almalinux8-195-computing cloud-user]$ /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5/bin/munge -n | /tools/OSS/spack/opt/spack/linux-almalinux8-zen4/gcc-13.2.0/munge-0.5.15-oska4u2fxfsz2c3xhhexoznkzbmckeh5/bin/unmunge STATUS: Success (0)ENCODE_HOST: offline-almalinux8-195-computing.icinfra.cn (127.0.0.1)ENCODE_TIME: 2023-11-28 02:43:13 -0500 (1701157393)DECODE_TIME: 2023-11-28 02:43:13 -0500 (1701157393)TTL: 300CIPHER: aes128 (4)MAC: sha256 (5)ZIP: none (0)UID: admin (1451400000)GID: admins (1451400000)LENGTH: 0å¯ä»¥çœ‹åˆ°ï¼ŒæˆåŠŸäº†ã€‚å‚è€ƒèµ„æ–™https://dun.github.io/munge/https://github.com/dun/munge/wiki/Installation-Guide#securing-the-installationhttps://github.com/dun/munge/wiki/Man-7-munge" }, { "title": "Rocky/Alma Linux 8 ä¸Šå®‰è£…å›¾å½¢åŒ–ç•Œé¢", "url": "/posts/install-Xfce-and-TurboVNC-on-Rocky-or-Alma-Linux-8/", "categories": "icenv", "tags": "xfce", "date": "2023-11-09 01:56:00 +0000", "snippet": "XFCEæ¡Œé¢ç¯å¢ƒXFCE æ¡Œé¢ç¯å¢ƒä½œä¸ºé€šç”¨æ¡Œé¢ç¯å¢ƒ (CDE) çš„ä¸€ä¸ªåˆ†æ”¯è€Œåˆ›å»ºï¼Œä½“ç°äº†æ¨¡å—åŒ–å’Œå¯é‡ç”¨æ€§çš„ä¼ ç»Ÿ Unix å“²å­¦ã€‚æ‚¨å¯ä»¥åœ¨å‡ ä¹ä»»ä½•ç‰ˆæœ¬çš„ Linux ä¸Šå®‰è£… XFCEï¼ŒåŒ…æ‹¬ Rocky Linuxã€‚å®ƒä¹Ÿæ˜¯æœ€æ˜“äºä¸æ›¿ä»£çª—å£ç®¡ç†å™¨ï¼ˆä¾‹å¦‚ Awesome æˆ– i3ï¼‰ç»“åˆä½¿ç”¨çš„æ¡Œé¢ç¯å¢ƒä¹‹ä¸€ã€‚ç„¶è€Œï¼Œæ­¤è¿‡ç¨‹å°†å¸®åŠ©æ‚¨å¯åŠ¨å¹¶è¿è¡Œ Rocky Linux å’Œæ›´å…¸å‹çš„ XFCE å®‰è£…ã€‚å…ˆå†³æ¡ä»¶å·¥ä½œ...", "content": "XFCEæ¡Œé¢ç¯å¢ƒXFCE æ¡Œé¢ç¯å¢ƒä½œä¸ºé€šç”¨æ¡Œé¢ç¯å¢ƒ (CDE) çš„ä¸€ä¸ªåˆ†æ”¯è€Œåˆ›å»ºï¼Œä½“ç°äº†æ¨¡å—åŒ–å’Œå¯é‡ç”¨æ€§çš„ä¼ ç»Ÿ Unix å“²å­¦ã€‚æ‚¨å¯ä»¥åœ¨å‡ ä¹ä»»ä½•ç‰ˆæœ¬çš„ Linux ä¸Šå®‰è£… XFCEï¼ŒåŒ…æ‹¬ Rocky Linuxã€‚å®ƒä¹Ÿæ˜¯æœ€æ˜“äºä¸æ›¿ä»£çª—å£ç®¡ç†å™¨ï¼ˆä¾‹å¦‚ Awesome æˆ– i3ï¼‰ç»“åˆä½¿ç”¨çš„æ¡Œé¢ç¯å¢ƒä¹‹ä¸€ã€‚ç„¶è€Œï¼Œæ­¤è¿‡ç¨‹å°†å¸®åŠ©æ‚¨å¯åŠ¨å¹¶è¿è¡Œ Rocky Linux å’Œæ›´å…¸å‹çš„ XFCE å®‰è£…ã€‚å…ˆå†³æ¡ä»¶å·¥ä½œç«™æˆ–ç¬”è®°æœ¬ç”µè„‘å¸Œæœ›è¿è¡Œ XFCE ä½œä¸ºæ¡Œé¢è€Œä¸æ˜¯é»˜è®¤çš„ GNOME æ¡Œé¢å®‰è£… Rocky Linux æœ€å°åŒ–åœ¨æœ¬èŠ‚ä¸­ï¼Œæ‚¨éœ€è¦æˆä¸º root ç”¨æˆ·ï¼Œæˆ–è€…èƒ½å¤Ÿsudoæå‡æ‚¨çš„æƒé™ã€‚åœ¨å®‰è£… Rocky Linux æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸‹å‡ ç»„è½¯ä»¶åŒ…ï¼š Minimal Standardè¿è¡Œç³»ç»Ÿæ›´æ–°é¦–å…ˆï¼Œè¿è¡ŒæœåŠ¡å™¨æ›´æ–°å‘½ä»¤ã€‚ç³»ç»Ÿå°†é‡å»ºå­˜å‚¨åº“ç¼“å­˜ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œç³»ç»Ÿ cab å¯ä»¥è¯†åˆ«å¯ç”¨çš„åŒ…ã€‚dnf updateå¯ç”¨dnfä»“åº“æ‚¨éœ€è¦ EPEL å­˜å‚¨åº“ä¸­çš„ XFCE éå®˜æ–¹å­˜å‚¨åº“æ‰èƒ½åœ¨ Rocky 8.x ç‰ˆæœ¬ä¸Šè¿è¡Œã€‚é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹å¯ç”¨æ­¤dnfä»“åº“ï¼šdnf install epel-releaseå›ç­”â€œYâ€å³å¯å®‰è£…ã€‚æ‚¨è¿˜éœ€è¦ Powertools å’Œ lightdm ä»“åº“ã€‚ç°åœ¨å¯ç”¨è¿™äº›ï¼šdnf config-manager --set-enabled powertoolsdnf copr enable stenstorp/lightdmåŒæ ·ï¼Œæ‚¨å°†çœ‹åˆ°æœ‰å…³dnfä»“åº“åº“çš„è­¦å‘Šæ¶ˆæ¯ã€‚ç»§ç»­å¹¶å›ç­”Yæç¤ºã€‚æ£€æŸ¥ç¾¤å†…å¯ç”¨çš„ç¯å¢ƒå’Œå·¥å…·ç°åœ¨dnfä»“åº“å·²å¯ç”¨ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ‰€æœ‰å†…å®¹ã€‚é¦–å…ˆï¼Œæ£€æŸ¥æ‚¨çš„å­˜å‚¨åº“åˆ—è¡¨ï¼šdnf repolistæ‚¨åº”è¯¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼Œæ˜¾ç¤ºæ‰€æœ‰å·²å¯ç”¨çš„å­˜å‚¨åº“ï¼šappstream Rocky Linux 8 - AppStreambaseos Rocky Linux 8 - BaseOScopr:copr.fedorainfracloud.org:stenstorp:lightdm Copr repo for lightdm owned by stenstorpepel Extra Packages for Enterprise Linux 8 - x86_64epel-modular Extra Packages for Enterprise Linux Modular 8 - x86_64extras Rocky Linux 8 - Extraspowertools Rocky Linux 8 - PowerToolsè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥ XFCEï¼šdnf grouplistæ‚¨åº”è¯¥åœ¨åˆ—è¡¨åº•éƒ¨çœ‹åˆ°â€œXfceâ€ã€‚å†è¿è¡Œdnf updateä¸€æ¬¡ä»¥ç¡®ä¿æ‰€æœ‰å¯ç”¨çš„å­˜å‚¨åº“éƒ½è¯»å…¥ç³»ç»Ÿã€‚å®‰è£…åŒ…è¦å®‰è£… XFCEï¼Œè¯·è¿è¡Œï¼šdnf groupinstall \"xfce\"è¿˜è¦å®‰è£… lightdmï¼šdnf install lightdmæœ€åæ­¥éª¤gdmåœ¨dnf groupinstall \"xfce\"æœŸé—´æ·»åŠ å¹¶å¯ç”¨ï¼Œéœ€è¦ç¦ç”¨å®ƒï¼šsystemctl disable gdmç°åœ¨æ‚¨å¯ä»¥å¯ç”¨lightdmï¼šsed -r -i 's#^user-sessions=.*#user-sessions=xfce#g' /etc/lightdm/lightdm.confsystemctl enable lightdm --nowæ‚¨éœ€è¦åœ¨å¯åŠ¨åå‘Šè¯‰ç³»ç»Ÿä»…ä½¿ç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚å°†é»˜è®¤ç›®æ ‡ç³»ç»Ÿè®¾ç½®ä¸ºGUIç•Œé¢ï¼šsystemctl set-default graphical.targetç„¶åé‡æ–°å¯åŠ¨ï¼šrebootæ‚¨æœ€ç»ˆåº”è¯¥åœ¨ XFCE GUI ä¸­çœ‹åˆ°ç™»å½•æç¤ºï¼Œå½“æ‚¨ç™»å½•æ—¶ï¼Œæ‚¨å°†æ‹¥æœ‰æ‰€æœ‰ XFCE ç¯å¢ƒã€‚å‘½ä»¤é›†åˆ# å®‰è£…xfceç¯å¢ƒdnf updatednf install epel-releasednf config-manager --set-enabled powertoolsdnf copr enable stenstorp/lightdmdnf groupinstall \"xfce\"dnf groupinstall \"Fonts\"dnf install lightdmsystemctl disable gdmsed -r -i 's#^user-sessions=.*#user-sessions=xfce#g' /etc/lightdm/lightdm.confsystemctl enable lightdm --now# å®‰è£…TurboVNCTIMESTAMP=`date +%Y%m%d%H%M%S` yum -y install wgetyum -y install perl # firewalldsystemctl disable firewalld --now # selinuxsed -i_bak`date +%Y%m%d%H%M%S` \\ 's/^\\s*SELINUX=.*/SELINUX=disabled/g' \\/etc/selinux/config # add a file to disable non-privilege users' powermanagementmkdir -p /etc/xdg/xfce4/kioskcat &gt; /etc/xdg/xfce4/kiosk/kioskrc &lt;&lt; EOF[xfce4-session]Shutdown=rootEOF # setup for TurboVNCwget https://raw.githubusercontent.com/TurboVNC/repo/main/TurboVNC.repo -O /etc/yum.repos.d/TurboVNC.repoyum -y install turbovnc # modify conf for TurboVNCsed -i_bak${TIMESTAMP} \\ -e 's/#\\s*$wm = .*/$wm = \"xfce\";/g' \\ -e 's/#\\s*$serverArgs = .*/$serverArgs = \"-listen tcp\";/g' \\ -e 's/#\\s*$securityTypes = .*/$securityTypes = \"TLSOtp, TLSPlain, X509Otp, X509Plain,OTP, UnixLogin, Plain\";/g' \\ /etc/turbovncserver.conf sed -i_bak${TIMESTAMP} \\ -e 's/^#\\s*permitted-security-types = .*/permitted-security-types = TLSOtp, TLSPlain, X509Otp, X509Plain, OTP/g' \\ /etc/turbovncserver-security.conf # modify conf for ssh and sshdecho \"AcceptEnv DISPLAY\" &gt;&gt; /etc/ssh/sshd_configsystemctl restart sshdecho \"SendEnv DISPLAY\" &gt;&gt; /etc/ssh/ssh_config # swicth to grahphicalsystemctl set-default graphical.targetsystemctl isolate graphical.targetrebootç»“è®ºXFCE æ˜¯ä¸€ä¸ªå…·æœ‰ç®€å•ç•Œé¢çš„è½»é‡ç¯å¢ƒã€‚å®ƒæ˜¯ Rocky Linux ä¸Šé»˜è®¤ GNOME æ¡Œé¢çš„æ›¿ä»£æ–¹æ¡ˆã€‚èµ„æ–™https://docs.rockylinux.org/guides/desktop/xfce_installation/" }, { "title": "sshæ—¶æç¤ºno matching host key type found. Their offerï¼šrsa-sha2-512,rsa-sha2-256", "url": "/posts/ssh-no-matching-host-key-type-found/", "categories": "icenv", "tags": "ssh", "date": "2023-11-09 01:56:00 +0000", "snippet": "sshæ—¶æç¤ºno matching host key type found. Their offerï¼šrsa-sha2-512,rsa-sha2-256é‡åˆ°è¿™æ ·æç¤ºæ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šHostKeyAlgorithmsï¼Œwhile true; do ssh -N -D 1080 -i /drives/c/Users/wanlinwang/.ssh/id_rsa -o HostKeyAlgorit...", "content": "sshæ—¶æç¤ºno matching host key type found. Their offerï¼šrsa-sha2-512,rsa-sha2-256é‡åˆ°è¿™æ ·æç¤ºæ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šHostKeyAlgorithmsï¼Œwhile true; do ssh -N -D 1080 -i /drives/c/Users/wanlinwang/.ssh/id_rsa -o HostKeyAlgorithms=+rsa-sha2-512 wanlinwang@open; done" }, { "title": "chat.openai.comæç¤ºUnable to load history", "url": "/posts/chatgpt-unable-to-load-history/", "categories": "icenv", "tags": "chatgpt", "date": "2023-11-08 15:00:00 +0000", "snippet": "ä»Šå¤©chat.openai.comç™»å½•åï¼Œæç¤ºUnable to load historyæ‰“å¼€F12å‘ç°å¾ˆå¤š403 forbiddençš„ï¼šåŸæ¥æ˜¯è®¿é—®çš„éƒ¨åˆ†URIï¼Œè¢«openai blockäº†ã€‚è§£å†³æ–¹æ³•ï¼šVPSè®¿é—®openaiä¹‹é—´ï¼Œå†ç”¨WARPå¥—ä¸€å±‚ï¼Œopenaiæ²¡é‚£ä¹ˆå®¹æ˜“å»å°WARPå¦‚æ­¤å¤§çš„å…¬ç½‘IPæ± ã€‚", "content": "ä»Šå¤©chat.openai.comç™»å½•åï¼Œæç¤ºUnable to load historyæ‰“å¼€F12å‘ç°å¾ˆå¤š403 forbiddençš„ï¼šåŸæ¥æ˜¯è®¿é—®çš„éƒ¨åˆ†URIï¼Œè¢«openai blockäº†ã€‚è§£å†³æ–¹æ³•ï¼šVPSè®¿é—®openaiä¹‹é—´ï¼Œå†ç”¨WARPå¥—ä¸€å±‚ï¼Œopenaiæ²¡é‚£ä¹ˆå®¹æ˜“å»å°WARPå¦‚æ­¤å¤§çš„å…¬ç½‘IPæ± ã€‚" }, { "title": "gccç¼–è¯‘æ—¶æ— æ³•æç¤ºæ²¡æœ‰è¿™æ ·çš„æŒ‡ä»¤", "url": "/posts/no-such-instruction/", "categories": "icenv", "tags": "gcc", "date": "2023-11-07 15:28:00 +0000", "snippet": "ç”±äºç¼–è¯‘çš„gccï¼Œæ²¡æœ‰å°†binutilsç¼–è¿›å»ï¼Œä»è€Œå®ƒä½¿ç”¨äº†ç³»ç»Ÿä¸‹çš„as (binutilsæä¾›çš„)æ±‡ç¼–å‘½ä»¤ã€‚è€Œç³»ç»Ÿä¸‹çš„aså‘½ä»¤ç‰ˆæœ¬å¤ªä½ï¼Œä¸è¯†åˆ«æ–°CPUçš„flagã€‚è§£å†³æ–¹æ³•æ˜¯ï¼šé‡æ–°ç¼–gccï¼Œå°†æ–°ç‰ˆæœ¬çš„binutilsç¼–è¿›å»äº†ã€‚", "content": "ç”±äºç¼–è¯‘çš„gccï¼Œæ²¡æœ‰å°†binutilsç¼–è¿›å»ï¼Œä»è€Œå®ƒä½¿ç”¨äº†ç³»ç»Ÿä¸‹çš„as (binutilsæä¾›çš„)æ±‡ç¼–å‘½ä»¤ã€‚è€Œç³»ç»Ÿä¸‹çš„aså‘½ä»¤ç‰ˆæœ¬å¤ªä½ï¼Œä¸è¯†åˆ«æ–°CPUçš„flagã€‚è§£å†³æ–¹æ³•æ˜¯ï¼šé‡æ–°ç¼–gccï¼Œå°†æ–°ç‰ˆæœ¬çš„binutilsç¼–è¿›å»äº†ã€‚" }, { "title": "è‡ªåŠ¨åŒ–ä¸‹è½½ç¾¤æ™–å…±äº«çš„æ–‡ä»¶", "url": "/posts/automating-file-downloading-from-Synology-NAS/", "categories": "icenv", "tags": "automation", "date": "2023-11-07 15:28:00 +0000", "snippet": "æ¥åˆ°éœ€æ±‚ï¼Œéœ€è¦ä»åˆä½œä¼™ä¼´æä¾›çš„ç¾¤æ™–NASä¸Šï¼Œæ‰¹é‡ä¸‹è½½å¤§é‡æ–‡ä»¶ã€‚æ‰‹åŠ¨ä¸‹è½½å¤ªè´¹äº‹è´¹æ—¶ï¼Œæ²¡æœ‰ä»·å€¼ï¼›å¹¶ä¸”PCçš„å¸¦å®½æœ‰é™ï¼Œåªèƒ½å°†æ‰¹é‡ä¸²è¡Œä¸‹è½½ï¼Œæ‰‹åŠ¨çš„è¯ä¸­é—´å®¹æ˜“å‡ºç°ç©ºé—²ï¼Œå¯¼è‡´æ€»çš„ä¸‹è½½æ—¶é•¿å¾ˆé•¿ã€‚å› æ­¤å†™äº†è„šæœ¬åšè‡ªåŠ¨åŒ–ä¸‹è½½ï¼Œå¦‚ä¸‹ï¼šfrom selenium import webdriverfrom selenium.webdriver.common.keys import Keysfrom selenium....", "content": "æ¥åˆ°éœ€æ±‚ï¼Œéœ€è¦ä»åˆä½œä¼™ä¼´æä¾›çš„ç¾¤æ™–NASä¸Šï¼Œæ‰¹é‡ä¸‹è½½å¤§é‡æ–‡ä»¶ã€‚æ‰‹åŠ¨ä¸‹è½½å¤ªè´¹äº‹è´¹æ—¶ï¼Œæ²¡æœ‰ä»·å€¼ï¼›å¹¶ä¸”PCçš„å¸¦å®½æœ‰é™ï¼Œåªèƒ½å°†æ‰¹é‡ä¸²è¡Œä¸‹è½½ï¼Œæ‰‹åŠ¨çš„è¯ä¸­é—´å®¹æ˜“å‡ºç°ç©ºé—²ï¼Œå¯¼è‡´æ€»çš„ä¸‹è½½æ—¶é•¿å¾ˆé•¿ã€‚å› æ­¤å†™äº†è„šæœ¬åšè‡ªåŠ¨åŒ–ä¸‹è½½ï¼Œå¦‚ä¸‹ï¼šfrom selenium import webdriverfrom selenium.webdriver.common.keys import Keysfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.chrome.service import Servicefrom webdriver_manager.chrome import ChromeDriverManagerfrom selenium.webdriver.chrome.options import Optionsimport timeimport pandas as pdfrom selenium.webdriver.support.ui import WebDriverWaitfrom selenium.webdriver.support import expected_conditions as ECdef is_download_completed(directory): \"\"\" Check if all files in the specified directory have finished downloading. \"\"\" for filename in os.listdir(directory): # ä¸‹è½½è¿‡ç¨‹ä¸­ï¼Œä¸´æ—¶æ–‡ä»¶çš„åå­—æ˜¯.crdownloadï¼Œå› æ­¤è¿™é‡Œåˆ¤æ–­æ˜¯å¦æœ‰è¿™æ ·çš„æ–‡ä»¶ if filename.endswith('.crdownload') or filename.endswith('.part'): return False return Truedef download(link, pw): # è®¾ç½®Chromeé€‰é¡¹ä»¥é™é»˜æ¨¡å¼è¿è¡Œï¼ˆæ— ç•Œé¢æ¨¡å¼ï¼‰ chrome_options = Options() chrome_options.add_argument(\"--headless\") # è®¾ç½®ä¸‹è½½æ–‡ä»¶çš„é»˜è®¤ç›®å½•åˆ° F:\\Downloads prefs = { \"download.default_directory\": r\"F:\\Downloads\", # ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²æ¥é¿å…è½¬ä¹‰ \"download.prompt_for_download\": False, \"download.directory_upgrade\": True, \"safebrowsing_for_trusted_sources_enabled\": False, \"safebrowsing.enabled\": False } chrome_options.add_experimental_option(\"prefs\", prefs) # åˆå§‹åŒ–WebDriver service = Service(ChromeDriverManager().install()) driver = webdriver.Chrome(service=service, options=chrome_options) # æ‰“å¼€ç™»å½•é¡µé¢ driver.get(link) # å¡«å†™ç™»å½•ä¿¡æ¯å¹¶æäº¤è¡¨å• wait = WebDriverWait(driver, 10) password_field = wait.until(EC.element_to_be_clickable((By.ID, \"login_passwd\"))) password_field.send_keys(pw) driver.find_element(By.ID, \"ext-gen62\").click() # ç­‰å¾…é¡µé¢åŠ è½½ time.sleep(5) # å®šä½åˆ°ä¸‹è½½é“¾æ¥å¹¶ç‚¹å‡» download_link = driver.find_element(By.ID, \"ext-gen71\") download_link.click() # ç­‰å¾…æ–‡ä»¶ä¸‹è½½å®Œæˆ while not is_download_completed(download_path): time.sleep(1) # æ¯éš”1ç§’æ£€æŸ¥ä¸€æ¬¡ # å…³é—­æµè§ˆå™¨ driver.quit()if __name__ == \"__main__\": # æŒ‡å®šExcelæ–‡ä»¶çš„è·¯å¾„ file_path = \"F:\\\\Downloads\\\\files2download_from_Synology.xlsx\" df = pd.read_excel(file_path, usecols=['é“¾æ¥', 'å¯†ç '], engine='openpyxl') for _, row in df.iterrows(): link, pw = *row print(f\"Downloading {link} with password {pw}\") download(link, pw)è¿è¡Œï¼Œå¼€å§‹ä¸‹è½½ã€‚" }, { "title": "è·å–gitä»“åº“çš„tagsåˆ—è¡¨", "url": "/posts/get-all-tags-for-git-repos/", "categories": "icenv", "tags": "github", "date": "2023-11-03 14:28:00 +0000", "snippet": "#!/bin/env python3import requestsfrom datetime import datetimedef get_versions(owner, repo): url = f'https://api.github.com/repos/riscv-collab/riscv-gnu-toolchain/tags' response = requests.ge...", "content": "#!/bin/env python3import requestsfrom datetime import datetimedef get_versions(owner, repo): url = f'https://api.github.com/repos/riscv-collab/riscv-gnu-toolchain/tags' response = requests.get(url) response.raise_for_status() # Check for errors tags = response.json() print(f\"Total number of tags is {len(tags)}\") for tag in tags: tag_name = tag['name'] try: tag_date = datetime.strptime(tag_name, \"%Y.%m.%d\") if tag_date &gt;= datetime.strptime(\"2023.09.01\", \"%Y.%m.%d\"): commit_sha = tag['commit']['sha'] print(f' version(') print(f' \"{tag_name}\",') print(f' tag=\"{tag_name}\",') print(f' commit=\"{commit_sha}\",') print(f' submodules=True,') print(f' )') except: pass# Replace 'owner' and 'repo' with the GitHub repository owner and nameowner = 'owner'repo = 'repo'get_versions(owner, repo)" }, { "title": "ICè®¾è®¡ç¯å¢ƒLinuxæœåŠ¡å™¨çš„D(uninterruptable sleep)çŠ¶æ€çš„è¿›ç¨‹", "url": "/posts/D-state-process/", "categories": "icenv", "tags": "linux", "date": "2023-11-01 02:28:00 +0000", "snippet": "åœ¨ICè®¾è®¡ç¯å¢ƒçš„LinuxæœåŠ¡å™¨ä¸­ï¼Œè¿›ç¨‹çŠ¶æ€â€œDâ€ä»£è¡¨ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ï¼ˆUninterruptible Sleepï¼‰ã€‚è¿™é€šå¸¸æ„å‘³ç€è¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸç§I/Oæ“ä½œï¼Œä¾‹å¦‚ç½‘ç»œé€šä¿¡æˆ–ç£ç›˜æ“ä½œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ç§çŠ¶æ€æ˜¯æš‚æ—¶çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿›ç¨‹é•¿æ—¶é—´å¤„äºDçŠ¶æ€ï¼Œå¯èƒ½ä¼šæš—ç¤ºç³»ç»Ÿå­˜åœ¨é—®é¢˜ã€‚å°‘é‡DçŠ¶æ€è¿›ç¨‹æ—¶çš„å¤„ç† åˆ†æåŸå› ï¼šé¦–å…ˆï¼Œéœ€è¦ç¡®å®šè¿›ç¨‹ä¸ºä½•å¤„äºDçŠ¶æ€ã€‚å¯ä»¥ä½¿ç”¨psæˆ–topå‘½ä»¤æŸ¥çœ‹å¤„äºDçŠ¶æ€çš„è¿›ç¨‹ã€‚...", "content": "åœ¨ICè®¾è®¡ç¯å¢ƒçš„LinuxæœåŠ¡å™¨ä¸­ï¼Œè¿›ç¨‹çŠ¶æ€â€œDâ€ä»£è¡¨ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ï¼ˆUninterruptible Sleepï¼‰ã€‚è¿™é€šå¸¸æ„å‘³ç€è¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸç§I/Oæ“ä½œï¼Œä¾‹å¦‚ç½‘ç»œé€šä¿¡æˆ–ç£ç›˜æ“ä½œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ç§çŠ¶æ€æ˜¯æš‚æ—¶çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœè¿›ç¨‹é•¿æ—¶é—´å¤„äºDçŠ¶æ€ï¼Œå¯èƒ½ä¼šæš—ç¤ºç³»ç»Ÿå­˜åœ¨é—®é¢˜ã€‚å°‘é‡DçŠ¶æ€è¿›ç¨‹æ—¶çš„å¤„ç† åˆ†æåŸå› ï¼šé¦–å…ˆï¼Œéœ€è¦ç¡®å®šè¿›ç¨‹ä¸ºä½•å¤„äºDçŠ¶æ€ã€‚å¯ä»¥ä½¿ç”¨psæˆ–topå‘½ä»¤æŸ¥çœ‹å¤„äºDçŠ¶æ€çš„è¿›ç¨‹ã€‚åŒæ—¶ï¼Œdmesgå’Œ/var/log/messageså¯ä»¥ç”¨æ¥æ£€æŸ¥å†…æ ¸æ—¥å¿—ï¼Œä»¥ä¾¿æŸ¥æ‰¾æ½œåœ¨çš„ç¡¬ä»¶é—®é¢˜æˆ–æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ã€‚ ç›‘æ§I/Oï¼šä½¿ç”¨iotopæˆ–iostatç­‰å·¥å…·ç›‘æ§I/Oä½¿ç”¨æƒ…å†µï¼Œæ‰¾å‡ºæ˜¯å¦æœ‰è¿‡é‡çš„I/Oè¯·æ±‚å¯¼è‡´çš„ç“¶é¢ˆã€‚ æ£€æŸ¥ç¡¬ä»¶ï¼šè‹¥è¿›ç¨‹å¤„äºDçŠ¶æ€æ˜¯ç”±äºç¡¬ä»¶é—®é¢˜ï¼Œæ¯”å¦‚åçš„ç¡¬ç›˜æˆ–è€…æœ‰é—®é¢˜çš„ç½‘ç»œè¿æ¥ï¼Œæ£€æŸ¥ç¡¬ä»¶çŠ¶æ€å¹¶è¿›è¡Œç»´ä¿®æˆ–æ›´æ¢ã€‚ å‡çº§é©±åŠ¨å’Œå†…æ ¸ï¼šæœ‰æ—¶å€™ï¼Œæ—§çš„é©±åŠ¨æˆ–å†…æ ¸ä¸­çš„bugå¯èƒ½å¯¼è‡´DçŠ¶æ€ã€‚ç¡®ä¿ç³»ç»Ÿå’Œæ‰€æœ‰é©±åŠ¨éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚ ç­‰å¾…ï¼šå¦‚æœDçŠ¶æ€ä¸æ˜¯æ°¸ä¹…æ€§çš„ï¼Œæœ‰æ—¶ç®€å•åœ°ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè®©è¿›ç¨‹å®Œæˆå®ƒçš„I/Oæ“ä½œæ˜¯å¯è¡Œçš„ã€‚ å¤§é‡DçŠ¶æ€è¿›ç¨‹æ—¶çš„å¤„ç† ç³»ç»Ÿè´Ÿè½½åˆ†æï¼šä½¿ç”¨vmstatå’Œmpstatç­‰å·¥å…·æ¥åˆ†æç³»ç»Ÿè´Ÿè½½ï¼Œè¯†åˆ«æ˜¯CPUç“¶é¢ˆã€å†…å­˜é—®é¢˜è¿˜æ˜¯I/Oé—®é¢˜ã€‚ æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿï¼šä½¿ç”¨fsckå‘½ä»¤æ£€æŸ¥å’Œä¿®å¤æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ã€‚å¦‚æœæ˜¯ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚NFSï¼‰ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒæœåŠ¡å™¨çŠ¶æ€ã€‚ è¿½æŸ¥ç‰¹å®šèµ„æºï¼šé€šè¿‡lsofå’Œfuserå‘½ä»¤ç¡®å®šè¿›ç¨‹æ­£åœ¨è®¿é—®çš„èµ„æºï¼Œè¿™å¯èƒ½ä¼šæ­ç¤ºä¸ºä½•è¿™ä¹ˆå¤šè¿›ç¨‹å¡åœ¨DçŠ¶æ€ã€‚ å‡å°‘I/Oç«äº‰ï¼šå¦‚æœå¯èƒ½ï¼Œå‡å°‘å¯¹ç£ç›˜æˆ–ç½‘ç»œçš„å¹¶å‘è®¿é—®ï¼Œä¼˜åŒ–åº”ç”¨ç¨‹åºçš„I/Oæ¨¡å¼ã€‚ è€ƒè™‘ç¡¬ä»¶æ•…éšœï¼šå¦‚æœç¡¬ä»¶æ•…éšœæ˜¯å¯¼è‡´å¤§é‡DçŠ¶æ€è¿›ç¨‹çš„åŸå› ï¼Œéœ€è¦æ›´æ·±å…¥åœ°æ£€æŸ¥ç¡¬ä»¶ã€‚ ç´§æ€¥å“åº”ï¼šåœ¨æç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœå¤§é‡çš„DçŠ¶æ€è¿›ç¨‹å¯¼è‡´æœåŠ¡å™¨æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¯èƒ½éœ€è¦è€ƒè™‘é‡å¯ç³»ç»Ÿã€‚åœ¨é‡å¯å‰ï¼Œåº”å°½å¯èƒ½åœ°å®‰å…¨åœ°å…³é—­æœåŠ¡å’Œè¿›ç¨‹ï¼Œä»¥é¿å…æ•°æ®æŸå¤±ã€‚ è”ç³»ä¸“å®¶ï¼šå¦‚æœä¸Šè¿°æªæ–½éƒ½ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå¯èƒ½éœ€è¦è”ç³»ç³»ç»Ÿç®¡ç†å‘˜æˆ–ä¸“å®¶è¿›è¡Œæ·±å…¥åˆ†æã€‚ åœ¨å¤„ç†è¿™äº›é—®é¢˜æ—¶ï¼Œä¿æŒç³»ç»Ÿçš„æ•°æ®å’Œæ—¥å¿—è®°å½•éå¸¸é‡è¦ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©åˆ†æé—®é¢˜çš„æ ¹æœ¬åŸå› ã€‚è€Œä¸”ï¼Œåœ¨åšå‡ºé‡å¤§æ”¹å˜å‰ï¼Œç¡®ä¿æœ‰æ•°æ®å¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚å¦‚æœä½ ä¸æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ï¼Œè§£å†³è¿™äº›é—®é¢˜æ—¶æœ€å¥½ä¸ä»–ä»¬åˆä½œã€‚è¿™é‡Œä¹Ÿæ¢è®¨ä¸‹ï¼Œé‡åˆ°å¤§é‡DçŠ¶æ€è¿›ç¨‹ï¼Œå¦‚ä½•æ¸…ç†ï¼š DçŠ¶æ€è¿›ç¨‹ä¸ºå­¤å„¿è¿›ç¨‹1æ—¶ï¼Œæ‰§è¡Œkillä¼ é€’SIGKILLä¿¡å·ï¼Œå¯ä»¥killæ‰ã€‚ DçŠ¶æ€è¿›ç¨‹ä¸ºéå­¤å„¿è¿›ç¨‹2æ—¶ï¼Œæ‰§è¡Œkillå‘é€ä»»ä½•ç±»å‹ä¿¡å·ï¼Œå‡ä¸å“åº”ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç›´æ¥kill -9æ€ä¸æ‰ï¼Œè€Œå°†è¯¥ç”¨æˆ·çš„å…¨éƒ¨è¿›ç¨‹æ€æ‰å°±å¯ä»¥ï¼Œæ˜¯å› ä¸ºå…¨éƒ¨æ€æ—¶ï¼ŒDçŠ¶æ€çš„çˆ¶è¿›ç¨‹è¢«æ€äº†ä¹‹åï¼ŒDçŠ¶æ€è¿›ç¨‹å°±å˜ä¸ºå­¤å„¿è¿›ç¨‹äº†ï¼Œä¹Ÿå°±ç¬¦åˆæƒ…å†µ2äº†ã€‚ ç³»ç»Ÿé‡å¯å¯ï¼Œå°†æ‰€æœ‰DçŠ¶æ€è¿›ç¨‹æ¸…ç†æ‰ã€‚ è„šæ³¨ï¼š å…¶çˆ¶è¿›ç¨‹PIDæ˜¯1Â &#8617;&#xfe0e; å…¶çˆ¶è¿›ç¨‹PIDä¸æ˜¯1Â &#8617;&#xfe0e; " }, { "title": "ä¸€ä¸ªæ”¶é›†LSFå¤„äºä¸åŒçŠ¶æ€jobæ•°é‡çš„collector", "url": "/posts/collector-for-lsf-jobs-in-different-status/", "categories": "icenv", "tags": "lsf", "date": "2023-10-30 14:25:00 +0000", "snippet": "åŸºäº https://github.com/icinfra/lsf_exporter æä¾›çš„LSF collectorçš„æ ·ä¾‹ï¼Œä»¥åŠEDACADç¾¤å‹å¸Œæœ›å¢åŠ å¯¹å¤„äºä¸åŒçŠ¶æ€çš„jobçš„ç»Ÿè®¡å±•ç¤ºï¼Œè¿™é‡Œæä¾›ä¸€ä¸ª// ä½œè€…: wanlinwang// æ—¥æœŸ: 2023-10-30// æè¿°: è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†Prometheusçš„collectorå®ç°ï¼Œç”¨äºæ”¶é›†LSF jobçŠ¶æ€ä¿¡æ¯ã€‚package co...", "content": "åŸºäº https://github.com/icinfra/lsf_exporter æä¾›çš„LSF collectorçš„æ ·ä¾‹ï¼Œä»¥åŠEDACADç¾¤å‹å¸Œæœ›å¢åŠ å¯¹å¤„äºä¸åŒçŠ¶æ€çš„jobçš„ç»Ÿè®¡å±•ç¤ºï¼Œè¿™é‡Œæä¾›ä¸€ä¸ª// ä½œè€…: wanlinwang// æ—¥æœŸ: 2023-10-30// æè¿°: è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†Prometheusçš„collectorå®ç°ï¼Œç”¨äºæ”¶é›†LSF jobçŠ¶æ€ä¿¡æ¯ã€‚package collectorimport (\t\"bytes\"\t\"os/exec\"\t\"strconv\"\t\"strings\"\t\"github.com/go-kit/log\"\t\"github.com/prometheus/client_golang/prometheus\")type lsfJobCollector struct {\tRunJobs *prometheus.Desc\tPendJobs *prometheus.Desc\tSuspJobs *prometheus.Desc\tlogger log.Logger}func init() {\tregisterCollector(\"lsfjobs\", defaultEnabled, NewLSFJobCollector)}func NewLSFJobCollector(logger log.Logger) (Collector, error) {\treturn &amp;lsfJobCollector{\t\tRunJobs: prometheus.NewDesc(\t\t\tprometheus.BuildFQName(namespace, \"lsfjobs\", \"run\"),\t\t\t\"The total number of RUNNING jobs.\",\t\t\tnil, nil,\t\t),\t\tPendJobs: prometheus.NewDesc(\t\t\tprometheus.BuildFQName(namespace, \"lsfjobs\", \"pend\"),\t\t\t\"The total number of PENDING jobs.\",\t\t\tnil, nil,\t\t),\t\tSuspJobs: prometheus.NewDesc(\t\t\tprometheus.BuildFQName(namespace, \"lsfjobs\", \"susp\"),\t\t\t\"The total number of SUSPENDED jobs.\",\t\t\tnil, nil,\t\t),\t\tlogger: logger,\t}, nil}func (c *lsfJobCollector) Update(ch chan&lt;- prometheus.Metric) error {\tjobStats, err := getLSFJobStats(c.logger)\tif err != nil {\t\treturn err\t}\tch &lt;- prometheus.MustNewConstMetric(c.RunJobs, prometheus.GaugeValue, float64(jobStats.Run))\tch &lt;- prometheus.MustNewConstMetric(c.PendJobs, prometheus.GaugeValue, float64(jobStats.Pend))\tch &lt;- prometheus.MustNewConstMetric(c.SuspJobs, prometheus.GaugeValue, float64(jobStats.Susp))\treturn nil}type JobStats struct {\tRun int\tPend int\tSusp int}func getLSFJobStats(logger log.Logger) (*JobStats, error) {\tcmd := exec.Command(\"bash\", \"-c\", \"bqueues\")\tvar out bytes.Buffer\tcmd.Stdout = &amp;out\terr := cmd.Run()\tif err != nil {\t\treturn nil, err\t}\tlines := strings.Split(out.String(), \"\\n\")\ttotalRun, totalPend, totalSusp := 0, 0, 0\t// ä»ç¬¬äºŒè¡Œå¼€å§‹å¤„ç†ï¼Œä»¥å¿½ç•¥ header è¡Œ\tfor i, line := range lines {\t\tif i == 0 {\t\t\tcontinue // skip header line\t\t}\t\tfields := strings.Fields(line)\t\tif len(fields) &gt;= 8 {\t\t\trun, err := strconv.Atoi(fields[9])\t\t\tif err == nil {\t\t\t\ttotalRun += run\t\t\t}\t\t\tpend, err := strconv.Atoi(fields[8])\t\t\tif err == nil {\t\t\t\ttotalPend += pend\t\t\t}\t\t\tsusp, err := strconv.Atoi(fields[10])\t\t\tif err == nil {\t\t\t\ttotalSusp += susp\t\t\t}\t\t}\t}\treturn &amp;JobStats{\t\tRun: totalRun,\t\tPend: totalPend,\t\tSusp: totalSusp,\t}, nil}å‚è€ƒèµ„æ–™https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=status-find-batch-system#bhostsbqueues9786__title__3" }, { "title": "ç¦»çº¿ç¯å¢ƒbazelæ„å»ºï¼Œå¦‚ä½•è§£å†³å¤–éƒ¨ä¾èµ–ï¼Ÿ", "url": "/posts/resolving-dependencies-during-bazel-build-in-offline-environment/", "categories": "icenv", "tags": "bazel", "date": "2023-10-30 08:53:00 +0000", "snippet": "bazelå¤–éƒ¨ä¾èµ–çš„è§£å†³æ­¥éª¤ åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œbazel fetch //... ï¼Œå°†æ‰€æœ‰å¤–éƒ¨ä¾èµ–æŠ“åˆ°æœ¬åœ°çš„cacheç›®å½•ï¼ˆ~/.cache/bazelï¼‰ä¸‹ã€‚å°†è¯¥ç›®å½•ä¼ åˆ°å†…ç½‘æœåŠ¡å™¨çš„å¯¹åº”ç›®å½•ã€‚ å¦‚https://github.com/chipsalliance/riscv-dv è¿™ä¸ªé¡¹ç›®ï¼Œå…¶remotejdk11_linuxæ²¡æœ‰è¢«æ­¥éª¤1ä¸‹è½½ï¼Œæ‰‹åŠ¨ä¸‹è½½å¥½åˆ°ä¸€ä¸ªç›®å½•/pa...", "content": "bazelå¤–éƒ¨ä¾èµ–çš„è§£å†³æ­¥éª¤ åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œbazel fetch //... ï¼Œå°†æ‰€æœ‰å¤–éƒ¨ä¾èµ–æŠ“åˆ°æœ¬åœ°çš„cacheç›®å½•ï¼ˆ~/.cache/bazelï¼‰ä¸‹ã€‚å°†è¯¥ç›®å½•ä¼ åˆ°å†…ç½‘æœåŠ¡å™¨çš„å¯¹åº”ç›®å½•ã€‚ å¦‚https://github.com/chipsalliance/riscv-dv è¿™ä¸ªé¡¹ç›®ï¼Œå…¶remotejdk11_linuxæ²¡æœ‰è¢«æ­¥éª¤1ä¸‹è½½ï¼Œæ‰‹åŠ¨ä¸‹è½½å¥½åˆ°ä¸€ä¸ªç›®å½•/path/to/dependenciesã€‚å°†è¯¥ç›®å½•ä¼ åˆ°å†…ç½‘æœåŠ¡å™¨ã€‚ åœ¨å†…ç½‘æœåŠ¡å™¨ï¼Œæ‰§è¡Œæ„å»ºå‘½ä»¤ bazel build --cxxopt='-std=c++17' --distdir=/path/to/dependencies //... è¸©è¿‡çš„å‘æ­¥éª¤1è¿˜å¯ä»¥é€ä¸ªè¯†åˆ«éœ€è¦ä¸‹è½½çš„åŒ…ï¼Œæ”¾åˆ°ä¸€ä¸ªç›®å½•ä¸‹ï¼Œç„¶ååœ¨WORKSPACEä¸­å®šä¹‰çš„ä¾èµ–çš„urlå°†äº’è”ç½‘åœ°å€ï¼ˆhttp[s]://å¼€å¤´çš„ï¼‰ä¿®æ”¹åˆ°æœ¬åœ°æ–‡ä»¶åœ°å€ï¼ˆfile://å¼€å¤´çš„ï¼‰ã€‚ä½†æ˜¯è¿™ä¸ªå¯æ“ä½œæ€§ä¸å¼ºï¼Œç›´æ¥ä¾èµ–å°šå¯è¯†åˆ«ï¼Œä½†æ˜¯é—´æ¥ä¾èµ–ä¸å¥½å¼„ï¼Œè¿˜å¾—ä¸€ä¸ªä¸ªå¼„ã€‚å‚è€ƒèµ„æ–™https://bazel.build/run/build?hl=zh-cn#fetching-external-dependencieshttps://bazel.build/reference/command-line-reference?hl=zh-cn#analyze-profile-options" }, { "title": "å°†å·²æœ‰çš„spackå®‰è£…ç›®å½•ä¸²èµ·æ¥ï¼Œå®ç°å¤ç”¨", "url": "/posts/chaining-spack-installations/", "categories": "icenv", "tags": "spack", "date": "2023-10-27 11:00:00 +0000", "snippet": "æ ¹æ®è¿™é‡Œ https://spack.readthedocs.io/en/latest/chain.html ä»‹ç»ï¼Œå¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªå·²å­˜åœ¨çš„spackå®‰è£…ç›®å½•ä¸²èµ·æ¥ï¼Œå®ç°å¤ç”¨ã€‚è¿™åœ¨spackç‰ˆæœ¬å‡çº§æ—¶éå¸¸æœ‰ç”¨ï¼Œspackåœ¨ä¸å®šæœŸåœ°è¿­ä»£æ›´æ–°ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªspackç‰ˆæœ¬é»˜è®¤å°†åŒ…å®‰è£…åœ¨å…¶ opt/spack/ ç›®å½•ä¸‹ï¼Œå¦‚æœæƒ³å‡çº§ç‰ˆæœ¬æ—¶åˆ™æ— æ³•åˆ©ç”¨æ—§ç‰ˆæœ¬å·²å®‰è£…çš„é‚£äº›åŒ…ã€‚åˆ©ç”¨è¯¥ç‰¹æ€§ï¼Œå¯ä»¥å®ç°å¯¹æ—§ç‰ˆæœ¬spa...", "content": "æ ¹æ®è¿™é‡Œ https://spack.readthedocs.io/en/latest/chain.html ä»‹ç»ï¼Œå¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªå·²å­˜åœ¨çš„spackå®‰è£…ç›®å½•ä¸²èµ·æ¥ï¼Œå®ç°å¤ç”¨ã€‚è¿™åœ¨spackç‰ˆæœ¬å‡çº§æ—¶éå¸¸æœ‰ç”¨ï¼Œspackåœ¨ä¸å®šæœŸåœ°è¿­ä»£æ›´æ–°ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªspackç‰ˆæœ¬é»˜è®¤å°†åŒ…å®‰è£…åœ¨å…¶ opt/spack/ ç›®å½•ä¸‹ï¼Œå¦‚æœæƒ³å‡çº§ç‰ˆæœ¬æ—¶åˆ™æ— æ³•åˆ©ç”¨æ—§ç‰ˆæœ¬å·²å®‰è£…çš„é‚£äº›åŒ…ã€‚åˆ©ç”¨è¯¥ç‰¹æ€§ï¼Œå¯ä»¥å®ç°å¯¹æ—§ç‰ˆæœ¬spackå·²å®‰è£…çš„åŒ…çš„å¤ç”¨ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œcat /tools/opensrc/spack-0.20.1/etc/spack/defaults/upstreams.yamlupstreams: spack-instance-1: install_tree: /tools/opensrc/spack-0.20.0/opt/spack modules: tcl: /tools/opensrc/spack-0.20.0/share/spack/modules" }, { "title": "è§£æFLEXlm lmutil lmstatè¾“å‡ºå¹¶ä¿å­˜", "url": "/posts/FLEXlm-lmutil-lmstat-output-parsing-and-storaging/", "categories": "icenv", "tags": "license", "date": "2023-10-24 15:34:00 +0000", "snippet": "æ•°æ®åº“è¡¨è®¾è®¡ user è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® username TEXT ç”¨æˆ·å server è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ ...", "content": "æ•°æ®åº“è¡¨è®¾è®¡ user è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® username TEXT ç”¨æˆ·å server è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® hostname TEXT ä¸»æœºå vendor è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® vendor_daemon_name TEXT ä¾›åº”å•†å®ˆæŠ¤è¿›ç¨‹å license_type è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® type TEXT è®¸å¯ç±»å‹ feature è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® feature_name TEXT ç‰¹æ€§åç§° license_usage_log è¡¨: åˆ—å æ•°æ®ç±»å‹ è¯´æ˜ id INTEGER PRIMARY KEY ä¸»é”® user_id INTEGER ç”¨æˆ·IDï¼Œå¤–é”® workstation_id INTEGER å·¥ä½œç«™IDï¼Œå¤–é”® sessionid INTEGER sessionidï¼Œä»æ—¥å¿—æ¡ç›®è§£æå‡ºæ¥çš„ start_time TEXT å¼€å§‹æ—¶é—´ end_time TEXT ç»“æŸæ—¶é—´ vendor_id INTEGER vendor IDï¼Œå¤–é”® lic_server_id INTEGER license server IDï¼Œå¤–é”® lic_type_id INTEGER license_type IDï¼Œå¤–é”® feature_id INTEGER feature IDï¼Œå¤–é”® additional_key TEXT éƒ¨åˆ†featureæœ‰é¢å¤–çš„key æ¯ä¸ªè¡¨æ ¼é€šè¿‡ä¸»é”®å’Œå¤–é”®ç›¸äº’å…³è”ï¼Œä¸ºæ—¥å¿—è§£æå’Œæ•°æ®å­˜å‚¨æä¾›ç»“æ„æ”¯æŒã€‚åˆå§‹åŒ–æ•°æ®åº“#!/Users/wanlinwang/spack/opt/spack/darwin-ventura-m1/apple-clang-14.0.3/python-3.10.8-b7rgkczw4yfgrkbgttbcbur3ksmwho5d/bin/python3import sqlite3conn = sqlite3.connect('license_logging.db') # åˆ›å»ºæˆ–è¿æ¥åˆ°license.dbæ•°æ®åº“cursor = conn.cursor()# åˆ›å»ºuserè¡¨cursor.execute('''CREATE TABLE IF NOT EXISTS user ( id INTEGER PRIMARY KEY, username TEXT)''')# åˆ›å»ºserverè¡¨cursor.execute('''CREATE TABLE IF NOT EXISTS server ( id INTEGER PRIMARY KEY, hostname TEXT)''')# åˆ›å»ºvendorè¡¨cursor.execute('''CREATE TABLE IF NOT EXISTS vendor ( id INTEGER PRIMARY KEY, vendor_daemon_name TEXT)''')# åˆ›å»ºlicense_typeè¡¨cursor.execute('''CREATE TABLE IF NOT EXISTS license_type ( id INTEGER PRIMARY KEY, type TEXT)''')# åˆ›å»ºfeatureè¡¨cursor.execute('''CREATE TABLE IF NOT EXISTS feature ( id INTEGER PRIMARY KEY, feature_name TEXT)''')# åˆ›å»ºlicense_usage_logè¡¨ï¼Œå®ƒå°†å…¶ä»–è¡¨å…³è”èµ·æ¥cursor.execute('''CREATE TABLE IF NOT EXISTS license_usage_log( id INTEGER PRIMARY KEY, user_id INTEGER, workstation_id INTEGER, sessionid INTEGER, start_time TEXT, end_time TEXT, vendor_id INTEGER, lic_server_id INTEGER, lic_type_id INTEGER, feature_id INTEGER, additional_key TEXT, FOREIGN KEY(user_id) REFERENCES user(id), FOREIGN KEY(workstation_id) REFERENCES server(id), FOREIGN KEY(vendor_id) REFERENCES vendor(id), FOREIGN KEY(lic_server_id) REFERENCES server(id), FOREIGN KEY(lic_type_id) REFERENCES license_type(id), FOREIGN KEY(feature_id) REFERENCES feature(id))''')conn.commit() # æäº¤åˆ›å»ºè¡¨çš„æ“ä½œconn.close() # å…³é—­æ•°æ®åº“è¿æ¥å®šæœŸæ‰§è¡Œï¼Œå­˜å…¥/æ›´æ–°æ•°æ®åº“#!/Users/wanlinwang/spack/opt/spack/darwin-ventura-m1/apple-clang-14.0.3/python-3.10.8-b7rgkczw4yfgrkbgttbcbur3ksmwho5d/bin/python3import sqlite3import subprocessimport refrom datetime import datetimeDB_PATH = 'license_logging.db'def run_lmstat(CDS_LIC_FILE): cmd = f\"lmstat -a -c {CDS_LIC_FILE}\" return subprocess.check_output(cmd, shell=True).decode('utf-8')def extract_data_from_output(output): features_data = [] lines = output.split('\\n') current_feature = None for line in lines: if 'Users of' in line: # Get the feature name current_feature = line.split()[2].strip(':') lic_type = \"unknown\" elif current_feature and current_feature in line: vendor_info = re.search(r'.*vendor:\\s*(\\w+).*', line) if vendor_info: current_vendor = vendor_info.group(1) elif \"floating license\" in line: lic_type = \"floating license\" elif current_feature and ', start' in line: # æ ¼å¼\"user_01 y260.ic.cn y260.ic.cn:1.0 Xcelium Single Core Engine (v21.000) (y162/5280 801), start Thu 10/19 9:57\" user_info = re.search(r'(\\w+)\\s+([\\w.]+)\\s+[\\w.]*:[\\d.]+\\s+[^(]*\\(([\\w.]+)\\)\\s+\\(([\\w]+)/(\\d+)\\s+(\\d+)\\),\\s*start\\s*(\\w+ \\d+/\\d+ \\d+:\\d+)', line) if user_info: start_time = datetime.strptime(user_info.group(7), \"%a %m/%d %H:%M\").replace(year=datetime.now().year) if start_time &gt; datetime.now(): start_time = start_time.replace(year=start_time.year - 1) features_data.append({ \"feature\": current_feature, \"vendor\": current_vendor, \"lic_type\": lic_type, \"username\": user_info.group(1), \"workstation\": user_info.group(2), \"version\": user_info.group(3), \"lic_server\": user_info.group(4), \"port\": user_info.group(5), \"sessionid\": user_info.group(6), \"start_time\": start_time.strftime(\"%Y-%m-%d %H:%M:%S\") }) return features_datadef get_or_insert_id(cursor, table, column, value): cursor.execute(f'SELECT id FROM {table} WHERE {column}=?', (value,)) result = cursor.fetchone() if not result: cursor.execute(f'INSERT INTO {table}({column}) VALUES (?)', (value,)) return cursor.lastrowid return result[0]def update_database(data): conn = sqlite3.connect(DB_PATH) cursor = conn.cursor() for entry in data: # Resolve foreign key dependencies user_id = get_or_insert_id(cursor, 'user', 'username', entry['username']) feature_id = get_or_insert_id(cursor, 'feature', 'feature_name', entry['feature']) vendor_id = get_or_insert_id(cursor, 'vendor', 'vendor_daemon_name', entry['vendor']) lic_type_id = get_or_insert_id(cursor, 'license_type', 'type', entry['lic_type']) workstation_id = get_or_insert_id(cursor, 'server', 'hostname', entry['workstation']) lic_server_id = get_or_insert_id(cursor, 'server', 'hostname', entry['lic_server']) # Check if entry exists in license_usage_log cursor.execute('''SELECT id FROM license_usage_log WHERE feature_id=? AND start_time=? AND sessionid=?''', (feature_id, entry[\"start_time\"], entry[\"sessionid\"])) log_id = cursor.fetchone() timestamp = datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\") if log_id: # Update end_time cursor.execute('UPDATE license_usage_log SET end_time=? WHERE id=?', (timestamp, log_id[0])) else: # Insert new entry cursor.execute(''' INSERT INTO license_usage_log(user_id, workstation_id, start_time, end_time, vendor_id, lic_server_id, lic_type_id, feature_id, sessionid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)''', (user_id, workstation_id, entry[\"start_time\"], timestamp, vendor_id, lic_server_id, lic_type_id, feature_id, entry[\"sessionid\"])) conn.commit() conn.close()if __name__ == \"__main__\": CDS_LIC_FILE=\"5280@lic-server-01:5280@lic-server-02\" all_output = run_lmstat(CDS_LIC_FILE) for output in re.split(r\"-{8,}\", all_output): data = extract_data_from_output(output) update_database(data)æµ‹è¯•æ•°æ® output = \"\"\"Users of Affirma_sim_analysis_env: (Total of 8 licenses issued; Total of 3 licenses in use) \"Affirma_sim_analysis_env\" v23.0, vendor: cdslmd, expiry: 15-jan-2024 vendor_string: UHD:PERM floating license user_01 TENCENT64.site :11 (v16.000) (lic460/5280 101), start Wed 10/18 12:37 user_02 server-0431840.ic.cn server-0431840.ic.cn:1.0 (v16.000) (lic460/5280 716), start Wed 10/18 17:24 user_03 server-2381620.ic.cn server-2381620.ic.cn:4.0 (v16.000) (lic460/5280 2123), start Thu 10/19 6:56Users of Xcelium_Single_Core: (Total of 8 licenses issued; Total of 3 licenses in use) \"Xcelium_Single_Core\" v21.000, vendor: cdslmd, expiry: 15-jan-2024 vendor_string: UHD:PERM floating license user_03 TENCENT64.site :11 Xcelium Single Core Engine (v21.000) (lic460/5280 101), start Wed 10/18 12:37 user_02 TENCENT64.site :4 Xcelium Single Core Engine (v21.000) (lic460/5280 301), start Wed 10/18 12:37 user_01 TENCENT64.site :80 Xcelium Single Core Engine (v21.000) (lic460/5280 401), start Wed 10/18 12:37\"\"\"" }, { "title": "VNCåˆ†è¾¨ç‡ä¸ç¼©æ”¾ç‡è®¾ç½®", "url": "/posts/vnc-resolution-and-scaling-factor/", "categories": "icenv", "tags": "vnc", "date": "2023-10-23 04:34:00 +0000", "snippet": "åœ¨4kæ˜¾ç¤ºå™¨åŸæ ·4kæ˜¾ç¤ºï¼šå›¾ç‰‡ä¸¢å¤±ã€‚ä¿®æ”¹åˆ°2kæ˜¾ç¤ºï¼šå›¾ç‰‡ä¸¢å¤±ã€‚", "content": "åœ¨4kæ˜¾ç¤ºå™¨åŸæ ·4kæ˜¾ç¤ºï¼šå›¾ç‰‡ä¸¢å¤±ã€‚ä¿®æ”¹åˆ°2kæ˜¾ç¤ºï¼šå›¾ç‰‡ä¸¢å¤±ã€‚" }, { "title": "é¼ æ ‡æ»šè½®åˆ‡æ¢xfce4 workspace", "url": "/posts/mouse-wheel-to-switch-xfce4-workspaces/", "categories": "icenv", "tags": "xfce4", "date": "2023-10-23 04:34:00 +0000", "snippet": "åœ¨xfce4æ¡Œé¢ï¼Œé¼ æ ‡æ»šè½®ç¦æ­¢åˆ‡æ¢workspaceï¼šå‘½ä»¤è¡Œè®¾ç½®$ xfconf-query -c xfwm4 -l | grep workspace/general/cycle_workspaces/general/scroll_workspaces/general/toggle_workspaces/general/workspaces_count/general/workspaces_...", "content": "åœ¨xfce4æ¡Œé¢ï¼Œé¼ æ ‡æ»šè½®ç¦æ­¢åˆ‡æ¢workspaceï¼šå‘½ä»¤è¡Œè®¾ç½®$ xfconf-query -c xfwm4 -l | grep workspace/general/cycle_workspaces/general/scroll_workspaces/general/toggle_workspaces/general/workspaces_count/general/workspaces_names/general/wrap_workspaces$ xfconf-query -c xfwm4 -p /general/scroll_workspacestrue$ xfconf-query -c xfwm4 -p /general/scroll_workspaces -s falseå›¾å½¢åŒ–è®¾ç½®ç•¥ã€‚" }, { "title": "LicenseæŠ¥å‘Šçš„æ–¹æ¡ˆè°ƒç ”ä¸æ€è·¯", "url": "/posts/license-report/", "categories": "icenv", "tags": "license", "date": "2023-10-23 04:34:00 +0000", "snippet": "https://www.openlm.com/blog/application-note-1030-openlm-license-usage-monitoring-according-to-projects-v1-8/ç”±äºVENDOR Daemonå†™çš„REPORT LOGæ˜¯åŠ å¯†çš„ï¼Œæ— æ³•è¢«é™¤FLEXnet Managerä¹‹å¤–çš„å…¶å®ƒè½¯ä»¶æ‰“å¼€ã€‚å› æ­¤ï¼ŒOPENLMçš„é¡¹ç›®è´¹ç”¨ç»Ÿè®¡ï¼Œä¸æ˜¯é€šè¿‡è¯»å–REPO...", "content": "https://www.openlm.com/blog/application-note-1030-openlm-license-usage-monitoring-according-to-projects-v1-8/ç”±äºVENDOR Daemonå†™çš„REPORT LOGæ˜¯åŠ å¯†çš„ï¼Œæ— æ³•è¢«é™¤FLEXnet Managerä¹‹å¤–çš„å…¶å®ƒè½¯ä»¶æ‰“å¼€ã€‚å› æ­¤ï¼ŒOPENLMçš„é¡¹ç›®è´¹ç”¨ç»Ÿè®¡ï¼Œä¸æ˜¯é€šè¿‡è¯»å–REPORT LOGæ¥è·å¾—çš„ï¼Œè€Œæ˜¯é€šè¿‡å…¶å®ƒå°æŠ€å·§è·å¾—çš„ï¼š é€šè¿‡ç»™ç”¨æˆ·assignå”¯ä¸€çš„é¡¹ç›®ï¼› é€šè¿‡åœ¨ç”¨æˆ·çš„workstationéƒ¨ç½²OpenLM Agentè·å–ï¼Œå®šæœŸæˆ–è€…è§¦å‘å¼å¼¹çª—è®©ç”¨æˆ·é€‰æ‹©å½“å‰æ­£åœ¨å·¥ä½œçš„projectæ˜¯ä»€ä¹ˆï¼› åå‘å…¼å®¹LM_PROJECTå˜é‡æ¥è·å–é¡¹ç›®ä¿¡æ¯ï¼Œè¿™ä¸ªä¹Ÿæ˜¯éœ€è¦ä»¥æŸç§æ–¹å¼ï¼ˆrootéƒ¨ç½²åœ¨æ¯å°workstationçš„OpenLM Agentï¼Ÿï¼‰å°†ç”¨æˆ·ç¯å¢ƒä¸­çš„LM_PROJECTå˜é‡ä»¥æ—¶åºçš„æ–¹å¼è®°å½•ä¸‹æ¥ï¼Œä¾›ç”ŸæˆæŠ¥å‘Šæ—¶ä½¿ç”¨ã€‚" }, { "title": "nfs v4çš„é—®é¢˜", "url": "/posts/nfs-v4-problem/", "categories": "icenv", "tags": "nfs", "date": "2023-10-18 11:49:00 +0000", "snippet": "ç”±äºnfs v4çš„misbehaviorå¯¼è‡´NFS Store Pool for Session exhausted.https://kb.netapp.com/onprem/ontap/da/NAS/Unable_to_mount_volume_using_NFSv4.1_due_to_NFS_Store_Pool_for_Session_exhaustedhttps://kb.netap...", "content": "ç”±äºnfs v4çš„misbehaviorå¯¼è‡´NFS Store Pool for Session exhausted.https://kb.netapp.com/onprem/ontap/da/NAS/Unable_to_mount_volume_using_NFSv4.1_due_to_NFS_Store_Pool_for_Session_exhaustedhttps://kb.netapp.com/onprem/ontap/da/NAS/Unable_to_mount_volume_using_NFSv4.1_due_to_NFS_Store_Pool_for_Session_exhausted" }, { "title": "svn authzæ–‡ä»¶çš„é€šé…ç¬¦", "url": "/posts/svn-authz-wildcard/", "categories": "icenv", "tags": "", "date": "2023-10-16 15:00:00 +0000", "snippet": "åœ¨æ–°ç‰ˆæœ¬subversionçš„é€šé…åŒ¹é…ä¸ç²¾ç¡®åŒ¹é…ï¼Œè·¯å¾„æœ‰é‡å æ—¶ï¼Œé¡ºåºåº”ä¸ºâ€”â€”é€šé…åœ¨å‰ï¼Œç²¾ç¡®é…ç½®åœ¨åã€‚å‚è€ƒæ–‡æ¡£ï¼šhttps://subversion.apache.org/docs/release-notes/1.10.html#authzperf", "content": "åœ¨æ–°ç‰ˆæœ¬subversionçš„é€šé…åŒ¹é…ä¸ç²¾ç¡®åŒ¹é…ï¼Œè·¯å¾„æœ‰é‡å æ—¶ï¼Œé¡ºåºåº”ä¸ºâ€”â€”é€šé…åœ¨å‰ï¼Œç²¾ç¡®é…ç½®åœ¨åã€‚å‚è€ƒæ–‡æ¡£ï¼šhttps://subversion.apache.org/docs/release-notes/1.10.html#authzperf" }, { "title": "Licenseç®¡ç†å™¨åº”ç”¨", "url": "/posts/license-manager-app/", "categories": "icenv", "tags": "license", "date": "2023-10-16 15:00:00 +0000", "snippet": "è¯»å–Licenseæ–‡ä»¶ï¼Œå¹¶å­˜å…¥sqlite3æ•°æ®åº“ã€‚#!/Users/wanlinwang/spack/opt/spack/darwin-ventura-m1/apple-clang-14.0.3/python-3.10.8-b7rgkczw4yfgrkbgttbcbur3ksmwho5d/bin/python3import sqlite3import reimport argparsede...", "content": "è¯»å–Licenseæ–‡ä»¶ï¼Œå¹¶å­˜å…¥sqlite3æ•°æ®åº“ã€‚#!/Users/wanlinwang/spack/opt/spack/darwin-ventura-m1/apple-clang-14.0.3/python-3.10.8-b7rgkczw4yfgrkbgttbcbur3ksmwho5d/bin/python3import sqlite3import reimport argparsedef parse_license_file(filename): with open(filename, 'r') as f: content = f.read() start_index = content.find(\"## PRODUCT TO FEATURE MAPPING\") products_data = content[start_index:].split(\"# Product Id :\") products = [] for product_data in products_data[1:]: product = {} product['id'] = product_data.split(\",\")[0].strip() product['name'] = re.search(r'Product Name: (.+)', product_data).group(1).strip() product['version'] = re.search(r'\\[Version: (.+?)\\]', product_data).group(1).strip() product['features'] = re.findall(r'Feature: (.+?)\\s*\\[', product_data) product['dates'] = re.findall(r'Start Date: (.+?) Exp Date: (.+?)\\s*Product Qty: (\\d+)', product_data) products.append(product) return productsdef store_to_db(products, filename): conn = sqlite3.connect('license.db') cursor = conn.cursor() # Create tables cursor.execute('''CREATE TABLE IF NOT EXISTS LicenseFiles (LicenseFileId INTEGER PRIMARY KEY AUTOINCREMENT, FileName TEXT UNIQUE, hostname TEXT, hostid TEXT, lmgrd_port TEXT, vendor_daemon_port TEXT, lmgrd_file_id INTEGER, vendor_daemon_file_id INTEGER, options_file_id INTEGER)''') cursor.execute(\"INSERT OR IGNORE INTO LicenseFiles (FileName) VALUES (?)\", (filename,)) cursor.execute(\"SELECT LicenseFileId FROM LicenseFiles WHERE FileName=?\", (filename,)) license_file_id = cursor.fetchone()[0] cursor.execute('''CREATE TABLE IF NOT EXISTS LicenseRelatedFiles (ExecutableFileId INTEGER PRIMARY KEY AUTOINCREMENT, FileName TEXT UNIQUE)''') cursor.execute('''CREATE TABLE IF NOT EXISTS Features (FeatureId INTEGER PRIMARY KEY AUTOINCREMENT, FeatureName TEXT UNIQUE)''') cursor.execute('''CREATE TABLE IF NOT EXISTS Products (ProductId TEXT PRIMARY KEY, ProductName TEXT)''') cursor.execute('''CREATE TABLE IF NOT EXISTS ProductFeatureRelation (RelationId INTEGER PRIMARY KEY AUTOINCREMENT, ProductId TEXT, FeatureId INTEGER, FOREIGN KEY(ProductId) REFERENCES Products(ProductId), FOREIGN KEY(FeatureId) REFERENCES Features(FeatureId))''') cursor.execute('''CREATE TABLE IF NOT EXISTS ProductDates (DateId INTEGER PRIMARY KEY AUTOINCREMENT, ProductId TEXT, StartDate DATE, EndDate DATE, Version TEXT, Quantity INTEGER, LicenseFileId INTEGER, FOREIGN KEY(ProductId) REFERENCES Products(ProductId), FOREIGN KEY(LicenseFileId) REFERENCES LicenseFiles(LicenseFileId))''') for product in products: cursor.execute(\"INSERT OR REPLACE INTO Products (ProductId, ProductName) VALUES (?, ?)\", (product['id'], product['name'])) for feature in product['features']: cursor.execute(\"INSERT OR IGNORE INTO Features (FeatureName) VALUES (?)\", (feature,)) cursor.execute(\"SELECT FeatureId FROM Features WHERE FeatureName=?\", (feature,)) feature_id = cursor.fetchone()[0] cursor.execute(\"SELECT 1 FROM ProductFeatureRelation WHERE ProductId=? AND FeatureId=?\", (product['id'], feature_id)) if not cursor.fetchone(): cursor.execute(\"INSERT INTO ProductFeatureRelation (ProductId, FeatureId) VALUES (?, ?)\", (product['id'], feature_id)) for start_date, end_date, quantity in product['dates']: cursor.execute(\"SELECT 1 FROM ProductDates WHERE ProductId=? AND StartDate=? AND EndDate=? AND Version=? AND LicenseFileId=?\", (product['id'], start_date, end_date, product['version'], license_file_id)) if not cursor.fetchone(): cursor.execute(\"INSERT INTO ProductDates (ProductId, StartDate, EndDate, Version, Quantity, LicenseFileId) VALUES (?, ?, ?, ?, ?, ?)\", (product['id'], start_date, end_date, product['version'], quantity, license_file_id)) conn.commit() conn.close()def main(): parser = argparse.ArgumentParser(description=\"Process License Files and Store to Database\") parser.add_argument('license_files', metavar='N', type=str, nargs='+', help='License file(s) to process') args = parser.parse_args() for filename in args.license_files: products = parse_license_file(filename) store_to_db(products, filename)if __name__ == \"__main__\": main()è¯»å–sqlite3æ•°æ®åº“ï¼Œå¹¶æ˜¾ç¤ºåœ¨å®¢æˆ·ç«¯å†…ï¼Œ#!/home/centos/spack/opt/spack/linux-centos7-x86_64_v4/gcc-13.2.0/python-3.10.10-64a4t27o3c2cnk23lenooydikdsiqzgv/bin/python3import sqlite3import tkinter as tkfrom tkinter import ttkfrom contextlib import contextmanagerimport tkinter.messageboxfrom datetime import datetime, timedeltafrom collections import defaultdictfrom tkinter import filedialogimport openpyxldef get_row_color(start_date, end_date): current_date = datetime.now().date() end_date_obj = datetime.strptime(end_date, \"%d-%b-%Y\").date() if end_date_obj &lt; current_date: return \"light gray\" elif current_date &lt;= end_date_obj &lt;= (current_date + timedelta(days=14)): return \"red\" else: return \"black\"@contextmanagerdef get_db_connection(): conn = sqlite3.connect('license.db') try: yield conn finally: conn.close()def execute_query(query, params=()): with get_db_connection() as conn: cursor = conn.cursor() cursor.execute(query, params) return cursor.fetchall()def execute_commit(query, params=()): with get_db_connection() as conn: cursor = conn.cursor() cursor.execute(query, params) conn.commit()def retrieve_license_info_by_feature(feature_name): query = \"\"\" SELECT pd.StartDate, pd.EndDate, pd.Quantity, lf.FileName, p.ProductId FROM ProductDates pd JOIN Products p ON pd.ProductId = p.ProductId JOIN ProductFeatureRelation pfr ON p.ProductId = pfr.ProductId JOIN Features f ON pfr.FeatureId = f.FeatureId JOIN LicenseFiles lf ON pd.LicenseFileId = lf.LicenseFileId WHERE f.FeatureName = ? \"\"\" return execute_query(query, (feature_name,))def retrieve_license_info_by_product(product_id): query = \"\"\" SELECT pd.StartDate, pd.EndDate, pd.Quantity, lf.FileName, p.ProductId FROM ProductDates pd JOIN Products p ON pd.ProductId = p.ProductId JOIN LicenseFiles lf ON pd.LicenseFileId = lf.LicenseFileId WHERE p.ProductId = ? \"\"\" return execute_query(query, (product_id,))def get_all_features(): return [row[0] for row in execute_query(\"SELECT FeatureName FROM Features\")]def get_all_products(): return [row[0] for row in execute_query(\"SELECT ProductId FROM Products\")]def get_all_license_files(): return [row[0] for row in execute_query(\"SELECT FileName FROM LicenseFiles\")]def get_all_license_related_files(): return [row[0] for row in execute_query(\"SELECT FileName FROM LicenseRelatedFiles\")]def on_search_by_feature(): tree_by_feature.delete(*tree_by_feature.get_children()) # Clear the treeview feature_name = feature_name_combobox.get() results = retrieve_license_info_by_feature(feature_name) sorted_results = sorted(results, key=lambda x: datetime.strptime(x[1], \"%d-%b-%Y\")) for result in sorted_results: color = get_row_color(result[0], result[1]) tree_by_feature.insert(\"\", \"end\", values=result, tags=(color,)) tree_by_feature.tag_configure(color, foreground=color)def on_search_by_product(): tree_by_product.delete(*tree_by_product.get_children()) # Clear the treeview product_id = product_id_combobox.get() results = retrieve_license_info_by_product(product_id) sorted_results = sorted(results, key=lambda x: datetime.strptime(x[1], \"%d-%b-%Y\")) for result in sorted_results: color = get_row_color(result[0], result[1]) tree_by_product.insert(\"\", \"end\", values=result, tags=(color,)) tree_by_product.tag_configure(color, foreground=color)def load_license_info(event): data = execute_query(\"SELECT hostname, hostid, lmgrd_port, vendor_daemon_port, lmgrd_file_id, vendor_daemon_file_id, options_file_id FROM LicenseFiles WHERE FileName=?\", (license_file_combobox.get(),)) if data: data = data[0] hostname_entry.delete(0, tk.END) hostid_entry.delete(0, tk.END) lmgrd_port_entry.delete(0, tk.END) vendor_daemon_port_entry.delete(0, tk.END) # Clear all entries and comboboxes first hostname_entry.delete(0, tk.END) hostid_entry.delete(0, tk.END) lmgrd_port_entry.delete(0, tk.END) vendor_daemon_port_entry.delete(0, tk.END) lmgrd_file_combobox.set('') vendor_daemon_file_combobox.set('') options_file_combobox.set('') if data: if data[0]: hostname_entry.insert(0, data[0]) if data[1]: hostid_entry.insert(0, data[1]) if data[2]: lmgrd_port_entry.insert(0, data[2]) if data[3]: vendor_daemon_port_entry.insert(0, data[3]) if data[4]: lmgrd_file = execute_query(\"SELECT FileName FROM LicenseRelatedFiles WHERE ExecutableFileId=?\", (data[4],)) if lmgrd_file: lmgrd_file = lmgrd_file[0] lmgrd_file_combobox.set(lmgrd_file) if data[5]: vendor_daemon_file = execute_query(\"SELECT FileName FROM LicenseRelatedFiles WHERE ExecutableFileId=?\", (data[5],)) if vendor_daemon_file: vendor_daemon_file = vendor_daemon_file[0] vendor_daemon_file_combobox.set(vendor_daemon_file) if data[6]: options_file = execute_query(\"SELECT FileName FROM LicenseRelatedFiles WHERE ExecutableFileId=?\", (data[6],)) if options_file: options_file = options_file[0] options_file_combobox.set(options_file) if (not hostname_entry.get() and not lmgrd_port_entry.get() and not vendor_daemon_port_entry.get() and not lmgrd_file_combobox.get() and not vendor_daemon_file_combobox.get() and not options_file_combobox.get()): copy_from_prev_button['state'] = tk.NORMAL else: copy_from_prev_button['state'] = tk.DISABLEDdef check_inputs_filled(): # Check if all required fields are filled if (license_file_combobox.get() and hostname_entry.get() and hostid_entry.get() and lmgrd_port_entry.get() and lmgrd_file_combobox.get() and vendor_daemon_file_combobox.get()): save_button['state'] = tk.NORMAL modify_button['state'] = tk.NORMAL else: save_button['state'] = tk.DISABLED modify_button['state'] = tk.DISABLEDdef copy_from_previous_file(): license_file_name = license_file_combobox.get() if not license_file_name: tkinter.messagebox.showerror(\"Error\", \"Please select a License File first.\") return # Extract hostid from the license file's filename try: hostid = license_file_name.split('_')[2] except IndexError: tkinter.messagebox.showerror(\"Error\", \"Invalid License File name format.\") return data = execute_query(\"SELECT hostname, lmgrd_port, vendor_daemon_port, lmgrd_file_id, vendor_daemon_file_id, options_file_id FROM LicenseFiles WHERE hostid=? ORDER BY LicenseFileId DESC LIMIT 1\", (hostid,)) if data: data = data[0] else: tkinter.messagebox.showinfo(\"Info\", \"No previous data found for the given Host ID.\") return hostname, lmgrd_port, vendor_daemon_port, lmgrd_file_id, vendor_daemon_file_id, options_file_id = data # Populate the fields hostname_entry.delete(0, tk.END) hostname_entry.insert(0, hostname) hostid_entry.delete(0, tk.END) hostid_entry.insert(0, hostid) lmgrd_port_entry.delete(0, tk.END) lmgrd_port_entry.insert(0, lmgrd_port) vendor_daemon_port_entry.delete(0, tk.END) vendor_daemon_port_entry.insert(0, vendor_daemon_port) # Fetch filenames for the file IDs lmgrd_file = execute_query(\"SELECT FileName FROM LicenseRelatedFiles WHERE ExecutableFileId=?\", (lmgrd_file_id,)) if lmgrd_file: lmgrd_file = lmgrd_file[0] lmgrd_file_combobox.set(lmgrd_file) vendor_daemon_file = execute_query(\"SELECT FileName FROM LicenseRelatedFiles WHERE ExecutableFileId=?\", (vendor_daemon_file_id,)) if vendor_daemon_file: vendor_daemon_file = vendor_daemon_file[0] vendor_daemon_file_combobox.set(vendor_daemon_file) if options_file_id: options_file = execute_query(\"SELECT FileName FROM LicenseRelatedFiles WHERE ExecutableFileId=?\", (options_file_id,)) if options_file: options_file = options_file[0] options_file_combobox.set(options_file) # Enable the \"Copy From Previous File\" button only when the other fields are empty if not hostname_entry.get() and not lmgrd_port_entry.get() and not vendor_daemon_port_entry.get(): copy_from_prev_button['state'] = tk.NORMAL else: copy_from_prev_button['state'] = tk.DISABLEDdef save_license_info(): license_file_id = execute_query(\"SELECT LicenseFileId FROM LicenseFiles WHERE FileName=?\", (license_file_combobox.get(),)) if license_file_id: license_file_id = license_file_id[0] lmgrd_file = lmgrd_file_combobox.get() vendor_daemon_file = vendor_daemon_file_combobox.get() options_file = options_file_combobox.get() update_sub_str_list = [] insert_sub_str_list = [] value_sub_str_list = [] if lmgrd_file: execute_commit(\"INSERT OR IGNORE INTO LicenseRelatedFiles (FileName) VALUES (?)\", (lmgrd_file,)) lmgrd_file_id = execute_query(\"SELECT ExecutableFileId FROM LicenseRelatedFiles WHERE FileName=?\", (lmgrd_file,)) if lmgrd_file_id: lmgrd_file_id = lmgrd_file_id[0][0] update_sub_str_list.append(\"lmgrd_file_id=?\") insert_sub_str_list.append(\"lmgrd_file_id\") value_sub_str_list.append(lmgrd_file_id) if vendor_daemon_file: execute_commit(\"INSERT OR IGNORE INTO LicenseRelatedFiles (FileName) VALUES (?)\", (vendor_daemon_file,)) vendor_daemon_file_id = execute_query(\"SELECT ExecutableFileId FROM LicenseRelatedFiles WHERE FileName=?\", (vendor_daemon_file,)) if vendor_daemon_file_id: vendor_daemon_file_id = vendor_daemon_file_id[0][0] update_sub_str_list.append(\"vendor_daemon_file_id=?\") insert_sub_str_list.append(\"vendor_daemon_file_id\") value_sub_str_list.append(vendor_daemon_file_id) if options_file: # Check if options_file exists. execute_commit(\"INSERT OR IGNORE INTO LicenseRelatedFiles (FileName) VALUES (?)\", (options_file,)) options_file_id = execute_query(\"SELECT ExecutableFileId FROM LicenseRelatedFiles WHERE FileName=?\", (options_file,)) if options_file_id: options_file_id = options_file_id[0][0] update_sub_str_list.append(\"options_file_id=?\") insert_sub_str_list.append(\"options_file_id\") value_sub_str_list.append(options_file_id) if license_file_id: # Update the existing record #cursor.execute(\"UPDATE LicenseFiles SET hostname=?, hostid=?, lmgrd_port=?, vendor_daemon_port=?, lmgrd_file_id=?, vendor_daemon_file_id=?, options_file_id=? WHERE LicenseFileId=?\", # (hostname_entry.get(), hostid_entry.get(), lmgrd_port_entry.get(), vendor_daemon_port_entry.get(), lmgrd_file_id, vendor_daemon_file_id, options_file_id, license_file_id[0])) if lmgrd_file or vendor_daemon_file or options_file: param = ( hostname_entry.get(), hostid_entry.get(), lmgrd_port_entry.get(), vendor_daemon_port_entry.get(), *value_sub_str_list, license_file_id[0] ) execute_commit(f\"UPDATE LicenseFiles SET hostname=?, hostid=?, lmgrd_port=?, vendor_daemon_port=?, {','.join(update_sub_str_list)} WHERE LicenseFileId=?\", param) else: execute_commit(\"UPDATE LicenseFiles SET hostname=?, hostid=?, lmgrd_port=?, vendor_daemon_port=? WHERE LicenseFileId=?\", (hostname_entry.get(), hostid_entry.get(), lmgrd_port_entry.get(), vendor_daemon_port_entry.get(), license_file_id[0])) else: # Insert a new record #cursor.execute(\"INSERT INTO LicenseFiles (FileName, hostname, hostid, lmgrd_port, vendor_daemon_port, lmgrd_file_id, vendor_daemon_file_id, options_file_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?)\", # (license_file_combobox.get(), hostname_entry.get(), hostid_entry.get(), lmgrd_port_entry.get(), vendor_daemon_port_entry.get(), lmgrd_file_id, vendor_daemon_file_id, options_file_id)) if lmgrd_file or vendor_daemon_file or options_file: param = ( license_file_combobox.get(), hostname_entry.get(), hostid_entry.get(), lmgrd_port_entry.get(), vendor_daemon_port_entry.get(), *value_sub_str_list ) execute_commit(f\"INSERT INTO LicenseFiles (FileName, hostname, hostid, lmgrd_port, vendor_daemon_port, {','.join(insert_sub_str_list)}) VALUES (?, ?, ?, ?, ?, {','.join(['?'] * len(insert_sub_str_list))})\", param) else: execute_commit(\"INSERT INTO LicenseFiles (FileName, hostname, hostid, lmgrd_port, vendor_daemon_port, lmgrd_file_id, vendor_daemon_file_id, options_file_id) VALUES (?, ?, ?, ?, ?)\", (license_file_combobox.get(), hostname_entry.get(), hostid_entry.get(), lmgrd_port_entry.get(), vendor_daemon_port_entry.get())) #conn.commit() # Disable \"Save\" button after saved. save_button['state'] = tk.DISABLED tk.messagebox.showinfo(\"Info\", \"License file config saved successfully!\")app = tk.Tk()app.title(\"License Manager\")notebook = ttk.Notebook(app)notebook.pack(pady=10, padx=10, expand=True, fill='both')# Tab for Feature Nametab_feature = ttk.Frame(notebook)notebook.add(tab_feature, text=\"By Feature Name\")feature_names = get_all_features()ttk.Label(tab_feature, text=\"Feature Name:\").grid(row=0, column=0, sticky=tk.W, pady=5, padx=5)feature_name_combobox = ttk.Combobox(tab_feature, values=feature_names, width=30)feature_name_combobox.grid(row=0, column=1, pady=5, padx=5)ttk.Button(tab_feature, text=\"Search\", command=on_search_by_feature).grid(row=0, column=2, pady=5, padx=5)tree_by_feature = ttk.Treeview(tab_feature, columns=(\"StartDate\", \"EndDate\", \"Quantity\", \"FileName\", \"ProductId\"), show=\"headings\")tree_by_feature.heading(\"StartDate\", text=\"Start Date\")tree_by_feature.heading(\"EndDate\", text=\"End Date\")tree_by_feature.heading(\"Quantity\", text=\"Quantity\")tree_by_feature.heading(\"FileName\", text=\"License File\")tree_by_feature.heading(\"ProductId\", text=\"Product Id\")tree_by_feature.grid(row=1, column=0, columnspan=3, pady=10, padx=5, sticky=(tk.W, tk.E))# Tab for Product Idtab_product = ttk.Frame(notebook)notebook.add(tab_product, text=\"By Product Id\")product_ids = get_all_products()ttk.Label(tab_product, text=\"Product Id:\").grid(row=0, column=0, sticky=tk.W, pady=5, padx=5)product_id_combobox = ttk.Combobox(tab_product, values=product_ids, width=30)product_id_combobox.grid(row=0, column=1, pady=5, padx=5)ttk.Button(tab_product, text=\"Search\", command=on_search_by_product).grid(row=0, column=2, pady=5, padx=5)tree_by_product = ttk.Treeview(tab_product, columns=(\"StartDate\", \"EndDate\", \"Quantity\", \"FileName\", \"ProductId\"), show=\"headings\")tree_by_product.heading(\"StartDate\", text=\"Start Date\")tree_by_product.heading(\"EndDate\", text=\"End Date\")tree_by_product.heading(\"Quantity\", text=\"Quantity\")tree_by_product.heading(\"FileName\", text=\"License File\")tree_by_product.heading(\"ProductId\", text=\"Product Id\")tree_by_product.grid(row=1, column=0, columnspan=3, pady=10, padx=5, sticky=(tk.W, tk.E))# Tab for License Settingstab_settings = ttk.Frame(notebook)notebook.add(tab_settings, text=\"License Settings\")license_files = get_all_license_files()ttk.Label(tab_settings, text=\"License File:\").grid(row=0, column=0, sticky=tk.W, pady=5, padx=5)license_file_combobox = ttk.Combobox(tab_settings, values=license_files, width=64)license_file_combobox.grid(row=0, column=1, pady=5, padx=5)license_file_combobox.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", load_license_info)ttk.Label(tab_settings, text=\"Hostname:\").grid(row=1, column=0, sticky=tk.W, pady=5, padx=5)hostname_entry = ttk.Entry(tab_settings, width=64)hostname_entry.grid(row=1, column=1, pady=5, padx=5)ttk.Label(tab_settings, text=\"Host ID:\").grid(row=2, column=0, sticky=tk.W, pady=5, padx=5)hostid_entry = ttk.Entry(tab_settings, width=64)hostid_entry.grid(row=2, column=1, pady=5, padx=5)ttk.Label(tab_settings, text=\"Lmgrd Port:\").grid(row=3, column=0, sticky=tk.W, pady=5, padx=5)lmgrd_port_entry = ttk.Entry(tab_settings, width=64)lmgrd_port_entry.grid(row=3, column=1, pady=5, padx=5)ttk.Label(tab_settings, text=\"Vendor Daemon Port:\").grid(row=4, column=0, sticky=tk.W, pady=5, padx=5)vendor_daemon_port_entry = ttk.Entry(tab_settings, width=64)vendor_daemon_port_entry.grid(row=4, column=1, pady=5, padx=5)license_related_files = get_all_license_related_files()ttk.Label(tab_settings, text=\"LMGRD FILE:\").grid(row=5, column=0, sticky=tk.W, pady=5, padx=5)lmgrd_file_combobox = ttk.Combobox(tab_settings, values=license_related_files, width=64)lmgrd_file_combobox.grid(row=5, column=1, pady=5, padx=5)ttk.Label(tab_settings, text=\"VENDOR DAEMON FILE:\").grid(row=6, column=0, sticky=tk.W, pady=5, padx=5)vendor_daemon_file_combobox = ttk.Combobox(tab_settings, values=license_related_files, width=64)vendor_daemon_file_combobox.grid(row=6, column=1, pady=5, padx=5)ttk.Label(tab_settings, text=\"OPTIONS FILE:\").grid(row=7, column=0, sticky=tk.W, pady=5, padx=5)options_file_combobox = ttk.Combobox(tab_settings, values=license_related_files, width=64)options_file_combobox.grid(row=7, column=1, pady=5, padx=5)# Bind the check_inputs_filled function to the inputshostname_entry.bind(\"&lt;KeyRelease&gt;\", lambda e: check_inputs_filled())hostid_entry.bind(\"&lt;KeyRelease&gt;\", lambda e: check_inputs_filled())lmgrd_port_entry.bind(\"&lt;KeyRelease&gt;\", lambda e: check_inputs_filled())vendor_daemon_port_entry.bind(\"&lt;KeyRelease&gt;\", lambda e: check_inputs_filled())lmgrd_file_combobox.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", lambda e: check_inputs_filled())vendor_daemon_file_combobox.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", lambda e: check_inputs_filled())options_file_combobox.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\", lambda e: check_inputs_filled())save_button = ttk.Button(tab_settings, text=\"Save to DB\", command=save_license_info, state=tk.DISABLED)save_button.grid(row=8, column=1, pady=10, padx=5, sticky=tk.E)copy_from_prev_button = ttk.Button(tab_settings, text=\"Copy From Previous File\", command=copy_from_previous_file, state=tk.DISABLED)copy_from_prev_button.grid(row=9, column=1, pady=10, padx=5, sticky=tk.W)def modify_license_file(): license_file = license_file_combobox.get() hostname = hostname_entry.get() hostid = hostid_entry.get() lmgrd_port = lmgrd_port_entry.get() vendor_daemon_port = vendor_daemon_port_entry.get() vendor_daemon_file = vendor_daemon_file_combobox.get() options_file = options_file_combobox.get() with open(license_file, 'r') as f: lines = f.readlines() modified = False for i, line in enumerate(lines): if line.startswith(\"SERVER\"): if line != f\"SERVER {hostname} {hostid} {lmgrd_port}\\n\": lines[i] = f\"SERVER {hostname} {hostid} {lmgrd_port}\\n\" modified = True elif line.startswith(\"DAEMON\"): daemon_line = f\"DAEMON cdslmd {vendor_daemon_file}\" if options_file: daemon_line = daemon_line + f\" OPTIONS={options_file}\" if vendor_daemon_port: daemon_line = daemon_line + f\" PORT={vendor_daemon_port}\" if options_file and line != f\"{daemon_line}\\n\": lines[i] = f\"{daemon_line}\\n\" modified = True if modified: with open(license_file, 'w') as f: f.writelines(lines) tk.messagebox.showinfo(\"Info\", \"License file modified successfully!\") else: tk.messagebox.showinfo(\"Info\", \"License file is already up-to-date!\") # Disable modify_button modify_button['state'] = tk.DISABLED# åœ¨License Settings tabä¸­æ·»åŠ ModifyæŒ‰é’®modify_button = ttk.Button(tab_settings, text=\"Modify Lic File\", command=modify_license_file, state=tk.DISABLED)modify_button.grid(row=9, column=1, pady=10, padx=5, sticky=tk.E)# æ¯”è¾ƒä¸¤ä¸ªLicenseæ–‡ä»¶å·®å¼‚def compare_license_files(): file1 = license_file_combobox1.get() file2 = license_file_combobox2.get() if not file1 or not file2: tk.messagebox.showerror(\"Error\", \"Please select both license files.\") return data1 = retrieve_license_info_by_file(file1) data2 = retrieve_license_info_by_file(file2) # Convert data to a dictionary with product_id as key and list of date ranges as values dict1 = defaultdict(list) dict2 = defaultdict(list) for item in data1: dict1[item[4]].append(item) for item in data2: dict2[item[4]].append(item) compare_tree.delete(*compare_tree.get_children()) # Clear the treeview for product_id, date_ranges1 in dict1.items(): if product_id in dict2: date_ranges2 = dict2[product_id] for range1 in date_ranges1: for range2 in date_ranges2: if range1 != range2: compare_tree.insert(\"\", \"end\", values=(product_id, range1[2], range2[2], range1[0] + \" to \" + range1[1], range2[0] + \" to \" + range2[1])) del dict2[product_id] else: for range1 in date_ranges1: compare_tree.insert(\"\", \"end\", values=(product_id, range1[2], \"Not in File 2\", range1[0] + \" to \" + range1[1], \"Not in File 2\")) for product_id, date_ranges2 in dict2.items(): for range2 in date_ranges2: compare_tree.insert(\"\", \"end\", values=(product_id, \"Not in File 1\", range2[2], \"Not in File 1\", range2[0] + \" to \" + range2[1]))def retrieve_license_info_by_file(file_name): query = \"\"\" SELECT pd.StartDate, pd.EndDate, pd.Quantity, lf.FileName, p.ProductId FROM ProductDates pd JOIN Products p ON pd.ProductId = p.ProductId JOIN LicenseFiles lf ON pd.LicenseFileId = lf.LicenseFileId WHERE lf.FileName = ? \"\"\" return execute_query(query, (file_name,))# Code for New Tab for Comparing License Filestab_compare = ttk.Frame(notebook)notebook.add(tab_compare, text=\"Compare Lic Files\")license_files = get_all_license_files()ttk.Label(tab_compare, text=\"License File 1:\").grid(row=0, column=0, sticky=tk.W, pady=5, padx=5)license_file_combobox1 = ttk.Combobox(tab_compare, values=license_files, width=30)license_file_combobox1.grid(row=0, column=1, pady=5, padx=5)ttk.Label(tab_compare, text=\"License File 2:\").grid(row=1, column=0, sticky=tk.W, pady=5, padx=5)license_file_combobox2 = ttk.Combobox(tab_compare, values=license_files, width=30)license_file_combobox2.grid(row=1, column=1, pady=5, padx=5)ttk.Button(tab_compare, text=\"Compare\", command=compare_license_files).grid(row=2, column=0, columnspan=2, pady=5, padx=5)compare_tree = ttk.Treeview(tab_compare, columns=(\"ProductId\", \"Quantity1\", \"Quantity2\", \"DateRange1\", \"DateRange2\"), show=\"headings\")compare_tree.heading(\"ProductId\", text=\"Product Id\")compare_tree.heading(\"Quantity1\", text=\"Quantity (File 1)\")compare_tree.heading(\"Quantity2\", text=\"Quantity (File 2)\")compare_tree.heading(\"DateRange1\", text=\"Date Range (File 1)\")compare_tree.heading(\"DateRange2\", text=\"Date Range (File 2)\")compare_tree.grid(row=3, column=0, columnspan=2, pady=10, padx=5, sticky=(tk.W, tk.E))# License Acceptancedef load_csv_file(): filepath = filedialog.askopenfilename(filetypes=[(\"CSV Files\", \"*.csv\"), (\"All Files\", \"*.*\")]) if not filepath: return data = {} with open(filepath, 'r') as file: reader = csv.reader(file) next(reader) # skip header for row in reader: product_id, quantity = row data[product_id] = int(quantity) return datadef compare_license_to_csv(): license_file = license_file_combobox3.get() csv_data = load_csv_file() if not license_file or not csv_data: tk.messagebox.showerror(\"Error\", \"Please select both license file and CSV file.\") return license_data = retrieve_license_info_by_file(license_file) # Convert license data to a dictionary license_dict = defaultdict(list) for item in license_data: license_dict[item[4]].append(item) acceptance_tree.delete(*acceptance_tree.get_children()) # Clear the treeview for product_id, quantity in csv_data.items(): if product_id in license_dict: quantities = \", \".join([str(item[2]) for item in license_dict[product_id][-1::-1]]) date_ranges = \", \".join([str(item[2]) + \":\" + item[0] + \" to \" + item[1] for item in license_dict[product_id][-1::-1]]) acceptance_tree.insert(\"\", \"end\", values=(product_id, quantity, quantities, date_ranges)) del license_dict[product_id] else: acceptance_tree.insert(\"\", \"end\", values=(product_id, quantity, \"Not in License File\", \"Not in License File\")) for product_id, items in license_dict.items(): quantities = \", \".join([str(item[2]) for item in items[-1::-1]]) date_ranges = \", \".join([str(item[2]) + \":\" + item[0] + \" to \" + item[1] for item in items[-1::-1]]) acceptance_tree.insert(\"\", \"end\", values=(product_id, \"Not in CSV\", quantities, date_ranges))def export_to_excel(): file_name = tk.filedialog.asksaveasfilename(defaultextension=\".xlsx\", filetypes=[(\"Excel files\", \"*.xlsx\"), (\"All Files\", \"*.*\")]) if not file_name: return wb = openpyxl.Workbook() ws = wb.active ws.title = \"License Acceptance\" # Add headers headers = [\"Product ID\", \"CSV Quantity\", \"License Quantity\", \"Date Ranges\"] for col_num, header in enumerate(headers, 1): col_letter = openpyxl.utils.get_column_letter(col_num) ws[f\"{col_letter}1\"] = header ws[f\"{col_letter}1\"].font = openpyxl.styles.Font(bold=True) # Add data from the treeview for row_num, row_id in enumerate(acceptance_tree.get_children(), 2): row_data = acceptance_tree.item(row_id)[\"values\"] for col_num, cell_data in enumerate(row_data, 1): ws.cell(row=row_num, column=col_num, value=cell_data) wb.save(file_name) tk.messagebox.showinfo(\"Info\", f\"Data exported to {file_name} successfully!\")# Tab for License Acceptancetab_acceptance = ttk.Frame(notebook)notebook.add(tab_acceptance, text=\"License Acceptance\")license_files = get_all_license_files()ttk.Label(tab_acceptance, text=\"License File:\").grid(row=0, column=0, sticky=tk.W, pady=5, padx=5)license_file_combobox3 = ttk.Combobox(tab_acceptance, values=license_files, width=64)license_file_combobox3.grid(row=0, column=1, pady=5, padx=5)ttk.Button(tab_acceptance, text=\"Compare\", command=compare_license_to_csv).grid(row=0, column=2, pady=5, padx=5)export_button = ttk.Button(tab_acceptance, text=\"Export to Excel\", command=export_to_excel)export_button.grid(row=3, column=1, pady=10, padx=5, sticky=tk.E)acceptance_tree = ttk.Treeview(tab_acceptance, columns=(\"ProductId\", \"CSV QTY\", \"License QTY\", \"Date Ranges\"), show=\"headings\")acceptance_tree.heading(\"ProductId\", text=\"Product Id\")acceptance_tree.heading(\"CSV QTY\", text=\"CSV QTY\")acceptance_tree.heading(\"License QTY\", text=\"License QTY\")acceptance_tree.heading(\"Date Ranges\", text=\"Date Ranges\")acceptance_tree.grid(row=1, column=0, columnspan=3, pady=10, padx=5, sticky=(tk.W, tk.E))# About Tabtab_about = ttk.Frame(notebook)notebook.add(tab_about, text=\"å…³äº\")ttk.Label(tab_about, text=\"ä½œè€…ï¼šwanlinwang\").grid(row=0, column=0, pady=10, padx=10)ttk.Label(tab_about, text=\"æ—¥æœŸï¼šOct-16-2023\").grid(row=1, column=0, pady=10, padx=10)ttk.Label(tab_about, text=\"å¸®åŠ©ï¼šå¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»wanlinwang\").grid(row=2, column=0, pady=10, padx=10)app.mainloop()" }, { "title": "vncç°å±", "url": "/posts/vnc-grey-screen/", "categories": "", "tags": "vnc", "date": "2023-10-13 02:13:00 +0000", "snippet": "åœ¨Ubuntu 18æœåŠ¡å™¨ä¸Šï¼Œä»rootè´¦å·çš„terminalé‡Œï¼Œæ‰§è¡Œsu user01ï¼Œç„¶åæ‰§è¡Œvncserverå¯åŠ¨ä¸€ä¸ªvncæ¡Œé¢ã€‚ä»vncviewerå»è¿æ¥æ—¶æç¤ºFailed to connect to socket /run/user/0/bus: Permission deniedï¼Œå¹¶ä¸”å±å¹•æ˜¯ç°å±çš„ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä½ ä» root ç”¨æˆ·åˆ‡æ¢åˆ° user01 æ—¶ï¼ŒæŸäº›ç¯å¢ƒå˜é‡ï¼ˆç‰¹åˆ«æ˜¯å…³...", "content": "åœ¨Ubuntu 18æœåŠ¡å™¨ä¸Šï¼Œä»rootè´¦å·çš„terminalé‡Œï¼Œæ‰§è¡Œsu user01ï¼Œç„¶åæ‰§è¡Œvncserverå¯åŠ¨ä¸€ä¸ªvncæ¡Œé¢ã€‚ä»vncviewerå»è¿æ¥æ—¶æç¤ºFailed to connect to socket /run/user/0/bus: Permission deniedï¼Œå¹¶ä¸”å±å¹•æ˜¯ç°å±çš„ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºä½ ä» root ç”¨æˆ·åˆ‡æ¢åˆ° user01 æ—¶ï¼ŒæŸäº›ç¯å¢ƒå˜é‡ï¼ˆç‰¹åˆ«æ˜¯å…³äº D-Bus çš„ï¼‰æ²¡æœ‰è¢«æ­£ç¡®åœ°è®¾ç½®ã€‚è¿™å¯¼è‡´ VNC è¯•å›¾è¿æ¥åˆ° root ç”¨æˆ·çš„ D-Bus ä¼šè¯ï¼Œè€Œä¸æ˜¯ user01 çš„ä¼šè¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä»¥ä¸‹æ­¥éª¤ï¼š ä½¿ç”¨å®Œæ•´çš„ç™»å½• shell åˆ‡æ¢åˆ° user01: å½“ä½ ä½¿ç”¨ su user01 æ—¶ï¼Œä½ åªæ˜¯ç®€å•åœ°åˆ‡æ¢åˆ°äº† user01ï¼Œä½†æ²¡æœ‰åŠ è½½ user01 çš„å®Œæ•´ç¯å¢ƒã€‚ä¸ºäº†åŠ è½½å®Œæ•´çš„ç¯å¢ƒï¼Œä½ åº”è¯¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š su -l user01 æ‰‹åŠ¨è®¾ç½® XDG_RUNTIME_DIR: å¦‚æœä¸Šè¿°æ–¹æ³•ä¸èµ·ä½œç”¨ï¼Œä½ å¯ä»¥å°è¯•æ‰‹åŠ¨è®¾ç½® XDG_RUNTIME_DIR ç¯å¢ƒå˜é‡ã€‚è¿™ä¸ªå˜é‡é€šå¸¸æŒ‡å‘ /run/user/&lt;UID&gt;ï¼Œå…¶ä¸­ &lt;UID&gt; æ˜¯ç”¨æˆ·çš„ UIDã€‚ export XDG_RUNTIME_DIR=/run/user/$(id -u) å¯åŠ¨ VNC æœåŠ¡å™¨: åœ¨è®¾ç½®äº†æ­£ç¡®çš„ç¯å¢ƒå˜é‡ä¹‹åï¼Œä½ å¯ä»¥å°è¯•å†æ¬¡å¯åŠ¨ VNC æœåŠ¡å™¨ã€‚ è€ƒè™‘ä½¿ç”¨ vncserver çš„å®Œæ•´è·¯å¾„: æœ‰æ—¶ï¼Œç¡®ä¿ä½ ä½¿ç”¨çš„æ˜¯æ­£ç¡®çš„ vncserver ä¹Ÿå¾ˆé‡è¦ã€‚ä½ å¯ä»¥ä½¿ç”¨ which vncserver æ¥æŸ¥æ‰¾å…¶å®Œæ•´è·¯å¾„ï¼Œç„¶åä½¿ç”¨è¯¥è·¯å¾„æ¥å¯åŠ¨å®ƒã€‚ æ£€æŸ¥ VNC æ—¥å¿—: å¦‚æœä½ ä»ç„¶é‡åˆ°é—®é¢˜ï¼Œä½ åº”è¯¥æ£€æŸ¥ VNC çš„æ—¥å¿—æ–‡ä»¶ï¼Œé€šå¸¸ä½äº ~/.vnc/ ç›®å½•ä¸‹ã€‚è¿™å¯èƒ½ä¼šç»™ä½ æ›´å¤šå…³äºé—®é¢˜çš„çº¿ç´¢ã€‚ ç¡®ä¿ D-Bus æ­£åœ¨è¿è¡Œ: ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥ D-Bus æ˜¯å¦æ­£åœ¨ä¸º user01 è¿è¡Œï¼š ps aux | grep dbus | grep user01 å¸Œæœ›è¿™äº›æ­¥éª¤èƒ½å¸®åŠ©ä½ è§£å†³é—®é¢˜ï¼" }, { "title": "cloud-initæ¨¡æ¿é•œåƒçš„åˆ›å»ºä¸ä½¿ç”¨", "url": "/posts/preparing-cloud-init-template/", "categories": "", "tags": "pve", "date": "2023-10-13 01:00:00 +0000", "snippet": "Abstractæœ¬æ–‡ä»‹ç»ï¼Œåœ¨Proxmox Virtual Environmentï¼ˆpveï¼‰ä¸Šï¼Œcloud-initæ¨¡æ¿é•œåƒçš„åˆ›å»ºä¸ä½¿ç”¨ã€‚StepsPrepare a VMè¿™é‡Œä½¿ç”¨CentOS 7.9.2209è™šæ‹ŸæœºInstall cloud-initapt-get install cloud-initAdd Cloud-Init CD-ROM driveShutdown the VM. E...", "content": "Abstractæœ¬æ–‡ä»‹ç»ï¼Œåœ¨Proxmox Virtual Environmentï¼ˆpveï¼‰ä¸Šï¼Œcloud-initæ¨¡æ¿é•œåƒçš„åˆ›å»ºä¸ä½¿ç”¨ã€‚StepsPrepare a VMè¿™é‡Œä½¿ç”¨CentOS 7.9.2209è™šæ‹ŸæœºInstall cloud-initapt-get install cloud-initAdd Cloud-Init CD-ROM driveShutdown the VM. Execute blow code snippet on pve host,qm set 10071 --ide2 local-xfs:cloudinitqm set 10071 --boot order=scsi0qm template 10071Deploying Cloud-Init Templatesqm clone 10071 171 --name CentOS-7-9-001qm set 171 --sshkey ~/.ssh/id_rsa.pubqm set 171 --ipconfig0 ip=172.16.0.171/24,gw=172.16.0.1" }, { "title": "merge synopsys license file", "url": "/posts/merge-synospsy-license-file/", "categories": "icenv", "tags": "license", "date": "2023-08-22 14:04:58 +0000", "snippet": "å¯¹Synopsys License Fileçš„ç®¡ç† ä¿®æ”¹ä»Synopsysè·å–çš„å¯†é’¥ï¼š åªèƒ½ä¿®æ”¹è®¸å¯è¯æ–‡ä»¶ä¸­çš„SERVERå’ŒVENDORè¡Œï¼Œç¡®ä¿SERVERè¡ŒåŒ…å«æ­£ç¡®çš„æœåŠ¡å™¨ä¸»æœºåï¼ŒVENDORè¡ŒåŒ…å«snpslmdå®ˆæŠ¤ç¨‹åºçš„å®Œæ•´è·¯å¾„ã€‚ ä»»ä½•æ›´æ”¹éƒ½å¿…é¡»ä»¥ASCIIæ–‡æœ¬æ ¼å¼ä¿å­˜ã€‚ ä¸è¦æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹è®¸å¯è¯æ–‡ä»¶ä¸­çš„ä»»ä½•INCREMENTè¡Œï¼Œè¿™æ ·åšä¼š...", "content": "å¯¹Synopsys License Fileçš„ç®¡ç† ä¿®æ”¹ä»Synopsysè·å–çš„å¯†é’¥ï¼š åªèƒ½ä¿®æ”¹è®¸å¯è¯æ–‡ä»¶ä¸­çš„SERVERå’ŒVENDORè¡Œï¼Œç¡®ä¿SERVERè¡ŒåŒ…å«æ­£ç¡®çš„æœåŠ¡å™¨ä¸»æœºåï¼ŒVENDORè¡ŒåŒ…å«snpslmdå®ˆæŠ¤ç¨‹åºçš„å®Œæ•´è·¯å¾„ã€‚ ä»»ä½•æ›´æ”¹éƒ½å¿…é¡»ä»¥ASCIIæ–‡æœ¬æ ¼å¼ä¿å­˜ã€‚ ä¸è¦æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹è®¸å¯è¯æ–‡ä»¶ä¸­çš„ä»»ä½•INCREMENTè¡Œï¼Œè¿™æ ·åšä¼šä½¿Licenseæ— æ•ˆã€‚ å¦‚æœä»Synopsysè·å–ä¸´æ—¶å¯†é’¥ï¼Œå¯ä»¥å°†å…¶é™„åŠ åˆ°ç°æœ‰è´­ä¹°çš„Licenseæ–‡ä»¶ä¸­ï¼Œä½†éœ€è¦åˆ é™¤é‡å¤çš„SERVERã€VENDORå’ŒUSE_SERVERè¡Œã€‚ ä½¿ç”¨sssverifyç¨‹åºéªŒè¯å¯†é’¥ï¼š åœ¨ä½¿ç”¨æ¥è‡ªSynopsysçš„ä»»ä½•æ–°å¯†é’¥æ–‡ä»¶ä¹‹å‰ï¼Œè¿è¡Œâ€SCL sssverifyâ€å®ç”¨ç¨‹åºæ¥æ£€æŸ¥æ–‡ä»¶ä¸­çš„ä»»ä½•é”™è¯¯ã€‚ å¦‚æœLicenseæ–‡ä»¶æ²¡æœ‰é”™è¯¯ï¼Œæ‚¨å°†çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹æ¶ˆæ¯çš„è¾“å‡ºï¼šâ€License file integrity check PASSEDâ€ã€‚ å¦‚æœLicenseæ–‡ä»¶æŸåï¼Œæ‚¨å°†æ”¶åˆ°ç›¸åº”çš„é”™è¯¯æ¶ˆæ¯ï¼Œå¹¶å»ºè®®ä¸ä½¿ç”¨è¯¥Licenseæ–‡ä»¶ã€‚ ç¡®è®¤SCLæ­£åœ¨æä¾›License Featureï¼š æ£€æŸ¥SCLæœåŠ¡å™¨è°ƒè¯•æ—¥å¿—æ–‡ä»¶ä»¥æŸ¥æ‰¾å¯åŠ¨é”™è¯¯ã€‚ ç¡®ä¿lmgrdå’Œsnpslmdå·²æ­£ç¡®å¯åŠ¨ï¼Œæ²¡æœ‰å‡ºç°â€SSSâ€é”™è¯¯ã€‚ å¦‚æœè°ƒè¯•æ—¥å¿—æ–‡ä»¶ä¸­å­˜åœ¨ä¸SSSç›¸å…³çš„é”™è¯¯æ¶ˆæ¯ï¼Œéœ€è¦é‡‡å–ç›¸åº”çš„æªæ–½æ¥è§£å†³é—®é¢˜ã€‚å¤šä¸ªSynopsys Licenseè¢«ç®¡ç†å‘˜åˆå¹¶å®Œåï¼Œç»å¸¸å‡ºç°å¦‚ä¸‹é”™è¯¯ã€‚è¯·ç¡®ä¿æ¯ä¸ªLicense Fileå«[0,1]ä¸ªSSS featureå—ï¼Œä»¥åŠ[0,n]ä¸ªSSST featureå—ã€‚ ç®¡ç†ä¸´æ—¶å¯†é’¥ï¼š ä¸´æ—¶å¯†é’¥éœ€è¦SSSTåŠŸèƒ½ã€‚æœ€å¥½æ”¾åœ¨å•ç‹¬çš„æœåŠ¡å™¨ï¼Œä»¥é˜²æ­¢å…¶è¢«åç»­çš„ç”Ÿäº§å¯†é’¥è¦†ç›–ã€‚ æ·»åŠ æˆ–åˆ é™¤ä¸´æ—¶å¯†é’¥æ—¶ï¼Œå¿…é¡»ä½œä¸ºä¸€ä¸ªå—è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯å•ç‹¬å¤„ç†æ¯ä¸ªå¯†é’¥ã€‚ è¿™äº›æ˜¯å¯¹Licenseç®¡ç†çš„ä¸€äº›é‡è¦äº‹é¡¹çš„æ€»ç»“ã€‚è¯¦ç»†çš„æŒ‡å—å’Œæ­¥éª¤å¯ä»¥åœ¨æä¾›çš„PDFæ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚ä¸åƒCadenceå®¶æ¯ä¸ªhostidæä¾›ä¸€ä¸ªå®Œæ•´çš„Licenseæ–‡ä»¶ï¼ŒSynopsyså®¶çš„Licenseæ˜¯å¯åˆå¹¶çš„ï¼ˆä¸€ä¸ªè´­ä¹°çš„ï¼Œä¸ä¸€ä¸ªæˆ–å¤šä¸ªä¸´æ—¶çš„åˆå¹¶ï¼Œé™¤æ­¤ä¹‹å¤–çš„å…¶ä½™åœºæ™¯é¿å…åˆå¹¶ï¼‰ã€‚è¿™é‡Œæä¾›åˆå¹¶è„šæœ¬ï¼Œä¾›å‚è€ƒï¼šæ–°ç‰ˆæœ¬#!/bin/env python3# Author: wanlinwang# Date: 27-Dec-2023# Synopsys Licenseæ–‡ä»¶åˆå¹¶ï¼Œéµå¾ªï¼šåˆå¹¶åçš„æ–‡ä»¶ï¼Œä¿ç•™æœ€å¤šä¸€ä¸ªæœ‰æ•ˆæœŸå†…çš„SSSåŠå…¶featureï¼Œä¿ç•™é›¶ä¸ªæˆ–å¤šä¸ªæœ‰æ•ˆæœŸå†…çš„SSSTåŠå…¶featureã€‚# ç¨‹åºæµç¨‹å›¾\"\"\"+---------------------------+| Parse Command Line Args || - Use argparse || - Accept -i and -o flags |+---------------------------+ | V+---------------------------+| Read and Parse License || Files || - Read each input file || - Split into feature || blocks || - Parse for name, trans- || action ID, and exp. date|+---------------------------+ | V+---------------------------+| Process and Merge || Features || - Classify as SSS or SSST || - Keep latest non-expired || SSS &amp; related features || - Keep all non-expired || SSST &amp; related features |+---------------------------+ | V+---------------------------+| Output Merged License || Content || - Write to specified || output file |+---------------------------+\"\"\"import argparseimport refrom datetime import datetimedef parse_feature_block(block): feature_name_and_expiration_date = re.search(r\"INCREMENT (\\w+) \\w+ \\S+ (\\d{2}-\\w{3}-\\d{4})\", block) transaction_id_match = re.search(r\"SN=[RT]K:[\\w-]+:[\\w-]+:(\\d+)\", block) feature_name = feature_name_and_expiration_date.group(1) if feature_name_and_expiration_date else None expiration_date = feature_name_and_expiration_date.group(2) if feature_name_and_expiration_date else None transaction_id = transaction_id_match.group(1) if transaction_id_match else None expiration_date = datetime.strptime(expiration_date, \"%d-%b-%Y\") if expiration_date else None return { \"name\": feature_name, \"transaction_id\": transaction_id, \"expiration_date\": expiration_date, \"block\": block }def parse_license_file(file_content): blocks = re.split(r'(?&lt;!#)INCREMENT', file_content)[1:] blocks = [f\"INCREMENT {b.strip()}\" for b in blocks] return [parse_feature_block(block) for block in blocks]def is_block_expired(block): return block['expiration_date'] and datetime.now() &gt; block['expiration_date']def merge_features(license_files_contents): all_blocks = [] for file_content in license_files_contents: all_blocks.extend(parse_license_file(file_content)) sss_blocks = [b for b in all_blocks if b['name'] == 'SSS' and not is_block_expired(b)] ssst_blocks = [b for b in all_blocks if b['name'] == 'SSST' and not is_block_expired(b)] # Keep only the latest SSS block if sss_blocks: latest_sss = max(sss_blocks, key=lambda b: b['expiration_date']) sss_transaction_id = latest_sss['transaction_id'] sss_related_blocks = [b for b in all_blocks if b['transaction_id'] == sss_transaction_id] else: sss_related_blocks = [] # Keep all non-expired SSST blocks and their associated features ssst_transaction_ids = set(b['transaction_id'] for b in ssst_blocks) ssst_related_blocks = [b for b in all_blocks if b['transaction_id'] in ssst_transaction_ids] merged_content = [b['block'] for b in sss_related_blocks + ssst_related_blocks] return \"\\n\".join(merged_content)def main(): parser = argparse.ArgumentParser(description=\"Merge Synopsys license files.\") parser.add_argument('-i', '--input', nargs='+', required=True, help=\"Input license files\") parser.add_argument('-o', '--output', required=True, help=\"Output merged license file\") args = parser.parse_args() license_files = args.input output_file = args.output license_contents = [open(file_path, 'r').read() for file_path in license_files] merged_license = merge_features(license_contents) with open(output_file, \"w\") as f: f.write(merged_license)if __name__ == \"__main__\": main()æ—§ç‰ˆæœ¬#!/bin/python3# Author: wanlinwang# Date: 23-Aug-2023# æœ¬ç¨‹åºå¯¹æœªåˆ°æœŸçš„featureè¿›è¡Œåˆå¹¶ã€‚TODOï¼šå°šæœªè€ƒè™‘å¤šä¸ªSSSä¸SSSTå—çš„åœºæ™¯ï¼Œ26-Dec-2023import sysimport datetimedef is_feature_expired(feature): # ä»INCREMENTè¡Œä¸­è·å–è¿‡æœŸæ—¥æœŸ fields = feature.split() if len(fields) &gt; 4: expire_date_str = fields[4] try: expire_date = datetime.datetime.strptime(expire_date_str, '%d-%b-%Y').date() today = datetime.date.today() return expire_date &lt; today except ValueError: return False # å¦‚æœæ—¥æœŸæ ¼å¼ä¸æ­£ç¡®æˆ–ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å°†å…¶è§†ä¸ºæœªè¿‡æœŸ return Falsedef merge_license_files(filenames): header_lines = [] features = [] for index, filename in enumerate(filenames): with open(filename, 'r') as f: content = f.read().strip() # å¯¹äºç¬¬ä¸€ä¸ªlicenseæ–‡ä»¶ï¼Œè·å–æ‰€æœ‰éINCREMENTè¡Œä½œä¸ºheader # å¯¹äºç¬¬äºŒä¸ªåŠä»¥åçš„licenseæ–‡ä»¶ï¼Œåªè·å–æ³¨é‡Šè¡Œ if not header_lines or index &gt; 0: for line in content.split(\"\\n\"): if not line.startswith(\"INCREMENT\"): # åªä»ç¬¬äºŒä¸ªåŠä¹‹åçš„æ–‡ä»¶ä¸­è·å–æ³¨é‡Šè¡Œ if index == 0 or line.startswith(\"#\"): header_lines.append(line) else: break feature_blocks = content.split(\"INCREMENT\") # å‡è®¾æ¯ä¸ªfeatureå—æ˜¯ä»¥INCREMENTå¼€å§‹ for feature in feature_blocks[1:]: feature_with_prefix = \"INCREMENT\" + feature # å› ä¸ºæˆ‘ä»¬é€šè¿‡INCREMENTæ¥åˆ†å‰²ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ å›å» if not is_feature_expired(feature_with_prefix): features.append(feature_with_prefix) return \"\\n\".join(header_lines + features)if __name__ == \"__main__\": if len(sys.argv) &lt; 3: print(\"Usage: python merge_licenses.py &lt;output_file&gt; &lt;license_file1&gt; [license_file2 ...]\") sys.exit(1) output_file = sys.argv[1] license_files = sys.argv[2:] merged_content = merge_license_files(license_files) with open(output_file, 'w') as f: f.write(merged_content) print(f\"Merged licenses saved to {output_file}.\")å‚è€ƒèµ„æ–™Synopsys License Verification" }, { "title": "ipa dns forwarderçš„æ³¨æ„äº‹é¡¹", "url": "/posts/ipa-dns-forwarder/", "categories": "icenv", "tags": "ipa", "date": "2023-08-22 14:04:58 +0000", "snippet": "ä¸€ã€global DNS forwarderï¼Œåœ¨CentOS 7.9ä¸CentOS 8.8ä¸Šï¼Œ å¦‚æœå®‰è£…æ—¶æŒ‡å®šäº†(global) DNS forwarderï¼Œå®‰è£…å®Œæ¯•ä¹‹åï¼Œä½¿ç”¨ipa dnsconfig-mod --forwarder=8.8.8.8è¿™æ ·ä¿®æ”¹(global) DNS forwarderæ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªbugã€‚ å¦‚æœå®‰è£…æ—¶æ²¡æœ‰æŒ‡å®š(global) DNS forwa...", "content": "ä¸€ã€global DNS forwarderï¼Œåœ¨CentOS 7.9ä¸CentOS 8.8ä¸Šï¼Œ å¦‚æœå®‰è£…æ—¶æŒ‡å®šäº†(global) DNS forwarderï¼Œå®‰è£…å®Œæ¯•ä¹‹åï¼Œä½¿ç”¨ipa dnsconfig-mod --forwarder=8.8.8.8è¿™æ ·ä¿®æ”¹(global) DNS forwarderæ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªbugã€‚ å¦‚æœå®‰è£…æ—¶æ²¡æœ‰æŒ‡å®š(global) DNS forwarderï¼Œå®‰è£…å®Œæ¯•ä¹‹åï¼Œä½¿ç”¨ipa dnsconfig-mod --forwarder=8.8.8.8è¿™æ ·è®¾ç½®(global) DNS forwarderæ˜¯ç”Ÿæ•ˆçš„ã€‚äºŒã€æŒ‡å®šdomainçš„DNS forwarderï¼Œåœ¨CentOS 7.9ä¸CentOS 8.8ä¸Šï¼Œåœ¨å®‰è£…å®Œæ¯•ä¹‹åï¼Œä½¿ç”¨ipa dnsforwardzone-add google.com --skip-overlap-check --forwarder=8.8.8.8è¿™æ ·ä¿®æ”¹ï¼Œåœ¨è§£æ google.com æ—¶è¿™ä¸ªDNS forwarderæ˜¯ç”Ÿæ•ˆçš„ã€‚ç»¼ä¸Šï¼Œ1ï¼‰åœ¨å®‰è£…FreeIPAæˆ–IdMæ—¶ï¼Œè¯·ä¸è¦æŒ‡å®šDNS Forwarderï¼Œå®‰è£…ä¹‹åå†è®¾ç½®å³å¯ï¼›2ï¼‰å¦‚æœå·²æœ‰çš„FreeIPAæˆ–IdMå·²ç»è®¾ç½®äº†DNS Forwarderï¼Œä½†è¿™ä¸ªDNS Forwarderå˜å¾—ä¸å¯ç”¨ï¼Œé‚£å¯ä»¥ä½¿ç”¨ipa dnsforwardzone-add google.com --skip-overlap-check --forwarder=8.8.8.8è¯­å¥ä¸ºæŒ‡å®šçš„åŸŸè®¾ç½®DNS ForwarderæŸ¥è¯¢ã€‚" }, { "title": "CentOS 7.9ä¸Šçš„FreeIPA HA æ¶æ„", "url": "/posts/freeipa-ha-on-centos7/", "categories": "icenv", "tags": "freeipa", "date": "2023-08-09 12:49:19 +0000", "snippet": "æœºå™¨åœ¨proxmox virtual environmentçš„è™šæ‹Ÿæœºï¼Œé˜²ç«å¢™åœ¨masterä¸replicaä¸Šæ‰§è¡Œï¼Œsudo firewall-cmd --add-service={freeipa-ldap,freeipa-ldaps,dns,mountd,rpc-bind} --permanent &amp;&amp; sudo firewall-cmd --reloadåŒ…å®‰è£…åœ¨master...", "content": "æœºå™¨åœ¨proxmox virtual environmentçš„è™šæ‹Ÿæœºï¼Œé˜²ç«å¢™åœ¨masterä¸replicaä¸Šæ‰§è¡Œï¼Œsudo firewall-cmd --add-service={freeipa-ldap,freeipa-ldaps,dns,mountd,rpc-bind} --permanent &amp;&amp; sudo firewall-cmd --reloadåŒ…å®‰è£…åœ¨masterä¸replicaä¸Šæ‰§è¡Œï¼Œsudo yum install -y freeipa-server ipa-server-dnsipa serveré…ç½®å¦‚æœä¸Šæ¸¸DNSæ²¡æœ‰è®¾ç½®masterä¸replicaçš„è§£æè®°å½•ï¼Œåˆ™æˆ‘ä»¬åœ¨masterä¸replica/etc/hostsåŠ ä¸Šæ˜ å°„å…³ç³»ï¼Œsudo tee -a /etc/hosts &gt; /dev/null &lt;&lt;EOF172.16.0.188 ipa-server-01.icinfra.cn172.16.0.189 ipa-server-02.icinfra.cnEOFsudo cp -a /etc/hosts /etc/cloud/templates/hosts.redhat.tmplé…ç½®HA Masterï¼Œsudo ipa-server-install --setup-dns --domain=icinfra.cn --realm=ICINFRA.CN --hostname=ipa-server-01.icinfra.cn --admin-password=Secret123 --ds-password=Secret123 --no-reverse --allow-zone-overlap --auto-forwarders -U==============================================================================Setup completeNext steps:\t1. You must make sure these network ports are open:\t\tTCP Ports:\t\t * 80, 443: HTTP/HTTPS\t\t * 389, 636: LDAP/LDAPS\t\t * 88, 464: kerberos\t\t * 53: bind\t\tUDP Ports:\t\t * 88, 464: kerberos\t\t * 53: bind\t\t * 123: ntp\t2. You can now obtain a kerberos ticket using the command: 'kinit admin'\t This ticket will allow you to use the IPA tools (e.g., ipa user-add)\t and the web user interface.Be sure to back up the CA certificates stored in /root/cacert.p12These files are required to create replicas. The password for thesefiles is the Directory Manager password[centos@vm-centos7-9-188 ~]$ é…ç½®HA replicaï¼Œsudo tee /etc/resolv.conf &gt; /dev/null &lt;&lt;EOF# è¿™é‡Œè®¾ç½®masterä¸ºDNSæœåŠ¡å™¨ï¼Œåœ¨ipa-client-installæ—¶æ‰ä¼šåŠ å…¥DNSè®°å½•ï¼Œå¦åˆ™ä¸åŠ å…¥ã€‚nameserver 172.16.0.188search icinfra.cnEOFsudo ipa-client-install --domain=icinfra.cn --server=ipa-server-01.icinfra.cn --hostname=ipa-server-02.icinfra.cn --enable-dns-updates -p admin -w Secret123 -Usudo ipa-replica-install --setup-dns --auto-forwarders -p Secret123sudo ipa-ca-install -p Secret123å®¢æˆ·ç«¯é…ç½®sudo tee /etc/resolv.conf &gt; /dev/null &lt;&lt;EOF# è¿™é‡Œè®¾ç½®masterä¸replicaä¸ºDNSæœåŠ¡å™¨ï¼Œåœ¨ipa-client-installæ—¶æ‰ä¼šåŠ å…¥DNSè®°å½•ï¼Œå¦åˆ™ä¸åŠ å…¥ã€‚nameserver 172.16.0.188nameserver 172.16.0.189search icinfra.cnEOFsudo yum install -y ipa-clientsudo ipa-client-install --server=ipa-server-01.icinfra.cn --server=ipa-server-02.icinfra.cn --domain=icinfra.cn -p admin -w Secret123 -Uå‚è€ƒèµ„æ–™https://blog.csdn.net/thesre/article/details/117791657https://blog.csdn.net/thesre/article/details/124896546" }, { "title": "ç‰ˆæœ¬åº“å½»åº•åˆ é™¤æ–‡ä»¶", "url": "/posts/svn-git-permanently-delete-files/", "categories": "", "tags": "", "date": "2023-08-09 12:08:45 +0000", "snippet": "wanlinwang, 2023/08/08SVNï¼ˆSubversionï¼‰æ“ä½œæ€»ç»“æ–¹æ³•ä¸€ï¼šåªä¿ç•™ä¸€ä¸ªRevisionå…³é”®ç‚¹ï¼š ä½¿ç”¨svnadmin dumpå¯¼å‡ºæœ€æ–°çš„revisionã€‚æ­¥éª¤å¦‚ä¸‹ï¼š# step1: è·å–æœ€æ–°çš„revisionå·svnlook youngest /path/to/svn/repo_dir# step2: æ‰§è¡Œçƒ­å¤‡ä»½ï¼ˆä¸ä¿ç•™æ—¥å¿—ï¼‰svnadmin hotcopy -...", "content": "wanlinwang, 2023/08/08SVNï¼ˆSubversionï¼‰æ“ä½œæ€»ç»“æ–¹æ³•ä¸€ï¼šåªä¿ç•™ä¸€ä¸ªRevisionå…³é”®ç‚¹ï¼š ä½¿ç”¨svnadmin dumpå¯¼å‡ºæœ€æ–°çš„revisionã€‚æ­¥éª¤å¦‚ä¸‹ï¼š# step1: è·å–æœ€æ–°çš„revisionå·svnlook youngest /path/to/svn/repo_dir# step2: æ‰§è¡Œçƒ­å¤‡ä»½ï¼ˆä¸ä¿ç•™æ—¥å¿—ï¼‰svnadmin hotcopy --clean-logs /path/to/svn/repo_dir /path/to/svn/repo_new_dir01# step3: å¯¼å‡ºæœ€æ–°revisionsvnadmin dump /path/to/svn/repo_new_dir01 -r &lt;youngest_revision&gt;:&lt;youngest_revision&gt; &gt; /path/to/svn/repo_in_youngest_revision.dump# step4: åˆ›å»ºæ–°çš„ä»“åº“svnadmin create --fs-type fsfs /path/to/svn/repo_new_dir# step5: å°†å¯¼å‡ºçš„revisionåŠ è½½åˆ°æ–°çš„ä»“åº“svnadmin load /path/to/svn/repo_new_dir &lt; /path/to/svn/repo_in_youngest_revision.dump# step6: é‡å‘½åä»“åº“ç›®å½•mv /path/to/svn/repo_dir /path/to/svn/repo_dir_bak20230808mv /path/to/svn/repo_new_dir /path/to/svn/repo_dirè¯´æ˜ï¼š è¿™ç§æ–¹æ³•åªä¿ç•™äº†æœ€æ–°çš„revisionã€‚ç”±äºSubversionæ˜¯åŸºäºèŠ‚ç‚¹å¢é‡å­˜å‚¨ï¼Œå¯¹æ²¡æœ‰ä¿®æ”¹çš„æ–‡ä»¶å’Œç›®å½•ä¼šå¼•ç”¨æ—©æœŸçš„revisionï¼Œå› æ­¤æ‰§è¡Œsvnadmin dump -r &lt;youngest_revision&gt;æ—¶ï¼Œä¼šå¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œé€’å½’é‡å»ºï¼Œæ“ä½œè¾ƒä¸ºè€—æ—¶ã€‚æ–¹æ³•äºŒï¼šä¿ç•™æ‰€æœ‰Revisionå…³é”®ç‚¹ï¼š ä½¿ç”¨svndumpfilterå‘½ä»¤ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š# step1: å¯¼å‡ºæ•´ä¸ªä»“åº“svnadmin dump /path/to/svn/repo_dir &gt; repo_dir.dump# step2: ä½¿ç”¨svndumpfilterè¿‡æ»¤ä¸éœ€è¦çš„ç›®å½•cat repo_dir.dump | svndumpfilter exclude path/to/dir1 path/to/dir2 &gt; filtered.dump# step3: åˆ›å»ºæ–°çš„ä»“åº“svnadmin create --fs-type fsfs /path/to/svn/repo_new_dir# step4: å°†è¿‡æ»¤åçš„æ•°æ®åŠ è½½åˆ°æ–°ä»“åº“svnadmin load /path/to/svn/repo_new_dir &lt; filtered.dump# step5: é‡å‘½åä»“åº“ç›®å½•mv /path/to/svn/repo_dir /path/to/svn/repo_dir_bak20230808mv /path/to/svn/repo_new_dir /path/to/svn/repo_dirè¯´æ˜ï¼š è¯¥æ–¹æ³•ä¿ç•™æ‰€æœ‰çš„revisionï¼Œä»…é€šè¿‡è¿‡æ»¤ä¸éœ€è¦çš„ç›®å½•æ¥å®ç°ç²¾ç®€ã€‚ç”±äºæ˜¯å¯¼å‡ºå…¨éƒ¨revisionï¼Œå¹¶ä¸”åªåšç®€å•çš„è¿‡æ»¤ï¼Œæ“ä½œç›¸å¯¹è¾ƒä¸ºå¿«é€Ÿã€‚æ–¹æ³•ä¸‰ï¼šä¿ç•™æ‰€æœ‰Revisionï¼ˆåŸºäºè·¯å¾„é™åˆ¶ï¼‰å…³é”®ç‚¹ï¼š é€šè¿‡path-basedé™åˆ¶è®¿é—®å¹¶ä½¿ç”¨svnsyncåŒæ­¥ä»“åº“ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š# step1: åœ¨authzæ–‡ä»¶ä¸­å®šä¹‰å¾…åˆ é™¤çš„ç›®å½•æˆ–æ–‡ä»¶ä¸ºä¸å¯è¯»ã€‚# step2: æ‰§è¡Œsvnsyncå¤åˆ¶ä»“åº“ã€‚è¯´æ˜ï¼š æ­¤æ–¹æ³•æœªå®Œå…¨è°ƒç ”ï¼Œä½†å…¶ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡é™åˆ¶è®¿é—®è·¯å¾„ï¼Œå†è¿›è¡ŒåŒæ­¥å¤åˆ¶ã€‚è¿™ç§æ–¹æ³•å¯èƒ½å¯¹æŸäº›åœºæ™¯é€‚ç”¨ï¼Œä½†å…·ä½“æ•ˆæœéœ€è¦è¿›ä¸€æ­¥éªŒè¯ã€‚æ¯”è¾ƒè¡¨ æ–¹æ³• æ•ˆæœ è€—æ—¶ å¤‡æ³¨ æ–¹æ³•ä¸€ åˆ é™¤å†å²revision é•¿ éœ€è¦é‡æ–°checkoutä¸€ä»½ä»“åº“ æ–¹æ³•äºŒ ä¿ç•™æ‰€æœ‰revision çŸ­ éœ€è¦é‡æ–°checkoutä¸€ä»½ä»“åº“ æ–¹æ³•ä¸‰ æœªè°ƒç ” æœªè°ƒç ” æœªè°ƒç ” ç»“è®ºï¼šé€‰æ‹©æ–¹æ³•äºŒç»æµ‹è¯•å’Œè®¨è®ºï¼Œæ¨èé‡‡ç”¨æ–¹æ³•äºŒï¼Œå³ä¿ç•™æ‰€æœ‰çš„revisionï¼Œå¹¶é€šè¿‡svndumpfilterè¿›è¡Œè¿‡æ»¤ã€‚è¿™æ˜¯ä¸€ä¸ªè¾ƒä¸ºé«˜æ•ˆä¸”ç®€å•çš„è§£å†³æ–¹æ¡ˆã€‚æµ‹è¯•è®°å½•æ–¹æ³•ä¸€ï¼š è€—æ—¶ï¼šçº¦3å°æ—¶8:54 svnlook youngest test_repo_bak202307280005018:55 svn info file:///data/user/wanin/test_repo_bak2023072800050110:05 svnadmin dump test_repo_bak20230728000501 -r 11998 &gt; test_repo_dump_r11998.dmp10:06 svnadmin create --fs-type fsfs test_repo_dump_r11998_new_repo10:06 svnadmin load test_repo_dump_r11998_new_repo &lt; test_repo_dump_r11998.dmp10:05 å®Œæˆæ—¶é—´çº¦ï¼š1å°æ—¶55åˆ†é’Ÿæ–¹æ³•äºŒï¼š è€—æ—¶ï¼šçº¦43åˆ†é’Ÿä»“åº“test_repo_bak20230808201044æœ‰12000ä¸ªrevisionã€‚20:55 svnadmin dump test_repo_bak20230808201044 &gt; test_repo_bak20230808201044.dump21:14 ls test_repo_bak20230808201044.dump21:15 cat test_repo_bak20230808201044.dump | svndumpfilter exclude `cat filelist.txt | xargs` &gt; test_repo_bak20230808201044_filtered.dump21:19 svnadmin create --fs-type fsfs test_repo_bak20230808201044_filtered21:38 svnadmin load test_repo_bak20230808201044_filtered &lt; test_repo_bak20230808201044_filtered.dumpGitæ“ä½œå‚è€ƒå‚è€ƒæ–‡æ¡£ï¼šä»å­˜å‚¨åº“ä¸­åˆ é™¤æ•æ„Ÿæ•°æ® - GitHub æ–‡æ¡£" }, { "title": "libreofficeä¸èƒ½ä¿å­˜", "url": "/posts/cannot-save-file-with-libreoffice/", "categories": "icenv", "tags": "", "date": "2023-08-07 08:15:00 +0000", "snippet": "ä½¿ç”¨env LD_LIBRARY_PATH= /tools/opensrc/LibreOffice/7.3.0/opt/libreoffice7.3/program/soffice -env:UserInstallation=file:///tmp/wanlinwang/libreoffice7.3æ— æ³•ä¿å­˜æ–‡ä»¶ï¼Œé‡å¯äº†TurboVNCå°±å¥½äº†ã€‚ä½†æ ¹å› æœªæ‰¾åˆ°ã€‚", "content": "ä½¿ç”¨env LD_LIBRARY_PATH= /tools/opensrc/LibreOffice/7.3.0/opt/libreoffice7.3/program/soffice -env:UserInstallation=file:///tmp/wanlinwang/libreoffice7.3æ— æ³•ä¿å­˜æ–‡ä»¶ï¼Œé‡å¯äº†TurboVNCå°±å¥½äº†ã€‚ä½†æ ¹å› æœªæ‰¾åˆ°ã€‚" }, { "title": "SOCKSä»£ç†ChatGPT", "url": "/posts/socks-proxy/", "categories": "", "tags": "", "date": "2023-08-04 11:36:49 +0000", "snippet": "é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½ çš„Windows 10æˆ–MacOSç³»ç»Ÿä¸Šä½¿ç”¨SSHè®¾ç½®SOCKSä»£ç†ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†åœ¨æµè§ˆå™¨ä¸Šå®‰è£…å’Œé…ç½®SwitchyOmegaæ’ä»¶ï¼Œä»¥ä½¿æ‰€æœ‰è®¿é—®chat.openai.comçš„è¯·æ±‚éƒ½é€šè¿‡è¿™ä¸ªä»£ç†æœåŠ¡å™¨ã€‚ç¬¬ä¸€æ­¥ï¼šè®¾ç½®SOCKSä»£ç†å¯¹äºWindows 10ï¼š é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„Windowsç³»ç»Ÿä¸Šå®‰è£…SSHå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨Git Bashï¼Œå®ƒå¯ä»¥ä»è¿™ä¸ªé“¾æ¥ä¸‹è½½ã€‚...", "content": "é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½ çš„Windows 10æˆ–MacOSç³»ç»Ÿä¸Šä½¿ç”¨SSHè®¾ç½®SOCKSä»£ç†ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†åœ¨æµè§ˆå™¨ä¸Šå®‰è£…å’Œé…ç½®SwitchyOmegaæ’ä»¶ï¼Œä»¥ä½¿æ‰€æœ‰è®¿é—®chat.openai.comçš„è¯·æ±‚éƒ½é€šè¿‡è¿™ä¸ªä»£ç†æœåŠ¡å™¨ã€‚ç¬¬ä¸€æ­¥ï¼šè®¾ç½®SOCKSä»£ç†å¯¹äºWindows 10ï¼š é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ä½ çš„Windowsç³»ç»Ÿä¸Šå®‰è£…SSHå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨Git Bashï¼Œå®ƒå¯ä»¥ä»è¿™ä¸ªé“¾æ¥ä¸‹è½½ã€‚ å®‰è£…å®Œæˆåï¼Œæ‰“å¼€Git Bashã€‚ åœ¨Git Bashä¸­ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ˆç”¨ä½ çš„å®é™…æƒ…å†µæ›¿æ¢&lt;username&gt;,&lt;proxy-server&gt;å’Œ&lt;port&gt;ï¼‰ï¼šÂ  Â  Â  Â  ssh -D &lt;port&gt; -N &lt;username&gt;@&lt;proxy-server&gt; Â  Â  å¦‚ï¼š Â  Â  Â  Â  while true; do ssh -i /drives/c/Users/wanlinwang/.ssh/id_rsa -N -D 1080 root@rn-5bxxxx.thesre.lol; doneÂ  Â Â  Â è¿™æ¡å‘½ä»¤å°†åœ¨æœ¬åœ°çš„8080ç«¯å£ä¸Šå¯åŠ¨ä¸€ä¸ªSOCKSä»£ç†ï¼Œæ‰€æœ‰é€šè¿‡æ­¤ä»£ç†çš„æµé‡éƒ½å°†é€šè¿‡proxy-server.comæœåŠ¡å™¨ä¼ è¾“ã€‚ è¾“å…¥å¯†ç ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨é…ç½®äº†å…¬é’¥è®¤è¯ï¼Œå¯èƒ½éœ€è¦æä¾›ç§é’¥ã€‚ å¯¹äºMacOSï¼š æ‰“å¼€Terminalã€‚ è¾“å…¥åŒæ ·çš„å‘½ä»¤ï¼šÂ  Â  Â  Â  ssh -D &lt;port&gt; -N &lt;username&gt;@&lt;proxy-server&gt; Â  Â  ç¬¬äºŒæ­¥ï¼šé…ç½®SwitchyOmega åœ¨Chromeæˆ–Firefoxæµè§ˆå™¨ä¸­å®‰è£…SwitchyOmegaæ’ä»¶ã€‚ åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥chrome://extensions/ï¼ˆChromeï¼‰æˆ–about:addonsï¼ˆFirefoxï¼‰ï¼Œç„¶åæ‰¾åˆ°SwitchyOmegaå¹¶ç‚¹å‡»â€œé€‰é¡¹â€ã€‚ åœ¨SwitchyOmegaçš„é€‰é¡¹é¡µé¢ï¼Œç‚¹å‡»å·¦ä¾§çš„â€œæ–°å»ºæƒ…æ™¯æ¨¡å¼â€ã€‚ è¾“å…¥æƒ…æ™¯æ¨¡å¼çš„åç§°ï¼Œä¾‹å¦‚â€œSOCKS Proxyâ€ï¼Œç„¶åé€‰æ‹©â€œä»£ç†æœåŠ¡å™¨â€ã€‚ åœ¨â€œä»£ç†åè®®å’ŒæœåŠ¡å™¨â€éƒ¨åˆ†ï¼Œé€‰æ‹©SOCKS5ï¼Œè¾“å…¥127.0.0.1ä½œä¸ºæœåŠ¡å™¨åœ°å€ï¼Œç«¯å£è®¾ç½®ä¸ºä½ åœ¨ç¬¬ä¸€æ­¥ä¸­é€‰æ‹©çš„ç«¯å£ï¼Œä¾‹å¦‚1080ã€‚ ç‚¹å‡»å·¦ä¾§çš„â€œè‡ªåŠ¨åˆ‡æ¢â€ï¼Œç„¶ååœ¨â€œè§„åˆ™åˆ—è¡¨è§„åˆ™â€ä¸­æ·»åŠ ä¸€æ¡æ–°çš„è§„åˆ™ã€‚åœ¨â€œä¸»æœºé€šé…ç¬¦â€ä¸­è¾“å…¥*.openai.comï¼Œç„¶ååœ¨â€œæƒ…æ™¯æ¨¡å¼â€ä¸­é€‰æ‹©ä½ åˆšåˆšåˆ›å»ºçš„â€œSOCKS Proxyâ€ã€‚ ç‚¹å‡»â€œåº”ç”¨é€‰é¡¹â€ã€‚ ç°åœ¨ï¼Œå½“ä½ è®¿é—®ä»»ä½•ä»¥.openai.comç»“å°¾çš„ç½‘ç«™æ—¶ï¼Œä½ çš„è¯·æ±‚å°†é€šè¿‡ä½ åœ¨ç¬¬ä¸€æ­¥ä¸­è®¾ç½®çš„SOCKSä»£ç†æœåŠ¡å™¨è½¬å‘ã€‚" }, { "title": "synopsys dev not in", "url": "/posts/synopsys-dve/", "categories": "icenv", "tags": "", "date": "2023-07-15 23:39:01 +0000", "snippet": "é—®é¢˜è¡Œä¸šç¾¤é—®åˆ°ï¼Œvcså¸¦çš„dveå‘½ä»¤å¯åŠ¨æŠ¥é”™ERROR - Unable to find valid DVE installation in $VCS_HOME/gui/dve, please download DVE installation package and install it under $VCS_HOMEã€‚åˆ†æè¿™ä¸ªé”™è¯¯æç¤ºè¡¨æ˜ä½ æ­£åœ¨è¯•å›¾è¿è¡ŒSynopsys VCSçš„DVE (...", "content": "é—®é¢˜è¡Œä¸šç¾¤é—®åˆ°ï¼Œvcså¸¦çš„dveå‘½ä»¤å¯åŠ¨æŠ¥é”™ERROR - Unable to find valid DVE installation in $VCS_HOME/gui/dve, please download DVE installation package and install it under $VCS_HOMEã€‚åˆ†æè¿™ä¸ªé”™è¯¯æç¤ºè¡¨æ˜ä½ æ­£åœ¨è¯•å›¾è¿è¡ŒSynopsys VCSçš„DVE (Design Vision Environment) å›¾å½¢ç•Œé¢ï¼Œä½†æ˜¯åœ¨ä½ è®¾ç½®çš„$VCS_HOMEç¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•ä¸‹æ²¡æœ‰æ‰¾åˆ°æœ‰æ•ˆçš„DVEå®‰è£…ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºDVEæ²¡æœ‰è¢«æ­£ç¡®å®‰è£…ï¼Œæˆ–è€…$VCS_HOMEç¯å¢ƒå˜é‡æ²¡æœ‰è¢«æ­£ç¡®è®¾ç½®ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥å°è¯•ä»¥ä¸‹æ­¥éª¤ï¼š ç¡®è®¤DVEæ˜¯å¦å·²ç»è¢«æ­£ç¡®å®‰è£…ã€‚åœ¨ä½ çš„Synopsys VCSå®‰è£…ç›®å½•ä¸‹ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªåä¸ºgui/dveçš„å­ç›®å½•ã€‚å¦‚æœè¿™ä¸ªç›®å½•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦é‡æ–°å®‰è£…DVEã€‚ æ£€æŸ¥$VCS_HOMEç¯å¢ƒå˜é‡æ˜¯å¦å·²ç»è¢«æ­£ç¡®è®¾ç½®ã€‚ä½ å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥echo $VCS_HOMEæ¥æŸ¥çœ‹è¿™ä¸ªç¯å¢ƒå˜é‡çš„å€¼ã€‚è¿™ä¸ªå€¼åº”è¯¥æ˜¯ä½ çš„Synopsys VCSå®‰è£…ç›®å½•çš„è·¯å¾„ã€‚å¦‚æœè¿™ä¸ªå€¼ä¸æ­£ç¡®ï¼Œä½ éœ€è¦æ›´æ–°$VCS_HOMEç¯å¢ƒå˜é‡çš„è®¾ç½®ã€‚ åœ¨C shellä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä¸´æ—¶è®¾ç½®$VCS_HOMEç¯å¢ƒå˜é‡ï¼š setenv VCS_HOME /path/to/your/vcs/installation è¦æ°¸ä¹…è®¾ç½®è¿™ä¸ªç¯å¢ƒå˜é‡ï¼Œä½ å¯ä»¥å°†ä¸Šè¿°exportå‘½ä»¤æ·»åŠ åˆ°ä½ çš„shellå¯åŠ¨è„šæœ¬ä¸­ï¼Œå¦‚C shellçš„~/.cshrcã€‚ å¦‚æœä¸Šè¿°æ­¥éª¤éƒ½ä¸èƒ½è§£å†³é—®é¢˜ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦ä»Synopsysä¸‹è½½å¹¶é‡æ–°å®‰è£…DVEåˆ°$VCS_HOMEç›®å½•ä¸‹ã€‚ å¦‚æœä½ è¿˜æœ‰é—®é¢˜ï¼Œæˆ–è€…ä¸ç¡®å®šå¦‚ä½•è¿›è¡Œï¼Œä½ å¯èƒ½éœ€è¦è”ç³»Synopsysçš„æŠ€æœ¯æ”¯æŒè·å–å¸®åŠ©ã€‚" }, { "title": "Subversion Performance", "url": "/posts/subversion-performance/", "categories": "icenv", "tags": "svn", "date": "2023-06-12 13:46:33 +0000", "snippet": "èƒŒæ™¯æ®ä½œè€…äº†è§£ï¼Œæˆªæ­¢è‡³æœ¬æ–‡å†™ä½œï¼ŒèŠ¯ç‰‡ç ”å‘ä¸šåŠ¡å¤§å¤šåœ¨ä½¿ç”¨CentOS/RHEL 7ï¼Œå…¶ä¸­7.9æ˜¯finalç‰ˆæœ¬ï¼Œä½¿ç”¨çš„æœ€å¤šã€‚è¿˜æœ‰äº›å› å†å²é¡¹ç›®ä¸è€æ—§å·¥å…·ç‰ˆæœ¬ï¼Œåœ¨ä½¿ç”¨CentOS/RHEL 5æˆ–è€…6çš„ã€‚åœ¨è¿™äº›ç¯å¢ƒä¸‹ï¼ŒITéƒ¨ç½²svnï¼Œä¸€èˆ¬æ˜¯ç›´æ¥yum install subversionè¿›è¡Œå®‰è£…çš„ã€‚ä»¥CentOS 7.9ä¸ºä¾‹ï¼Œå®‰è£…çš„æ˜¯1.7.14ç‰ˆæœ¬çš„svnã€‚è½¯ä»¶åœ¨è¿­ä»£å‡çº§è¿‡ç¨‹ä¸­ï¼Œé™¤ä¿®å¤bugï¼Œæ–°å¢...", "content": "èƒŒæ™¯æ®ä½œè€…äº†è§£ï¼Œæˆªæ­¢è‡³æœ¬æ–‡å†™ä½œï¼ŒèŠ¯ç‰‡ç ”å‘ä¸šåŠ¡å¤§å¤šåœ¨ä½¿ç”¨CentOS/RHEL 7ï¼Œå…¶ä¸­7.9æ˜¯finalç‰ˆæœ¬ï¼Œä½¿ç”¨çš„æœ€å¤šã€‚è¿˜æœ‰äº›å› å†å²é¡¹ç›®ä¸è€æ—§å·¥å…·ç‰ˆæœ¬ï¼Œåœ¨ä½¿ç”¨CentOS/RHEL 5æˆ–è€…6çš„ã€‚åœ¨è¿™äº›ç¯å¢ƒä¸‹ï¼ŒITéƒ¨ç½²svnï¼Œä¸€èˆ¬æ˜¯ç›´æ¥yum install subversionè¿›è¡Œå®‰è£…çš„ã€‚ä»¥CentOS 7.9ä¸ºä¾‹ï¼Œå®‰è£…çš„æ˜¯1.7.14ç‰ˆæœ¬çš„svnã€‚è½¯ä»¶åœ¨è¿­ä»£å‡çº§è¿‡ç¨‹ä¸­ï¼Œé™¤ä¿®å¤bugï¼Œæ–°å¢featureï¼Œè¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯å¸¦æ¥æ€§èƒ½æå‡ã€‚subversionä¹Ÿä¸ä¾‹å¤–ï¼Œå¯ä»¥å‚è€ƒwandiscoå…¬å¸åšçš„benchmark1ã€‚å®éªŒç”±wandiscoå…¬å¸æä¾›çš„benchmarkå¯ä»¥å¾—åˆ°è§„å¾‹ï¼šsubversionç‰ˆæœ¬è¶Šé«˜ï¼Œè·å¾—çš„æ€§èƒ½è¶Šå¼ºã€‚æˆ‘ä»¬ç”¨è‡ªå·±çš„ç¯å¢ƒåšå®éªŒï¼Œå½“å‰ç‰ˆæœ¬1.7.14 vs. æœ€æ–°ç¨³å®šç‰ˆæœ¬1.14.1ã€‚ç¯å¢ƒè¯´æ˜ åºå· ç¯å¢ƒä¸€ ç¯å¢ƒäºŒ æœåŠ¡å™¨ CentOS 7.9 CentOS 7.9 SVN Server 1.14.1 1.7.14 SVN Client 1.14.1 1.7.14 æµ‹è¯•ä»“åº“æ‰€å±ä¸šåŠ¡ éªŒè¯ éªŒè¯ checkoutä»“åº“nodeæ•°é‡ Â  Â  checkoutä»“åº“revæ•°é‡ 14885 14885 update revè‡³ 15669 15669 å®éªŒæ•°æ® åºå· ç¯å¢ƒä¸€ ç¯å¢ƒäºŒ æ—¶é—´%é™ä½è‡³ co 63.470u 22.431s 110.595u 24.920s 63% co 63.467u 22.718s 113.484u 25.144s 62% up 44.089u 16.353s 84.621u 19.304s 58% up 43.856u 16.083s 83.391u 19.075s 58% ç»“è®ºåœ¨å¸¸è§çš„checkoutä¸upadteåœºæ™¯ä¸‹ï¼Œsvn 1.14.1æ¯”1.7.14æ€§èƒ½æ›´å¼ºâ€”â€”è€—æ—¶é™ä½è‡³60%å·¦å³ã€‚é‰´äºå®éªŒç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥å°†svnå‡çº§åˆ°æ–°ç‰ˆæœ¬ä»¥è·å¾—æ›´ä¼˜çš„æ€§èƒ½ã€‚ http://live.wandisco.com/Fuhrmann_SVNlive2014%20Benchmarking%20SVN.pdfÂ &#8617;&#xfe0e; " }, { "title": "a post with custom blockquotes", "url": "/posts/custom-blockquotes/", "categories": "sample-posts", "tags": "formatting, blockquotes", "date": "2023-05-12 19:53:00 +0000", "snippet": "This post shows how to add custom styles for blockquotes. Based on jekyll-gitbook implementation.We decided to support the same custom blockquotes as in jekyll-gitbook, which are also found in a lo...", "content": "This post shows how to add custom styles for blockquotes. Based on jekyll-gitbook implementation.We decided to support the same custom blockquotes as in jekyll-gitbook, which are also found in a lot of other sitesâ€™ styles. The styles definitions can be found on the _base.scss file, more specifically:/* Tips, warnings, and dangers */.post .post-content blockquote { &amp;.block-tip { border-color: var(--global-tip-block); background-color: var(--global-tip-block-bg); p { color: var(--global-tip-block-text); } h1, h2, h3, h4, h5, h6 { color: var(--global-tip-block-title); } } &amp;.block-warning { border-color: var(--global-warning-block); background-color: var(--global-warning-block-bg); p { color: var(--global-warning-block-text); } h1, h2, h3, h4, h5, h6 { color: var(--global-warning-block-title); } } &amp;.block-danger { border-color: var(--global-danger-block); background-color: var(--global-danger-block-bg); p { color: var(--global-danger-block-text); } h1, h2, h3, h4, h5, h6 { color: var(--global-danger-block-title); } }}A regular blockquote can be used as following:&gt; This is a regular blockquote&gt; and it can be used as usual This is a regular blockquoteand it can be used as usualThese custom styles can be used by adding the specific class to the blockquote, as follows:&gt; ##### TIP&gt;&gt; A tip can be used when you want to give advice&gt; related to a certain content.{: .block-tip } TIP A tip can be used when you want to give advicerelated to a certain content.&gt; ##### WARNING&gt;&gt; This is a warning, and thus should&gt; be used when you want to warn the user{: .block-warning } WARNING This is a warning, and thus shouldbe used when you want to warn the user&gt; ##### DANGER&gt;&gt; This is a danger zone, and thus should&gt; be used carefully{: .block-danger } DANGER This is a danger zone, and thus shouldbe used carefully" }, { "title": "Checkout request rejected by vendor-defined checkout filteræŠ¥é”™", "url": "/posts/Checkout-request-rejected-by-vendor-defined-checkout-filter/", "categories": "icenv", "tags": "license", "date": "2023-05-10 00:43:45 +0000", "snippet": "é—®é¢˜è½¯ä»¶è¿è¡ŒæŠ¥é”™Checkout request rejected by vendor-defined checkout filterFeature: Proto********S-RTLicense path: 27020@hostnameFlexNet Licensing error:-53,234Please choose another license.åŸå› https://docs....", "content": "é—®é¢˜è½¯ä»¶è¿è¡ŒæŠ¥é”™Checkout request rejected by vendor-defined checkout filterFeature: Proto********S-RTLicense path: 27020@hostnameFlexNet Licensing error:-53,234Please choose another license.åŸå› https://docs.flexera.com/fnmea/2020r1/ConceptGuide/Content/helplibrary/License_Denials.htm å¯è·å¾—è¯¥æŠ¥é”™çš„è§£é‡Šï¼ŒThe application has a built-in test for the license that failed and rejected the license checkout. ã€‚è§£å†³åœ¨License Serverä¾§ï¼Œæ‰§è¡Œlmutil lmreread -c &lt;license.txt&gt;ä¸€ä¸‹license fileè§£å†³ã€‚" }, { "title": "spackæ‰“å¼€modules", "url": "/posts/enable-modules-with-spack/", "categories": "icenv", "tags": "spack", "date": "2023-05-07 09:13:22 +0000", "snippet": "èƒŒæ™¯spackæ˜¯HPCä½¿ç”¨æœ€å¹¿çš„åŒ…ç®¡ç†å™¨ä¹‹ä¸€ã€‚æœ€è¿‘è¡Œä¸šå†…æœ‹å‹é¢‘ç¹é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ä½¿ç”¨æ–°ç‰ˆæœ¬spackå®‰è£…å®Œå·¥å…·åï¼Œæœªç”Ÿæˆå·¥å…·çš„modulefileã€‚è§£å†³æ ¹æ®å®˜ç½‘ä»‹ç»ï¼Œhttps://spack.readthedocs.io/en/latest/module_file_support.html#write-a-configuration-fileå¯ä»¥æ‰“å¼€tclã€lmodæˆ–è€…äºŒè€…éƒ½æ‰“å¼€ã€‚", "content": "èƒŒæ™¯spackæ˜¯HPCä½¿ç”¨æœ€å¹¿çš„åŒ…ç®¡ç†å™¨ä¹‹ä¸€ã€‚æœ€è¿‘è¡Œä¸šå†…æœ‹å‹é¢‘ç¹é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ä½¿ç”¨æ–°ç‰ˆæœ¬spackå®‰è£…å®Œå·¥å…·åï¼Œæœªç”Ÿæˆå·¥å…·çš„modulefileã€‚è§£å†³æ ¹æ®å®˜ç½‘ä»‹ç»ï¼Œhttps://spack.readthedocs.io/en/latest/module_file_support.html#write-a-configuration-fileå¯ä»¥æ‰“å¼€tclã€lmodæˆ–è€…äºŒè€…éƒ½æ‰“å¼€ã€‚" }, { "title": "Python pillowä¿®å›¾", "url": "/posts/modify-image-with-pillow/", "categories": "icenv", "tags": "python", "date": "2023-05-07 02:47:38 +0000", "snippet": "èƒŒæ™¯ä»¥æŒ‡å®šå‚æ•°å»è°ƒç”¨Grafanaå¯è§†åŒ–ç•Œé¢APIç”Ÿæˆå›¾ç‰‡ã€‚ä½†APIæœªæä¾›ä¿®æ”¹å›¾ç‰‡ï¼ˆå¦‚titleæˆ–å…¶å®ƒåŒºåŸŸï¼‰çš„åŠŸèƒ½ï¼Œç›´æ¥ä½œä¸ºæŠ¥å‘Šå‘é€å¯èƒ½ä¼ è¾¾çš„ä¿¡æ¯ä¸å¤Ÿæ¸…æ™°ã€‚æ­¥éª¤è·å–å›¾ç‰‡æŒ‰ç…§æœ¬æ–‡çš„æ­¥éª¤è·å–å›¾ç‰‡ï¼ˆæ•°å€¼å·²é©¬èµ›å…‹ï¼‰ï¼šä¿®å›¾éœ€æ±‚ å°†titleä¿®æ”¹æ‰ï¼› total Meanå»æ‰ï¼Œä¸é‡è¦ã€‚ç¼–ç å…ˆå®‰è£…å¥½pillowæ¨¡å—pip3 install pillowç„¶åç #!/usr/bin/env python3...", "content": "èƒŒæ™¯ä»¥æŒ‡å®šå‚æ•°å»è°ƒç”¨Grafanaå¯è§†åŒ–ç•Œé¢APIç”Ÿæˆå›¾ç‰‡ã€‚ä½†APIæœªæä¾›ä¿®æ”¹å›¾ç‰‡ï¼ˆå¦‚titleæˆ–å…¶å®ƒåŒºåŸŸï¼‰çš„åŠŸèƒ½ï¼Œç›´æ¥ä½œä¸ºæŠ¥å‘Šå‘é€å¯èƒ½ä¼ è¾¾çš„ä¿¡æ¯ä¸å¤Ÿæ¸…æ™°ã€‚æ­¥éª¤è·å–å›¾ç‰‡æŒ‰ç…§æœ¬æ–‡çš„æ­¥éª¤è·å–å›¾ç‰‡ï¼ˆæ•°å€¼å·²é©¬èµ›å…‹ï¼‰ï¼šä¿®å›¾éœ€æ±‚ å°†titleä¿®æ”¹æ‰ï¼› total Meanå»æ‰ï¼Œä¸é‡è¦ã€‚ç¼–ç å…ˆå®‰è£…å¥½pillowæ¨¡å—pip3 install pillowç„¶åç #!/usr/bin/env python3# wanlinwang# 07-May-2023# å¤„ç†500x250çš„å›¾ç‰‡ï¼Œä¿®æ”¹æ ‡é¢˜ï¼Œå†æŠ¹æ‰éƒ¨åˆ†ä¿¡æ¯ã€‚from PIL import Image, ImageFont, ImageDrawfilename=\"/Users/wanlinwang/image_processing/è¿‡å»30å¤©çš„Licenseä½¿ç”¨æŠ¥å‘Š_20230407000000_to_20230507000000_raw.png\"filename_dst=\"/Users/wanlinwang/image_processing/è¿‡å»30å¤©çš„Licenseä½¿ç”¨æŠ¥å‘Š_20230407000000_to_20230507000000_dest.png\"im = Image.open(filename)W, H = im.sizetitle_font = ImageFont.truetype('/Users/wanlinwang/image_processing/fonts/NotoSerifSC-Black.otf', 25)image_editable = ImageDraw.Draw(im)title_text=\"è¿‡å»30å¤©çš„Licenseä½¿ç”¨æŠ¥å‘Š\"# (x0, y0, x1, y1), å¡«å……é»‘è‰²ï¼ŒæŠ¹æ‰åŸtitleimage_editable.rectangle((0, 0, W, 36), fill=\"black\")# åŠ ä¸Šæ–°titleimage_editable.text((W/2, 0), title_text, (237, 230, 211), anchor='ma', font=title_font)# (x0, y0, x1, y1), å¡«å……é»‘è‰²ï¼ŒæŠ¹æ‰total Meanimage_editable.rectangle((135, 222, W, H), fill=\"black\")# ä¿å­˜å›¾ç‰‡æ–‡ä»¶im.save(filename_dst)æ•ˆæœå‚è€ƒèµ„æ–™ ImageDraw.text()é”šç‚¹å‚æ•°è¯´æ˜ï¼šhttps://pillow.readthedocs.io/en/stable/reference/ImageDraw.html#PIL.ImageDraw.ImageDraw.text è·å–å›¾ç‰‡åƒç´ ç‚¹ï¼Œåœ¨Windowsä¸Šå¯ä»¥ä½¿ç”¨ç”»å›¾æ‰“å¼€å›¾ç‰‡ï¼Œå°†é¼ æ ‡åœç•™åœ¨å›¾ç‰‡ä»»æ„åƒç´ ç‚¹ï¼Œå³å¯åœ¨å·¦ä¸‹æ–¹æ˜¾ç¤ºåƒç´ ç‚¹çš„åæ ‡ä½ç½®ã€‚åœ¨MacOSæš‚æœªæ‰¾åˆ°æ–¹æ³•ï¼Œæ¬¢è¿ç•™è¨€ã€‚" }, { "title": "ä»Grafanaè·å–panelå›¾ç‰‡", "url": "/posts/rendering-image-from-grafana-panel/", "categories": "icenv", "tags": "report", "date": "2023-05-06 01:23:19 +0000", "snippet": "å‰è¨€æ—¥å¸¸å·¥ä½œï¼Œæœ‰è¿™æ ·çš„éœ€æ±‚ï¼šä»¥æŒ‡å®šçš„æ—¶é—´åŒºé—´ä»¥åŠå˜é‡ï¼Œè·å¾—Grafana panelå›¾ï¼Œå¹¶å°†å¤šå¼ å›¾ä»¥é‚®ä»¶çš„æ–¹å¼å‘é€åˆ°é¢†å¯¼ã€‚æ­¥éª¤ å…ˆåˆ›å»ºAPI key è·å¾—Panelçš„å›¾ç‰‡é“¾æ¥æ‰“å¼€Dashboardï¼Œåœ¨éœ€è¦ç”Ÿæˆå›¾ç‰‡çš„Panelä¸Šï¼Œç‚¹å‡»ä¸‹æ‹‰-&gt;Shareï¼Œ å¦‚æœæœªå®‰è£…Grafana image render pluginï¼Œåˆ™ç‚¹å‡»å¹¶æŒ‰ç…§æç¤ºå®‰è£…ï¼Œå®‰è£…å®Œæ¯•åå¦‚ä¸‹å›¾æ‰€ç¤º...", "content": "å‰è¨€æ—¥å¸¸å·¥ä½œï¼Œæœ‰è¿™æ ·çš„éœ€æ±‚ï¼šä»¥æŒ‡å®šçš„æ—¶é—´åŒºé—´ä»¥åŠå˜é‡ï¼Œè·å¾—Grafana panelå›¾ï¼Œå¹¶å°†å¤šå¼ å›¾ä»¥é‚®ä»¶çš„æ–¹å¼å‘é€åˆ°é¢†å¯¼ã€‚æ­¥éª¤ å…ˆåˆ›å»ºAPI key è·å¾—Panelçš„å›¾ç‰‡é“¾æ¥æ‰“å¼€Dashboardï¼Œåœ¨éœ€è¦ç”Ÿæˆå›¾ç‰‡çš„Panelä¸Šï¼Œç‚¹å‡»ä¸‹æ‹‰-&gt;Shareï¼Œ å¦‚æœæœªå®‰è£…Grafana image render pluginï¼Œåˆ™ç‚¹å‡»å¹¶æŒ‰ç…§æç¤ºå®‰è£…ï¼Œå®‰è£…å®Œæ¯•åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¤åˆ¶â€œDirect link rendered imageâ€é“¾æ¥ã€‚ åœ¨Pythoné‡Œï¼Œè¯·æ±‚æ­¥éª¤2è·å¾—çš„é“¾æ¥ï¼Œå°†response.contentä»¥äºŒè¿›åˆ¶ä¿å­˜åˆ°æ–‡ä»¶é‡Œï¼Œè¯¥æ–‡ä»¶å³æ˜¯å›¾ç‰‡æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œå¦‚æœéœ€è¦å¯¹å›¾ç‰‡è¿›è¡Œéƒ¨åˆ†é®ç›–ã€å†™æ–‡å­—ï¼Œå¯ä»¥ä½¿ç”¨pillowæ¨¡å—ã€‚" }, { "title": "è¶…çº¿ç¨‹", "url": "/posts/hyperthreading/", "categories": "icenv", "tags": "ht", "date": "2023-05-05 11:10:58 +0000", "snippet": "ç®€ä»‹è¶…çº¿ç¨‹æ˜¯Intelä¸AMDçš„ä¸€é¡¹æŠ€æœ¯ï¼Œé€šè¿‡åœ¨ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¡¬ä»¶èµ„æºï¼Œä½¿å¾—å•cpuå¯¹æ“ä½œç³»ç»Ÿè€Œè¨€æ˜¯ä¸¤ä¸ªvcpuã€‚è¶…çº¿ç¨‹å…±äº«ä¸€ä¸ªç‰©ç†æ ¸å¿ƒä»¥åŠå®ƒçš„ç¼“å­˜ç³»ç»Ÿã€‚å› ä¸ºhuancun æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥åœ¨è¶…çº¿ç¨‹ä¹‹é—´ç§»åŠ¨æ•°æ®ä¸ä¼šæœ‰å¤ªå¤šæŸå¤±ã€‚ä½†è¿™ä¹Ÿæ„å‘³ç€å¦‚æœåœ¨åŒä¸€ä¸ªç‰©ç†æ ¸å¿ƒçš„å¤šä¸ªè¶…çº¿ç¨‹è¿è¡Œçš„ä¸åŒè¿›ç¨‹ä¹‹é—´æ²¡æœ‰ä»»ä½•å…±äº«çš„æ•°æ®ï¼Œåˆ™æ¯ä¸ªè™šæ‹Ÿæ ¸å¿ƒçš„ç¼“å­˜å¤§å°åªæœ‰çœŸå®ç‰©ç†æ ¸å¿ƒçš„ä¸€åŠã€‚å¯¹äºå†…å­˜å—é™çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œå°†ç¼“å­˜å‡åŠ...", "content": "ç®€ä»‹è¶…çº¿ç¨‹æ˜¯Intelä¸AMDçš„ä¸€é¡¹æŠ€æœ¯ï¼Œé€šè¿‡åœ¨ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¡¬ä»¶èµ„æºï¼Œä½¿å¾—å•cpuå¯¹æ“ä½œç³»ç»Ÿè€Œè¨€æ˜¯ä¸¤ä¸ªvcpuã€‚è¶…çº¿ç¨‹å…±äº«ä¸€ä¸ªç‰©ç†æ ¸å¿ƒä»¥åŠå®ƒçš„ç¼“å­˜ç³»ç»Ÿã€‚å› ä¸ºhuancun æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥åœ¨è¶…çº¿ç¨‹ä¹‹é—´ç§»åŠ¨æ•°æ®ä¸ä¼šæœ‰å¤ªå¤šæŸå¤±ã€‚ä½†è¿™ä¹Ÿæ„å‘³ç€å¦‚æœåœ¨åŒä¸€ä¸ªç‰©ç†æ ¸å¿ƒçš„å¤šä¸ªè¶…çº¿ç¨‹è¿è¡Œçš„ä¸åŒè¿›ç¨‹ä¹‹é—´æ²¡æœ‰ä»»ä½•å…±äº«çš„æ•°æ®ï¼Œåˆ™æ¯ä¸ªè™šæ‹Ÿæ ¸å¿ƒçš„ç¼“å­˜å¤§å°åªæœ‰çœŸå®ç‰©ç†æ ¸å¿ƒçš„ä¸€åŠã€‚å¯¹äºå†…å­˜å—é™çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œå°†ç¼“å­˜å‡åŠå¯èƒ½æ˜¯ä¸€ä¸ªä¸¥é‡çš„æ‰“å‡»ã€‚å› æ­¤ï¼Œè¶…çº¿ç¨‹æœ‰åˆ©æœ‰å¼Šã€‚è®¸å¤šHPCå…³é—­äº†è¶…çº¿ç¨‹ï¼Œå› ä¸ºä¸€äº›ç¨‹åºä½¿ç”¨è¶…çº¿ç¨‹åè€Œæ›´æ…¢ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨è¶…çº¿ç¨‹ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›è¿›ç¨‹é è¿‘ï¼Œè¿™æ ·å…±äº«ç¼“å­˜å¯¹ä¸¤ä¸ªè™šæ‹Ÿå¤„ç†å™¨éƒ½æœ‰åˆ©ã€‚" }, { "title": "Process Sched", "url": "/posts/process-sched/", "categories": "", "tags": "", "date": "2023-04-27 08:47:12 +0000", "snippet": "æ„é€ ç”¨ä¾‹ä½¿ç”¨perfæŠ“å–æŸ¥çœ‹é—´éš”ï¼Œè¿™é‡Œé¢‘ç‡æ˜¯250ã€‚ä¹Ÿå°±æ˜¯æ¯4msæ¥çœ‹ä¸€æ¬¡ã€‚å¼€å¯å‡†ç¡®çš„è°ƒåº¦ã€‚å¼€å¯HRTICKï¼Œå®é™…ä¸Šç”¨å¾—å°‘ã€‚cat /proc//schedrenice è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§ã€‚ç»„è°ƒåº¦ã€‚cgroupè´Ÿè½½å‡è¡¡ã€‚RCUæ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªRCU stall detect", "content": "æ„é€ ç”¨ä¾‹ä½¿ç”¨perfæŠ“å–æŸ¥çœ‹é—´éš”ï¼Œè¿™é‡Œé¢‘ç‡æ˜¯250ã€‚ä¹Ÿå°±æ˜¯æ¯4msæ¥çœ‹ä¸€æ¬¡ã€‚å¼€å¯å‡†ç¡®çš„è°ƒåº¦ã€‚å¼€å¯HRTICKï¼Œå®é™…ä¸Šç”¨å¾—å°‘ã€‚cat /proc//schedrenice è°ƒæ•´è¿›ç¨‹ä¼˜å…ˆçº§ã€‚ç»„è°ƒåº¦ã€‚cgroupè´Ÿè½½å‡è¡¡ã€‚RCUæ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªRCU stall detect" }, { "title": "XDG_DATA_DIRSå˜é‡å¯¼è‡´im-chooserä¸æ­£å¸¸", "url": "/posts/XDG_DATA_DIRS-variable-cause-im-chooser-not-working/", "categories": "icenv", "tags": "im", "date": "2023-04-26 11:38:12 +0000", "snippet": "é—®é¢˜æè¿°CentOS 7.9æ¡Œé¢ç”¨æˆ·ï¼Œé‡æ–°ç™»å½•çš„vncä¼šè¯ï¼Œè¿è¡Œim-chooseræ— æ³•åœ¨å³ä¸Šè§’å”¤èµ·è¾“å…¥æ³•é€‰æ‹©å™¨ã€‚é—®é¢˜å®šä½é€šè¿‡äºŒåˆ†æ’é™¤æ³•å®šä½åˆ°æ˜¯spackå®‰è£…çš„vimçš„modulefileé‡Œï¼Œå¥½å‡ å¥è®¾ç½®XDG_DATA_DIRSè¯­å¥å¯¼è‡´ï¼Œprepend-path XDG_DATA_DIRS \"/tools/opensrc/spack/opt/spack/linux-tlinux2-icela...", "content": "é—®é¢˜æè¿°CentOS 7.9æ¡Œé¢ç”¨æˆ·ï¼Œé‡æ–°ç™»å½•çš„vncä¼šè¯ï¼Œè¿è¡Œim-chooseræ— æ³•åœ¨å³ä¸Šè§’å”¤èµ·è¾“å…¥æ³•é€‰æ‹©å™¨ã€‚é—®é¢˜å®šä½é€šè¿‡äºŒåˆ†æ’é™¤æ³•å®šä½åˆ°æ˜¯spackå®‰è£…çš„vimçš„modulefileé‡Œï¼Œå¥½å‡ å¥è®¾ç½®XDG_DATA_DIRSè¯­å¥å¯¼è‡´ï¼Œprepend-path XDG_DATA_DIRS \"/tools/opensrc/spack/opt/spack/linux-tlinux2-icelake/gcc-11.2.0/atk-2.36.0-44etyekjnugxjiz6tblr7zddv5igvzn2/share\"é—®é¢˜æ ¹å› TODOå‚è€ƒèµ„æ–™ XDG_DATA_DIRSå˜é‡ä»‹ç»ï¼š https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html CentOS 7.9æ¡Œé¢ç”¨æˆ·å®‰è£…ä¸­æ–‡è¾“å…¥æ³•ï¼šhttps://blog.csdn.net/thesre/article/details/125595496" }, { "title": "é™ä½Environment Modulesçš„I/O Load", "url": "/posts/reduce-io-load/", "categories": "icenv", "tags": "modules", "date": "2023-04-12 04:34:10 +0000", "snippet": "èƒŒæ™¯åœ¨å‰å¸çš„å¤šä¸ªæ•°æ®ä¸­å¿ƒä¸­ï¼Œæ¯ä¸ªæ•°æ®ä¸­å¿ƒéƒ½æœ‰å¤šä¸ªé›†ç¾¤ï¼Œå•ä¸ªé›†ç¾¤è§„æ¨¡å¯ä»¥è¾¾åˆ°æ•°åƒå°ç‰©ç†æœºã€‚å½“å¤§é‡éªŒè¯ä»»åŠ¡å¹¶å‘æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°NFSå¡æ­»çš„é—®é¢˜ã€‚ç”¨æˆ·åœ¨æ‰§è¡Œlså‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šå¡ä½å‡ åç§’ï¼Œç”šè‡³æ— æ³•å“åº”ã€‚é—®é¢˜çˆ†å‘åï¼ŒCADä¸ITéƒ¨é—¨ä¹‹é—´å‡ºç°äº†ç›¸äº’æ¨è¯¿çš„æƒ…å†µï¼š CADéƒ¨é—¨æŠ±æ€¨ITæä¾›çš„å­˜å‚¨æ€§èƒ½å¤ªå·®ï¼Œæ— æ³•æ»¡è¶³æ­£å¸¸çš„ä¸šåŠ¡éœ€æ±‚ï¼› ITéƒ¨é—¨åˆ™è´£æ€ªCADæ²¡æœ‰åˆç†å¼•å¯¼ä¸šåŠ¡ï¼Œå°†è®¸å¤šä¸å¿…è¦çš„I/Oæ“ä½œå»é™¤ã€‚åˆ†æé€š...", "content": "èƒŒæ™¯åœ¨å‰å¸çš„å¤šä¸ªæ•°æ®ä¸­å¿ƒä¸­ï¼Œæ¯ä¸ªæ•°æ®ä¸­å¿ƒéƒ½æœ‰å¤šä¸ªé›†ç¾¤ï¼Œå•ä¸ªé›†ç¾¤è§„æ¨¡å¯ä»¥è¾¾åˆ°æ•°åƒå°ç‰©ç†æœºã€‚å½“å¤§é‡éªŒè¯ä»»åŠ¡å¹¶å‘æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°NFSå¡æ­»çš„é—®é¢˜ã€‚ç”¨æˆ·åœ¨æ‰§è¡Œlså‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šå¡ä½å‡ åç§’ï¼Œç”šè‡³æ— æ³•å“åº”ã€‚é—®é¢˜çˆ†å‘åï¼ŒCADä¸ITéƒ¨é—¨ä¹‹é—´å‡ºç°äº†ç›¸äº’æ¨è¯¿çš„æƒ…å†µï¼š CADéƒ¨é—¨æŠ±æ€¨ITæä¾›çš„å­˜å‚¨æ€§èƒ½å¤ªå·®ï¼Œæ— æ³•æ»¡è¶³æ­£å¸¸çš„ä¸šåŠ¡éœ€æ±‚ï¼› ITéƒ¨é—¨åˆ™è´£æ€ªCADæ²¡æœ‰åˆç†å¼•å¯¼ä¸šåŠ¡ï¼Œå°†è®¸å¤šä¸å¿…è¦çš„I/Oæ“ä½œå»é™¤ã€‚åˆ†æé€šè¿‡æ·±å…¥åˆ†æï¼Œå‘ç°é—®é¢˜çš„æ ¹æºæ¥è‡ªåŒæ–¹ï¼š CADéƒ¨é—¨æœªèƒ½æ·±å…¥å®šåˆ¶ä¸šåŠ¡æµç¨‹å’Œè„šæœ¬ï¼Œå¾ˆå¤šä»»åŠ¡æ˜¯éšæ„å‘å±•çš„ã€‚CADè‡ªæœ‰çš„è„šæœ¬å’Œå·¥å…·ä¹Ÿç¼ºä¹æ€§èƒ½ä¼˜åŒ–ï¼› ITéƒ¨é—¨å°†é¡¹ç›®ç›®å½•ä¸å·¥å…·ç›®å½•æ”¾åœ¨åŒä¸€å­˜å‚¨æœºå¤´ï¼Œæœªèƒ½å°†ä¸åŒçš„ä¸šåŠ¡éš”ç¦»å¼€ã€‚å†åŠ ä¸ŠCADä¾èµ–çš„å„ç§ç¯å¢ƒï¼Œå¯¼è‡´åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œlså‘½ä»¤æ—¶ï¼Œéœ€è¦ä»å·¥å…·ç›®å½•è¯»å–å¤§é‡ä¿¡æ¯ã€‚è§£å†³æ–¹æ¡ˆï¼ˆæˆ–ç¼“è§£æªæ–½ï¼‰é’ˆå¯¹ä¸åŒæ ¹å› ï¼Œæˆ‘ä»¬åˆ†åˆ«å±•å¼€äº†è®¨è®ºï¼Œå¹¶åˆ¶å®šäº†è§£å†³æ–¹æ¡ˆã€‚ç”±äºæ¶‰åŠçš„ç‚¹è¾ƒå¤šï¼Œåç»­æœ‰æœºä¼šå†è¯¦ç»†å±•å¼€ã€‚æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¦‚ä½•é€šè¿‡Environment Moduleså‡å°‘I/Oè´Ÿè½½ã€‚2020å¹´ï¼šé¦–æ¬¡æå‡ºä¼˜åŒ–æ–¹æ¡ˆåœ¨2020å¹´æ—¶ï¼Œå¼€æºç¤¾åŒºçš„Environment Modulesï¼ˆTCLç‰ˆï¼‰è™½ç„¶å®ç°äº†å¸¸è§åŠŸèƒ½ï¼Œä½†æœªå…³æ³¨æ€§èƒ½ä¼˜åŒ–ã€‚åœ¨æˆ‘ä»¬çš„ç¯å¢ƒä¸­ï¼ŒMODULEPATHè·¯å¾„ä¸‹æœ‰çº¦5000ä¸ªmodulefileæ–‡ä»¶ï¼Œæ¯æ¬¡æ‰§è¡Œmodule avå‘½ä»¤æ—¶ï¼Œéœ€è¦éå†MODULEPATHè·¯å¾„ï¼Œå¹¶è¯»å–æ¯ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€è¡Œæ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨Magic cookieï¼Œä»è€Œç¡®å®šæ˜¯å¦ä¸ºæœ‰æ•ˆçš„modulefileæ–‡ä»¶ã€‚å½“æ—¶æˆ‘æ­£å¥½è·Ÿéšææ™ºæ…§å­¦ä¹ ç¼“å­˜æ¶æ„ï¼Œæˆ‘ä»¬å¼€å§‹å¯¹å¦‚ä½•é€šè¿‡ç¼“å­˜ä¼˜åŒ–Environment Modulesçš„æ€§èƒ½å±•å¼€è®¨è®ºã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬æå‡ºäº†å¯è¡Œçš„æ–¹æ¡ˆï¼š ç¼“å­˜æ–¹æ¡ˆï¼šæ¯æ¬¡å®‰è£…å®Œå·¥å…·åï¼ŒEDAç®¡ç†å‘˜ä¼šå°†module avå‘½ä»¤çš„ç»“æœä»¥ç‰¹å®šæ ¼å¼å­˜å‚¨åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼ˆç¼“å­˜æ–‡ä»¶ï¼‰ã€‚ åŒ…è£…å‘½ä»¤ï¼šç”¨æˆ·æ‰§è¡Œç»è¿‡åŒ…è£…çš„module avå‘½ä»¤æ—¶ï¼Œå‘½ä»¤åªè¯»å–ç¼“å­˜æ–‡ä»¶ï¼Œè€Œä¸ä¼šå†æ¬¡éå†æ•´ä¸ªMODULEPATHè·¯å¾„ã€‚è¿™ç§æ–¹å¼å°†æ¯æ¬¡æ‰§è¡Œçš„ä»»åŠ¡ä»ç”¨æˆ·æ¯æ¬¡é€’å½’éå†å’Œè¯»å–å‡ åƒä¸ªæ–‡ä»¶ï¼Œè½¬æ¢ä¸ºç®¡ç†å‘˜ä¸€æ¬¡é€’å½’éå†å’Œè¯»å–å‡ åƒä¸ªæ–‡ä»¶+ç”¨æˆ·æ¯æ¬¡è¯»å–ä¸€ä¸ªç¼“å­˜æ–‡ä»¶ï¼Œæå¤§åœ°æå‡äº†ç”¨æˆ·çš„ä½“éªŒã€‚2023å¹´ï¼šå¼€æºç¤¾åŒºå¯¹æ€§èƒ½çš„è¿›ä¸€æ­¥å…³æ³¨åˆ°äº†2023å¹´ï¼Œå¼€æºç¤¾åŒºä¹Ÿå¼€å§‹å…³æ³¨Environment Modulesçš„æ€§èƒ½ä¼˜åŒ–ã€‚åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å‡ ç§ä¼˜åŒ–I/Oè´Ÿè½½çš„æŠ€æœ¯ï¼š ä½¿ç”¨TCLæ‰©å±•åº“ä¼˜åŒ–Modulesé€šè¿‡ä½¿ç”¨ä¸“é—¨ä¸ºModulesä¼˜åŒ–çš„TCLæ‰©å±•åº“ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„ioctlã€fcntlå’Œreadlinkç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶ä¸”å°†getentsçš„æ•°é‡é™ä½åˆ°50%ã€‚è¿™äº›ä¼˜åŒ–æ˜¾è‘—å‡å°‘äº†I/Oè´Ÿè½½ã€‚ rcæ–‡ä»¶è¿ç§»è‡³æ ¹å±‚çº§å°†æ¯ä¸ªæ·±å±‚æ¬¡çš„.modulercä¸.versionæ–‡ä»¶è¿ç§»åˆ°MODULEPATHè·¯å¾„çš„æ ¹å±‚çº§ã€‚è¿™æ ·åšå¯ä»¥æ˜¾è‘—å‡å°‘accessã€statã€openã€readå’Œcloseç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°ï¼Œä»è€Œå‡å°‘I/Oè´Ÿæ‹…ã€‚ ä¸å†æ£€æŸ¥Magic Cookieåœ¨æ—©æœŸç‰ˆæœ¬ä¸­ï¼ŒEnvironment Modulesä¼šé€šè¿‡è¯»å–æ¯ä¸ªmodulefileçš„ç¬¬ä¸€è¡Œæ¥åˆ¤æ–­æ˜¯å¦æœ‰æ•ˆã€‚ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒMODULEPATHè·¯å¾„ä¸‹çš„æ–‡ä»¶å‡ ä¹éƒ½æ˜¯æœ‰æ•ˆçš„modulefileã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å–æ¶ˆè¿™ä¸€Magic cookieçš„æ£€æŸ¥ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„openã€readå’Œcloseæ“ä½œã€‚ è™šæ‹Ÿmodulesè™šæ‹Ÿmodulesæ˜¯ä¸€ç§ç¼“å­˜æ–¹æ¡ˆï¼Œå°†modulefileçš„è·¯å¾„ç¼“å­˜åˆ°.modulercæ–‡ä»¶ä¸­ã€‚æ‰§è¡Œmodule avæ—¶ï¼Œè¯»å–.modulercå³å¯ç›´æ¥è·å–æ‰€æœ‰modulefileè·¯å¾„ï¼Œä»è€Œé¿å…äº†éå†ç›®å½•å’Œè¯»å–å¤šä¸ªæ–‡ä»¶çš„æ“ä½œã€‚ Module cacheå¦ä¸€ç§ç¼“å­˜æ–¹æ¡ˆæ˜¯ä½¿ç”¨module cachebuildå‘½ä»¤ï¼Œåœ¨æ¯ä¸ªMODULEPATHè·¯å¾„ä¸‹åˆ›å»ºç¼“å­˜æ–‡ä»¶ã€‚æ‰§è¡Œmodule avæ—¶ï¼Œç›´æ¥è¯»å–ç¼“å­˜æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦å†æ¬¡éå†ç›®å½•ã€‚è™½ç„¶è¯¥æ–¹æ¡ˆä¼šåœ¨æ¯ä¸ªè·¯å¾„ä¸‹ç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼Œä½†å®ƒçš„æ€§èƒ½ä¸æˆ‘ä¹‹å‰çš„å•ä¸€ç¼“å­˜æ–¹æ¡ˆç›¸è¿‘ï¼Œå·²ç»æ¥è¿‘äºç†æƒ³çš„æ€§èƒ½ã€‚ æ€»ç»“é€šè¿‡å¯¹Environment Modulesçš„æ€§èƒ½ä¼˜åŒ–ï¼Œæˆ‘é€šè¿‡ä»¥ä¸‹å‡ ç§æ‰‹æ®µæœ‰æ•ˆé™ä½äº†I/Oè´Ÿè½½ï¼š ä½¿ç”¨ç¼“å­˜æ¥å‡å°‘ç”¨æˆ·å¯¹æ–‡ä»¶ç³»ç»Ÿçš„é‡å¤éå†ï¼› åˆ©ç”¨TCLæ‰©å±•åº“ã€rcæ–‡ä»¶è¿ç§»å’Œå–æ¶ˆMagic cookieæ£€æŸ¥æ¥å‡å°‘ä¸å¿…è¦çš„I/Oæ“ä½œï¼› ä½¿ç”¨è™šæ‹Ÿmoduleså’Œmodule cacheè¿›ä¸€æ­¥å‡å°‘è¯»å–æ“ä½œï¼Œæé«˜æ€§èƒ½ã€‚è¿™äº›æªæ–½æ˜¾è‘—æå‡äº†ç¯å¢ƒä¸­module avå‘½ä»¤çš„å“åº”é€Ÿåº¦ï¼Œç¼“è§£äº†NFSå¡æ­»é—®é¢˜ï¼Œä¹Ÿä¼˜åŒ–äº†CADå’ŒITéƒ¨é—¨ä¹‹é—´çš„é…åˆå’Œå·¥ä½œæ•ˆç‡ã€‚" }, { "title": "Linuxä¸‹çš„rc fileæ˜¯ä»€ä¹ˆï¼Ÿ", "url": "/posts/what-are-rc-files-on-linux/", "categories": "icenv", "tags": "linux", "date": "2023-04-11 06:49:31 +0000", "snippet": "é—®é¢˜æˆ‘ä»¬ç»å¸¸çœ‹åˆ°.cshrcï¼Œ.bashrcè¿™äº›â€œrc fileâ€ï¼Œå®ƒä»¬ä¸ºä»€ä¹ˆè¢«ç§°ä¸ºâ€œrc fileâ€ï¼Ÿä»‹ç»åœ¨Linuxç³»ç»Ÿä¸­ï¼Œrc fileæ˜¯ä¸€ä¸ªç”¨äºé…ç½®shellç¯å¢ƒçš„æ–‡ä»¶ã€‚â€rcâ€é€šå¸¸ä»£è¡¨â€run commandsâ€æˆ–â€resource configurationâ€ï¼Œå› æ­¤rcæ–‡ä»¶ä¹Ÿç§°ä¸ºè¿è¡Œå‘½ä»¤æˆ–èµ„æºé…ç½®æ–‡ä»¶ã€‚æ®ä¿¡å®ƒèµ·æºäº 1965 å¹´å·¦å³çš„ MIT å…¼å®¹æ—¶é—´å…±äº«ç³»ç»Ÿ (CTSS) çš„ ...", "content": "é—®é¢˜æˆ‘ä»¬ç»å¸¸çœ‹åˆ°.cshrcï¼Œ.bashrcè¿™äº›â€œrc fileâ€ï¼Œå®ƒä»¬ä¸ºä»€ä¹ˆè¢«ç§°ä¸ºâ€œrc fileâ€ï¼Ÿä»‹ç»åœ¨Linuxç³»ç»Ÿä¸­ï¼Œrc fileæ˜¯ä¸€ä¸ªç”¨äºé…ç½®shellç¯å¢ƒçš„æ–‡ä»¶ã€‚â€rcâ€é€šå¸¸ä»£è¡¨â€run commandsâ€æˆ–â€resource configurationâ€ï¼Œå› æ­¤rcæ–‡ä»¶ä¹Ÿç§°ä¸ºè¿è¡Œå‘½ä»¤æˆ–èµ„æºé…ç½®æ–‡ä»¶ã€‚æ®ä¿¡å®ƒèµ·æºäº 1965 å¹´å·¦å³çš„ MIT å…¼å®¹æ—¶é—´å…±äº«ç³»ç»Ÿ (CTSS) çš„ runcom å·¥å…·ã€‚ä¸åŒçš„shellå¯èƒ½æœ‰ä¸åŒçš„rcæ–‡ä»¶åå’Œä½ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„Linux shellåŠå…¶å¯¹åº”çš„rcæ–‡ä»¶ï¼š Bash shellï¼š~/.bashrc Zsh shellï¼š~/.zshrc Ksh shellï¼š~/.kshrc Csh shellï¼š~/.cshrc Tcsh shellï¼š~/.tcshrcå½“ç”¨æˆ·ç™»å½•Linuxç³»ç»Ÿæ—¶ï¼Œshellä¼šè¯»å–å…¶å¯¹åº”çš„rcæ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œå…¶ä¸­åŒ…å«çš„å‘½ä»¤å’Œé…ç½®ã€‚è¿™äº›å‘½ä»¤å’Œé…ç½®å¯ä»¥åŒ…æ‹¬è®¾ç½®ç¯å¢ƒå˜é‡ã€å®šä¹‰åˆ«åã€åŠ è½½æ¨¡å—ã€è®¾ç½®æç¤ºç¬¦ç­‰ã€‚ç”¨æˆ·å¯ä»¥ç¼–è¾‘å…¶rcæ–‡ä»¶æ¥è‡ªå®šä¹‰å…¶shellç¯å¢ƒã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„åˆ«åï¼Œä»¥ä¾¿æ›´å¿«é€Ÿåœ°æ‰§è¡Œå¸¸ç”¨çš„å‘½ä»¤ï¼Œæˆ–è€…æ·»åŠ ç¯å¢ƒå˜é‡ä»¥å®šåˆ¶å…¶å·¥ä½œç¯å¢ƒã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrcæ–‡ä»¶æ˜¯shellå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œå› æ­¤åœ¨ç¼–è¾‘rcæ–‡ä»¶æ—¶è¦å°å¿ƒï¼Œç¡®ä¿ä¸ä¼šæ„å¤–åœ°æ‰§è¡Œå±é™©çš„å‘½ä»¤æˆ–é…ç½®ã€‚" }, { "title": "Environment Modulesæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ", "url": "/posts/how-does-environment-modules-work/", "categories": "icenv", "tags": "modules", "date": "2023-04-11 04:35:20 +0000", "snippet": "å‰è¨€Environment Modulesåœ¨æˆ‘ä»¬èŠ¯ç‰‡ç ”å‘ä¸­å·²ç»è€³ç†Ÿèƒ½è¯¦äº†ï¼Œé‚£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿå¾ˆå¤šäººå¯¹è¿™ä¸ªæ¯”è¾ƒé™Œç”Ÿï¼Œå¸¸å¸¸ä¼šé—®ä¸ºä»€ä¹ˆæˆ‘ä¸€ä¸ª .cshrc åªèƒ½å¤Ÿåœ¨ c shell é‡Œ sourceï¼Œè€Œä¸€ä¸ª modulefile ä¾‹å¦‚ modulename èƒ½å¤Ÿåœ¨å¤šç§ shell ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ç›®çš„æœ¬æ–‡é€šè¿‡å¯¹ä¸€ä¸ªå·²ç»åˆå§‹åŒ–å¥½çš„ Environment Modules ç¯å¢ƒçš„ module load...", "content": "å‰è¨€Environment Modulesåœ¨æˆ‘ä»¬èŠ¯ç‰‡ç ”å‘ä¸­å·²ç»è€³ç†Ÿèƒ½è¯¦äº†ï¼Œé‚£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿå¾ˆå¤šäººå¯¹è¿™ä¸ªæ¯”è¾ƒé™Œç”Ÿï¼Œå¸¸å¸¸ä¼šé—®ä¸ºä»€ä¹ˆæˆ‘ä¸€ä¸ª .cshrc åªèƒ½å¤Ÿåœ¨ c shell é‡Œ sourceï¼Œè€Œä¸€ä¸ª modulefile ä¾‹å¦‚ modulename èƒ½å¤Ÿåœ¨å¤šç§ shell ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ç›®çš„æœ¬æ–‡é€šè¿‡å¯¹ä¸€ä¸ªå·²ç»åˆå§‹åŒ–å¥½çš„ Environment Modules ç¯å¢ƒçš„ module load æ­¥éª¤åˆ†æï¼Œæ¥çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚è§£æbash ç¯å¢ƒæˆ‘ä»¬ä»å‘½ä»¤å¼€å§‹ï¼Œé€æ­¥åˆ†æä¸€ä¸ªåˆå§‹åŒ–å¥½çš„ç¯å¢ƒã€‚é¦–å…ˆæ¥çœ‹ module å‘½ä»¤ï¼Œå®ƒæ˜¯ä¸€ä¸ª bash å‡½æ•°ï¼Œè°ƒç”¨äº† bash å‡½æ•° _module_rawï¼š[centos@computing-server-133 ~]$ echo $0-bash[centos@computing-server-133 ~]$ type modulemodule is a functionmodule () { local _mlredir=1; if [ -n \"${MODULES_REDIRECT_OUTPUT+x}\" ]; then if [ \"$MODULES_REDIRECT_OUTPUT\" = '0' ]; then _mlredir=0; else if [ \"$MODULES_REDIRECT_OUTPUT\" = '1' ]; then _mlredir=1; fi; fi; fi; case \" $@ \" in *' --no-redirect '*) _mlredir=0 ;; *' --redirect '*) _mlredir=1; ;; esac; if [ $_mlredir -eq 0 ]; then _module_raw \"$@\"; else _module_raw \"$@\" 2&gt;&amp;1; fi}_module_raw ä¹Ÿæ˜¯ bash å‡½æ•°ï¼Œå®ƒè°ƒç”¨äº† tclsh ç¨‹åºï¼Œè¯»å– tcl è„šæœ¬ä»¥åŠå‚æ•°ï¼Œç”Ÿæˆæ›´æ”¹ç¯å¢ƒçš„è¯­å¥ï¼Œå†å°†å…¶ä½œä¸º eval çš„å‚æ•°ï¼Œå¯¹å½“å‰ shell åšå‡ºæ›´æ”¹ã€‚[centos@computing-server-133 ~]$ type _module_raw_module_raw is a function_module_raw () { eval \"$(/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclsh '/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/libexec/modulecmd.tcl' bash \"$@\")\"; _mlstatus=$?; return $_mlstatus}æˆ‘ä»¬ä»¥åŠ è½½ tcl-8.6.12-gcc-12.2.0-5rkwrb3 è¿™ä¸ª modulefile ä½œä¸ºç¤ºä¾‹ï¼š[centos@computing-server-133 ~]$ ml show tcl-8.6.12-gcc-12.2.0-5rkwrb3-------------------------------------------------------------------/nfs/tools/os/spack/share/spack/modules/linux-centos7-x86_64_v4/tcl-8.6.12-gcc-12.2.0-5rkwrb3:module-whatis {Tcl (Tool Command Language) is a very powerful but easy to learn dynamic programming language, suitable for a very wide range of uses, including web and desktop applications, networking, administration, testing and many more. Open source and business-friendly, Tcl is a mature yet evolving language that is truly cross platform, easily deployed and highly extensible.}module load zlib-1.2.13-gcc-12.2.0-pobtkn4prepend-path --delim : PATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/binprepend-path --delim : MANPATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/manprepend-path --delim : MANPATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/share/manprepend-path --delim : PKG_CONFIG_PATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/lib/pkgconfigprepend-path --delim : CMAKE_PREFIX_PATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/.setenv TCL_LIBRARY /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/lib/tcl8.6-------------------------------------------------------------------[centos@computing-server-133 ~]$ mlNo Modulefiles Currently Loaded.[centos@computing-server-133 ~]$ /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclsh '/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/libexec/modulecmd.tcl' bash load tcl-8.6.12-gcc-12.2.0-5rkwrb3PATH=/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/bin:/nfs/tools/os/spack/bin:/opt/ibm/lsfsuite/lsf/10.1/linux2.6-glibc2.3-x86_64/etc:/opt/ibm/lsfsuite/lsf/10.1/linux2.6-glibc2.3-x86_64/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/centos/.local/bin:/home/centos/bin; export PATH;__MODULES_SHARE_MANPATH=:1; export __MODULES_SHARE_MANPATH;MANPATH=/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/share/man:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/man:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/zlib-1.2.13-pobtkn4lnv467woi4cerdauysxm42mn2/share/man:/opt/ibm/lsfsuite/lsf/10.1/man:; export MANPATH;__MODULES_LMPREREQ=tcl-8.6.12-gcc-12.2.0-5rkwrb3\\&amp;zlib-1.2.13-gcc-12.2.0-pobtkn4; export __MODULES_LMPREREQ;_LMFILES_=/nfs/tools/os/spack/share/spack/modules/linux-centos7-x86_64_v4/zlib-1.2.13-gcc-12.2.0-pobtkn4:/nfs/tools/os/spack/share/spack/modules/linux-centos7-x86_64_v4/tcl-8.6.12-gcc-12.2.0-5rkwrb3; export _LMFILES_;LOADEDMODULES=zlib-1.2.13-gcc-12.2.0-pobtkn4:tcl-8.6.12-gcc-12.2.0-5rkwrb3; export LOADEDMODULES;CMAKE_PREFIX_PATH=/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/.:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/zlib-1.2.13-pobtkn4lnv467woi4cerdauysxm42mn2/.; export CMAKE_PREFIX_PATH;TCL_LIBRARY=/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/lib/tcl8.6; export TCL_LIBRARY;__MODULES_LMTAG=zlib-1.2.13-gcc-12.2.0-pobtkn4\\&amp;auto-loaded; export __MODULES_LMTAG;PKG_CONFIG_PATH=/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/lib/pkgconfig:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/zlib-1.2.13-pobtkn4lnv467woi4cerdauysxm42mn2/lib/pkgconfig; export PKG_CONFIG_PATH;test 0;[centos@computing-server-133 ~]$ which tclsh/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclshå¯ä»¥çœ‹åˆ°å®ƒç”Ÿæˆäº†çš„è¯­å¥ï¼ŒåŒ…æ‹¬äº† modulefile é‡Œæ˜¾å¼å¯¹ PATHã€MANPATHã€PKG_CONFIG_PATHã€CMAKE_PREFIX_PATH ç­‰ç¯å¢ƒå˜é‡çš„ä¿®æ”¹ï¼Œè¿˜åŒ…æ‹¬äº†ç”¨æˆ·æœªå®šä¹‰çš„ï¼Œå¯¹ Environment Modules å·¥å…·è‡ªèº«ä½¿ç”¨çš„å˜é‡åšäº†ä¿®æ”¹ã€‚æ‰§è¡Œå®ŒæŸ¥è¯¢åï¼Œtclsh å¹¶æ²¡æœ‰è¢«åŠ è½½ä¸Šã€‚éœ€è¦å°†è¿™äº›è¯­å¥ä¼ å…¥ evalï¼Œæ‰èƒ½åœ¨å½“å‰ shell ç¯å¢ƒç”Ÿæ•ˆï¼š[centos@computing-server-133 ~]$ eval `/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclsh '/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/libexec/modulecmd.tcl' bash load tcl-8.6.12-gcc-12.2.0-5rkwrb3`Loading tcl-8.6.12-gcc-12.2.0-5rkwrb3 Loading requirement: zlib-1.2.13-gcc-12.2.0-pobtkn4[centos@computing-server-133 ~]$ which tclsh/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclshc shell ç¯å¢ƒåœ¨ csh ç¯å¢ƒä¸­ï¼Œmodule æ˜¯ä¸€ä¸ª aliasï¼ŒåŒæ ·åœ°ï¼Œå®ƒå°†ç”Ÿæˆçš„æ›´æ”¹ç¯å¢ƒçš„è¯­å¥ä¼ å…¥ evalï¼Œä½¿å¾—ç¯å¢ƒä¿®æ”¹ç”Ÿæ•ˆã€‚[centos@computing-server-133 ~]$ echo $0csh[centos@computing-server-133 ~]$ which modulemodule: \t aliased to set _prompt=$prompt:q; set prompt=\"\"; eval \"`/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclsh '/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/libexec/modulecmd.tcl' csh !*:q`\"; set _exit=\"$status\"; set prompt=$_prompt:q; unset _prompt; test 0 = $_exitåŒæ ·çš„ï¼Œæˆ‘ä»¬åŠ è½½ tcl-8.6.12-gcc-12.2.0-5rkwrb3 è¿™ä¸ª modulefileï¼š[centos@computing-server-133 ~]$ /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclsh '/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/libexec/modulecmd.tcl' csh load tcl-8.6.12-gcc-12.2.0-5rkwrb3setenv PATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin:/opt/ibm/lsfsuite/lsf/10.1/linux2.6-glibc2.3-x86_64/etc:/opt/ibm/lsfsuite/lsf/10.1/linux2.6-glibc2.3-x86_64/bin:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/environment-modules-5.2.0-upsh6wzxsg7airzqpjayrvoapfrtgttp/bin:/nfs/tools/os/spack/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/centos/.local/bin:/home/centos/bin;setenv __MODULES_SHARE_MANPATH :1;setenv MANPATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/share/man:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/man:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/zlib-1.2.13-pobtkn4lnv467woi4cerdauysxm42mn2/share/man:/opt/ibm/lsfsuite/lsf/10.1/man:;setenv __MODULES_LMPREREQ tcl-8.6.12-gcc-12.2.0-5rkwrb3\\&amp;zlib-1.2.13-gcc-12.2.0-pobtkn4;setenv _LMFILES_ /nfs/tools/os/spack/share/spack/modules/linux-centos7-x86_64_v4/zlib-1.2.13-gcc-12.2.0-pobtkn4:/nfs/tools/os/spack/share/spack/modules/linux-centos7-x86_64_v4/tcl-8.6.12-gcc-12.2.0-5rkwrb3;setenv LOADEDMODULES zlib-1.2.13-gcc-12.2.0-pobtkn4:tcl-8.6.12-gcc-12.2.0-5rkwrb3;setenv CMAKE_PREFIX_PATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/.:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/zlib-1.2.13-pobtkn4lnv467woi4cerdauysxm42mn2/.;setenv TCL_LIBRARY /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/lib/tcl8.6;setenv __MODULES_LMTAG zlib-1.2.13-gcc-12.2.0-pobtkn4\\&amp;auto-loaded;setenv PKG_CONFIG_PATH /nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/lib/pkgconfig:/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/zlib-1.2.13-pobtkn4lnv467woi4cerdauysxm42mn2/lib/pkgconfig;test 0;Loading tcl-8.6.12-gcc-12.2.0-5rkwrb3 Loading requirement: zlib-1.2.13-gcc-12.2.0-pobtkn4[centos@computing-server-133 ~]$ which tclsh/nfs/tools/os/spack/opt/spack/linux-centos7-x86_64_v4/gcc-12.2.0/tcl-8.6.12-5rkwrb3btdklgrkshepg5cctyigmfm37/bin/tclshæ€»ç»“ä¸Šè¿°ä»‹ç»äº† Environment Modules å¯¹ç¯å¢ƒçš„ä¿®æ”¹åŸç†ã€‚ä¸»è¦æ˜¯é€šè¿‡å¯¹ tcl è¯­å¥çš„ modulefile è§£æï¼Œç”Ÿæˆå¯¹åº” shell ç±»å‹çš„ä¿®æ”¹è¯­å¥ï¼Œå†é€šè¿‡ eval è¯­å¥æ¥å®Œæˆå¯¹å½“å‰ shell çš„ç¯å¢ƒä¿®æ”¹ã€‚çœŸæ­£éš¾å¾—çš„æ˜¯å®ƒå¦‚ä½•ç”Ÿæˆå¯¹ç¯å¢ƒä¿®æ”¹çš„è¯­å¥ã€‚åç»­æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å¦‚ä½•è§£æ modulefile å¹¶ç”Ÿæˆç¯å¢ƒæ›´æ”¹è¯­å¥ã€‚TODOå¦‚ä½•è§£æ modulefile å¹¶ç”Ÿæˆç¯å¢ƒæ›´æ”¹è¯­å¥ã€‚" }, { "title": "è§£é”new bingçš„ä½¿ç”¨", "url": "/posts/new-bing-unlocking-in-cn/", "categories": "", "tags": "aigc", "date": "2023-03-30 02:47:25 +0000", "snippet": "New Bingçš„æ³¨å†ŒNew Bingçš„è®¿é—®é—®é¢˜ä¸€ï¼šæœªçœ‹åˆ°â€œèŠå¤©â€æŒ‰é’®è®¿é—® https://www.bing.com/new æ²¡æœ‰â€œèŠå¤©â€æŒ‰é’®å‡ºç°ï¼Œå¦‚ä½•æ‰“å¼€New Bingçš„chatè¿›è¡Œå¯¹è¯å‘¢ï¼Ÿå¦‚ä¸‹å›¾æ‰€ç¤ºå¦‚ä¸‹ä¸¤å›¾æ‰€ç¤ºï¼Œå°†Country/Regionè®¾ç½®ä¸ºUnited Stateså›åˆ° https://www.bing.com/new å¯ä»¥çœ‹åˆ°â€œèŠå¤©â€ç°èº«é—®é¢˜äºŒï¼šæç¤ºSorry, looks ...", "content": "New Bingçš„æ³¨å†ŒNew Bingçš„è®¿é—®é—®é¢˜ä¸€ï¼šæœªçœ‹åˆ°â€œèŠå¤©â€æŒ‰é’®è®¿é—® https://www.bing.com/new æ²¡æœ‰â€œèŠå¤©â€æŒ‰é’®å‡ºç°ï¼Œå¦‚ä½•æ‰“å¼€New Bingçš„chatè¿›è¡Œå¯¹è¯å‘¢ï¼Ÿå¦‚ä¸‹å›¾æ‰€ç¤ºå¦‚ä¸‹ä¸¤å›¾æ‰€ç¤ºï¼Œå°†Country/Regionè®¾ç½®ä¸ºUnited Stateså›åˆ° https://www.bing.com/new å¯ä»¥çœ‹åˆ°â€œèŠå¤©â€ç°èº«é—®é¢˜äºŒï¼šæç¤ºSorry, looks like your network settings are preventing access to this feature.é…ç½® X-Forwarded-For 1.1.1.1" }, { "title": "new bingç»˜ç”»", "url": "/posts/new-bing-create/", "categories": "", "tags": "aigc", "date": "2023-03-28 23:51:00 +0000", "snippet": "new bingæ¨å‡ºäº†å›¾ç‰‡ç”Ÿæˆï¼Œåœ°å€è¯·å®ƒç”»ï¼šä¸€å‰¯å¾ˆç¾çš„æ˜¥å¤©æ™¯è‰²ï¼Œå¾®é£ç»†é›¨ï¼Œè‹”ç—•ä¸Šé˜¶ç»¿è‰è‰²å…¥å¸˜é’ï¼Œæ²¹çº¸ä¼ï¼ŒæŸ³çµ®é£˜é£˜ï¼Œä¸‰ä¸¤åªé¸Ÿé£è¿‡ã€‚åŸå›¾å¦‚ä¸‹", "content": "new bingæ¨å‡ºäº†å›¾ç‰‡ç”Ÿæˆï¼Œåœ°å€è¯·å®ƒç”»ï¼šä¸€å‰¯å¾ˆç¾çš„æ˜¥å¤©æ™¯è‰²ï¼Œå¾®é£ç»†é›¨ï¼Œè‹”ç—•ä¸Šé˜¶ç»¿è‰è‰²å…¥å¸˜é’ï¼Œæ²¹çº¸ä¼ï¼ŒæŸ³çµ®é£˜é£˜ï¼Œä¸‰ä¸¤åªé¸Ÿé£è¿‡ã€‚åŸå›¾å¦‚ä¸‹" }, { "title": "ç¦»çº¿è‡ªåŠ¨åŒ–å®‰è£…å¼€æºå·¥å…·çš„æ–¹æ¡ˆæ¢ç´¢", "url": "/posts/offline-packages-installing/", "categories": "icenv", "tags": "linux", "date": "2023-03-26 00:50:22 +0000", "snippet": "èƒŒæ™¯åŒ…æ‹¬èŠ¯ç‰‡è®¾è®¡å…¬å¸åœ¨å†…ï¼Œè®¸å¤šç ”å‘å‹å…¬å¸ä¸ºäº†æ•°æ®å®‰å…¨ä¸ç½‘ç»œå®‰å…¨ï¼Œä¼šå°†å…¶ç ”å‘ç¯å¢ƒä¸äº’è”ç½‘éš”ç»å¼€æ¥ï¼Œä»ç‰©ç†ä¸Šç¦æ­¢äº†æ•°æ®åœ¨å†…å¤–éƒ¨è‡ªç”±æµé€šï¼Œä¹Ÿç¦æ­¢äº†æ¥è‡ªå¤–éƒ¨çš„ç½‘ç»œæ”»å‡»ã€‚å®‰å…¨ä¸æ•ˆç‡æ€»æ˜¯ä¸èƒ½å¤ŸåŒåŒå®Œç¾çš„ï¼Œè¿™ç§æ¶æ„ä¿è¯äº†å®‰å…¨ï¼Œåœ¨å¾ˆå¤šéœ€è¦æ•°æ®ä¼ è¾“ã€è®¿é—®åœ¨çº¿æœåŠ¡çš„åœºæ™¯ä¸Šï¼Œè¿™ç§æ¶æ„å°±ç»™æ•ˆç‡æ‰“äº†æŠ˜æ‰£ã€‚ç ”å‘ç¯å¢ƒå¼€æºå·¥å…·çš„å®‰è£…ä¸ç®¡ç†ï¼Œå°±æ˜¯åœºæ™¯ä¹‹ä¸€ã€‚è®¾è®¡æ–¹æ¡ˆSpackç¦»çº¿å®‰è£…ä¸ä½¿ç”¨çš„Use Caseåœ¨çº¿å®‰è£…ä¸ä½¿ç”¨çš„æ´»åŠ¨...", "content": "èƒŒæ™¯åŒ…æ‹¬èŠ¯ç‰‡è®¾è®¡å…¬å¸åœ¨å†…ï¼Œè®¸å¤šç ”å‘å‹å…¬å¸ä¸ºäº†æ•°æ®å®‰å…¨ä¸ç½‘ç»œå®‰å…¨ï¼Œä¼šå°†å…¶ç ”å‘ç¯å¢ƒä¸äº’è”ç½‘éš”ç»å¼€æ¥ï¼Œä»ç‰©ç†ä¸Šç¦æ­¢äº†æ•°æ®åœ¨å†…å¤–éƒ¨è‡ªç”±æµé€šï¼Œä¹Ÿç¦æ­¢äº†æ¥è‡ªå¤–éƒ¨çš„ç½‘ç»œæ”»å‡»ã€‚å®‰å…¨ä¸æ•ˆç‡æ€»æ˜¯ä¸èƒ½å¤ŸåŒåŒå®Œç¾çš„ï¼Œè¿™ç§æ¶æ„ä¿è¯äº†å®‰å…¨ï¼Œåœ¨å¾ˆå¤šéœ€è¦æ•°æ®ä¼ è¾“ã€è®¿é—®åœ¨çº¿æœåŠ¡çš„åœºæ™¯ä¸Šï¼Œè¿™ç§æ¶æ„å°±ç»™æ•ˆç‡æ‰“äº†æŠ˜æ‰£ã€‚ç ”å‘ç¯å¢ƒå¼€æºå·¥å…·çš„å®‰è£…ä¸ç®¡ç†ï¼Œå°±æ˜¯åœºæ™¯ä¹‹ä¸€ã€‚è®¾è®¡æ–¹æ¡ˆSpackç¦»çº¿å®‰è£…ä¸ä½¿ç”¨çš„Use Caseåœ¨çº¿å®‰è£…ä¸ä½¿ç”¨çš„æ´»åŠ¨å›¾ç¦»çº¿å®‰è£…ä¸ä½¿ç”¨çš„æ´»åŠ¨å›¾éƒ¨ç½²å›¾å®æ–½æ–¹æ¡ˆä¸‹è½½ä¸åˆå§‹åŒ–Spackåœ¨centos7-9-onlineæœºå™¨æ‰§è¡Œä¸‹è½½spackï¼Œé…ç½®åˆå§‹åŒ–spack[centos@centos7-9-online os]$ git clone -c feature.manyFiles=true https://github.com/spack/spack.gitCloning into 'spack'...remote: Enumerating objects: 445711, done.remote: Counting objects: 100% (331/331), done.remote: Compressing objects: 100% (236/236), done.remote: Total 445711 (delta 162), reused 199 (delta 46), pack-reused 445380Receiving objects: 100% (445711/445711), 225.50 MiB | 18.27 MiB/s, done.Resolving deltas: 100% (182172/182172), done.[centos@localhost os]$ echo \". `readlink -f spack/share/spack/setup-env.sh`\" &gt;&gt; ~/.bashrcå°†spackç›®å½•æ‹·è´åˆ°ç¦»çº¿ç¯å¢ƒCentOS 7.9çš„/tools/os/ç›®å½•ï¼Œå¹¶é…ç½®å…¶åˆå§‹åŒ–[centos@centos7-9-offline ]$ echo \". /tools/os/spack/share/spack/setup-env.sh\" &gt;&gt; ~/.bashrcå®‰è£…ä¸é…ç½®ç¼–è¯‘å™¨åˆ†åˆ«äºcentos7-9-onlineã€centos7-9-offlineçš„æœºå™¨æ‰§è¡Œ[centos@centos7-9-online ~]$ sudo yum install -y gcc gcc-c++ gcc-gfortran #å®‰è£…ç¼–è¯‘å™¨[centos@centos7-9-online ~]$ sudo yum install -y patch bzip2 lbzip2 readline-devel unzip #spack installæ—¶ï¼Œæœ‰äº›åŸºç¡€çš„ä¼šè¢«å¸¸è§çš„åŒ…ä¾èµ–ã€‚[centos@centos7-9-online ~]$ spack compiler find==&gt; Added 1 new compiler to /home/centos/.spack/linux/compilers.yaml gcc@4.8.5 gcc@12.2.0==&gt; Compilers are defined in the following files: /home/centos/.spack/linux/compilers.yaml[centos@centos7-9-online ~]$ cat /home/centos/.spack/linux/compilers.yamlcompilers:- compiler: spec: gcc@4.8.5 paths: cc: /usr/bin/gcc cxx: /usr/bin/g++ f77: /usr/bin/gfortran fc: /usr/bin/gfortran flags: {} operating_system: centos7 target: x86_64 modules: [] environment: {} extra_rpaths: []- compiler: spec: gcc@12.2.0 paths: cc: /nfs/tools/os/gcc/12.2.0/bin/gcc cxx: /nfs/tools/os/gcc/12.2.0/bin/g++ f77: /nfs/tools/os/gcc/12.2.0/bin/gfortran fc: /nfs/tools/os/gcc/12.2.0/bin/gfortran flags: {} operating_system: centos7 target: x86_64 modules: [] environment: {} extra_rpaths: []mirroråœ¨centos7-9-onlineæœºå™¨[centos@centos7-9-online ~]$ mkdir /local/tools/os/spack/pkgs-mirror #åˆ›å»ºmirrorç›®å½•[centos@centos7-9-online ~]$ spack mirror create --directory /local/tools/os/spack/pkgs-mirror --dependencies vim +gtk +gui +lua +perl +python +ruby +x +cscope #è¿™é‡Œä»¥mirror vimä¸ºä¾‹==&gt; Concretizing input specs==&gt; Installing patchelf-0.13.1-x5afxqz2rtlfbcpghu5l542rhhbw3md7==&gt; No binary for patchelf-0.13.1-x5afxqz2rtlfbcpghu5l542rhhbw3md7 found: installing from source==&gt; Fetching https://github.com/NixOS/patchelf/releases/download/0.13.1/patchelf-0.13.1.tar.gz==&gt; No patches needed for patchelf==&gt; patchelf: Executing phase: 'autoreconf'==&gt; patchelf: Executing phase: 'configure'==&gt; patchelf: Executing phase: 'build'==&gt; patchelf: Executing phase: 'install'==&gt; patchelf: Successfully installed patchelf-0.13.1-x5afxqz2rtlfbcpghu5l542rhhbw3md7 Stage: 31.52s. Autoreconf: 0.00s. Configure: 1.15s. Build: 2.17s. Install: 0.03s. Total: 34.92s[+] /home/centos/.spack/bootstrap/store/linux-centos7-x86_64/gcc-4.8.5/patchelf-0.13.1-x5afxqz2rtlfbcpghu5l542rhhbw3md7==&gt; Fetching https://mirror.spack.io/bootstrap/github-actions/v0.4/build_cache/linux-centos7-x86_64-gcc-10.2.1-clingo-bootstrap-spack-prqkzynv2nwko5mktitebgkeumuxkveu.spec.json==&gt; Fetching https://mirror.spack.io/bootstrap/github-actions/v0.4/build_cache/linux-centos7-x86_64/gcc-10.2.1/clingo-bootstrap-spack/linux-centos7-x86_64-gcc-10.2.1-clingo-bootstrap-spack-prqkzynv2nwko5mktitebgkeumuxkveu.spack==&gt; Installing \"clingo-bootstrap@spack%gcc@10.2.1~docs~ipo+python+static_libstdcpp build_type=Release arch=linux-centos7-x86_64\" from a buildcache==&gt; Adding package at-spi2-atk@2.38.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/cf/cfa008a5af822b36ae6287f18182c40c91dd699c55faa38605881ed175ca464f.tar.xz==&gt; Adding package at-spi2-core@2.47.90 to mirror==&gt; Fetching http://ftp.gnome.org/pub/gnome/sources/at-spi2-core/2.47/at-spi2-core-2.47.90.tar.xz==&gt; Adding package atk@2.38.0 to mirror==&gt; Fetching http://ftp.gnome.org/pub/gnome/sources/atk/2.38/atk-2.38.0.tar.xz==&gt; Adding package autoconf@2.69 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/95/954bd69b391edc12d6a4a51a2dd1476543da5c6bbf05a95b59dc0dd6fd4c2969.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ea/eaa3f69d927a853313a0b06e2117c51adab6377a2278549b05abc5df93643e16==&gt; Fetching https://mirror.spack.io/_source-cache/archive/77/7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7==&gt; Fetching https://mirror.spack.io/_source-cache/archive/35/35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2==&gt; Fetching https://mirror.spack.io/_source-cache/archive/a4/a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee==&gt; Adding package autoconf-archive@2023.02.20 to mirror==&gt; Fetching https://ftpmirror.gnu.org/autoconf-archive/autoconf-archive-2023.02.20.tar.xz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/13/139214f5104f699f868dc87a14378e1e694a3c2539efa0de6f878024f3d7c66d==&gt; Adding package automake@1.16.5 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/07/07bd24ad08a64bc17250ce09ec56e921d6343903943e99ccf63bbf0705e34605.tar.gz==&gt; Adding package bdftopcf@1.1 to mirror==&gt; Fetching https://www.x.org/archive/individual/app/bdftopcf-1.1.tar.gz==&gt; Adding package berkeley-db@18.1.40 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0c/0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8.tar.gz==&gt; Adding package binutils@2.40 to mirror==&gt; Fetching https://ftpmirror.gnu.org/binutils/binutils-2.40.tar.bz2==&gt; Adding package bison@3.8.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/06/06c9e13bdf7eb24d4ceb6b59205a4f67c2c7e7213119644430fe82fbd14a0abb.tar.gz==&gt; Adding package bzip2@1.0.8 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ab/ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269.tar.gz==&gt; Adding package ca-certificates-mozilla@2023-01-10 to mirror==&gt; Fetching https://curl.se/ca/cacert-2023-01-10.pem==&gt; Adding package cairo@1.16.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/5e/5e7b29b3f113ef870d1e3ecf8adf21f923396401604bda16d44be45e66052331.tar.xz==&gt; Adding package cmake@3.25.2 to mirror==&gt; Fetching https://github.com/Kitware/CMake/releases/download/v3.25.2/cmake-3.25.2.tar.gz==&gt; Fetching https://github.com/Kitware/CMake/releases/download/v3.25.2/cmake-3.25.2.tar.gz==&gt; Adding package cscope@15.9 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/c5/c5505ae075a871a9cd8d9801859b0ff1c09782075df281c72c23e72115d9f159.tar.gz==&gt; Adding package curl@8.0.1 to mirror==&gt; Fetching http://curl.haxx.se/download/curl-8.0.1.tar.bz2==&gt; Adding package dbus@1.13.6 to mirror==&gt; Fetching https://dbus.freedesktop.org/releases/dbus/dbus-1.13.6.tar.gz==&gt; Adding package diffutils@3.9 to mirror==&gt; Fetching https://ftpmirror.gnu.org/diffutils/diffutils-3.9.tar.xz==&gt; Adding package docbook-xml@4.5 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/4e/4e4e037a2b83c98c6c94818390d4bdd3f6e10f6ec62dd79188594e26190dc7b4.zip==&gt; Adding package docbook-xsl@1.79.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/31/316524ea444e53208a2fb90eeb676af755da96e1417835ba5f5eb719c81fa371.tar.bz2==&gt; Adding package elfutils@0.189 to mirror==&gt; Fetching https://sourceware.org/pub/elfutils/0.189/elfutils-0.189.tar.bz2==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d7/d786d49c28d7f0c8fc27bab39ca8714e5f4d128c7f09bb18533a8ec99b38dbf8==&gt; Adding package expat@2.5.0 to mirror==&gt; Fetching https://github.com/libexpat/libexpat/releases/download/R_2_5_0/expat-2.5.0.tar.bz2==&gt; Warning: Error while fetching expat@2.5.0 All fetchers failed for spack-stage-expat-2.5.0-yfnrdymdzqycrzk6upmebtvxa2g5motq==&gt; Adding package findutils@4.9.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/a2/a2bfb8c09d436770edc59f50fa483e785b161a3b7b9d547573cb08065fd462fe.tar.xz==&gt; Adding package fixesproto@5.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/67/67865a0e3cdc7dec1fd676f0927f7011ad4036c18eb320a2b41dbd56282f33b8.tar.gz==&gt; Adding package flex@2.6.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/68/68b2742233e747c462f781462a2a1e299dc6207401dac8f0bbb316f48565c2aa.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f8/f8b85a00849bfb58c9b68e177b369f1e060ed8758253ff8daa57a873eae7b7a5==&gt; Adding package font-util@1.4.0 to mirror==&gt; Fetching https://www.x.org/archive/individual/font/font-util-1.4.0.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/55/55861d9cf456bd717a3d30a3193402c02174ed3c0dcee828798165fe307ee324.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/63/63087cb61d17bfc9cd6f4f9359f63a3b1dd83300a31a42fd93dca084724c6afb.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/72/720b6a513894bfc09a163951ec3dd8311201e08ee40e8891547b6c129ffb5fce.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d5/d5602f1d749ccd31d3bc1bb6f0c5d77400de0e5e3ac5abebd2a867aa2a4081a4.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/c4/c4923342f6068c83fd4f5dbcf60d671c28461300db7e2aee930c8634b1e4b74a.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/57/57c2db8824865117287d57d47f2c8cf4b2842d036c7475534b5054be69690c73.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/54/549c6ba59979da25e85c218a26e5c527c3c24ebab2c76509c1ebc34d94fae227.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/81/817703372f080d6508cf109011b17f3572ff31047559fe82d93b487ca4e4e2d9.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/45/4509703e9e581061309cf4823bffd4a93f10f48fe192a1d8be1f183fd6ab9711.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/49/493965263070a5ee2a301dfdb2e87c1ca3c00c7882bfb3dd99368565ba558ff5.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/46/46142c876e176036c61c0c24c0a689079704d5ca5b510d48c025861ee2dbf829.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/fc/fcecbfc475dfe5826d137f8edc623ba27d58d32f069165c248a013b3c566bb59.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/97/97ee77a9d8ca3e7caf0c78c386eb0b96e8a825ca3642ec035cfb83f5f2cf1475.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/61/61eb1fcfec89f7435cb92cd68712fbe4ba412ca562b1f5feec1f6daa1b8544f6.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/30/3022b6b124f4cc6aade961f8d1306f67ff42e3b7922fb2244847f287344aefea.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/a0/a0b146139363dd0a704c7265ff9cd9150d4ae7c0d248091a9a42093e1618c427.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/21/21166546b0490aa3ec73215fa4ea28d91c6027b56178800ba51426bd3d840cc3.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ea/eaddfc6d9b32bf38c9dc87c354be3b646a385bc8d9de6e536269f6e1ca50644e.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/97/97d9c1e706938838e4134d74f0836ae9d9ca6705ecb405c9a0ac8fdcbd9c2159.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/79/79dfde93d356e41c298c2c1b9c638ec1a144f438d5146d0df6219afb1c2b8818.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d3/d3b93f7f73a526919bf73a38e10ef4643cd541403a682a8068d54bbcdd9c7e27.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/02/02b3839ae79ba6a7750525bb3b0c281305664b95bf63b4a0baa230a277b4f928.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/c4/c43ae370932eb8a4789a5b1f9801da15228b0d4c803251785c38d82aef024a4b.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/33/3399b7586c18be509cdaeceeebf754b861faa1d8799dda1aae01aeb2a7a30f01.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d6/d64b9bfa5fa8dedf084f1695997cc32149485d2a195c810f62a1991ab5cd5519.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/dc/dc3b8d5890480943e735e0375f0e0d8333094fcb6d6845ba321b2e39db78d148.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9e/9e82783758e8c67a9aadaf1a7222d13418a87455e4ce0a9974fb1df0278bdf74.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0a/0a8c77c1540dc376fb2bb5a02bd33ee5f3563fbac9fc07c7947cac462c4bb48a.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ae/aeea5f130480a3f05149bde13d240e668d8fb4b32c02b18914fcccd1182abe72.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/50/503e70ee66af34f6ec4426c0f4ae708e9d30dafdcd58f671a87c7bf56b1952a3.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/25/254be39c09da1c4e77d2a75a2969330ee2db395120a428671c50aef3ab745fc0.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d9/d9e86a8805b0fb78222409169d839a8531a1f5c7284ee117ff2a0af2e5016c3f.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/e8/e8c3417d89183b1fc383fb3e0f3948c0d01fabcb9edace8b7ec85eab8cdc18c4.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/38/38301bbdb6374494f30c0b44acc7052ed8fc2289e917e648ca566fc591f0a9e0.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/5e/5e05a642182ec6a77bd7cacb913d3c86b364429329a5f223b69792d418f90ae9.tar.gz==&gt; Adding package fontconfig@2.14.2 to mirror==&gt; Fetching https://www.freedesktop.org/software/fontconfig/release/fontconfig-2.14.2.tar.gz==&gt; Adding package fontsproto@2.1.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/72/72c44e63044b2b66f6fa112921621ecc20c71193982de4f198d9a29cda385c5e.tar.gz==&gt; Adding package freetype@2.11.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f8/f8db94d307e9c54961b39a1cc799a67d46681480696ed72ecf78d4473770f09b.tar.gz==&gt; Adding package fribidi@1.0.12 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0c/0cd233f97fc8c67bb3ac27ce8440def5d3ffacf516765b91c2cc654498293495.tar.xz==&gt; Adding package gawk@5.2.1 to mirror==&gt; Fetching https://ftpmirror.gnu.org/gawk/gawk-5.2.1.tar.xz==&gt; Adding package gdbm@1.23 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/74/74b1081d21fff13ae4bd7c16e5d6e504a4c26f7cde1dca0d963a484174bbcacd.tar.gz==&gt; Adding package gdk-pixbuf@2.42.10 to mirror==&gt; Fetching https://ftp.acc.umu.se/pub/gnome/sources/gdk-pixbuf/2.42/gdk-pixbuf-2.42.10.tar.xz==&gt; Adding package gettext@0.21.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/50/50dbc8f39797950aa2c98e939947c527e5ac9ebd2c1b99dd7b06ba33a6767ae6.tar.xz==&gt; Adding package glib@2.74.6 to mirror==&gt; Fetching https://download.gnome.org/sources/glib/2.74/glib-2.74.6.tar.xz==&gt; Adding package glproto@1.4.17 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9d/9d8130fec2b98bd032db7730fa092dd9dec39f3de34f4bb03ceb43b9903dbc96.tar.gz==&gt; Adding package glx@1.4 to mirror==&gt; Adding package gmake@4.4.1 to mirror==&gt; Fetching https://ftpmirror.gnu.org/make/make-4.4.1.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/fe/fe5b60d091c33f169740df8cb718bf4259f84528b42435194ffe0dd5b79cd125==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ca/ca60bd9c1a1b35bc0dc58b6a4a19d5c2651f7a94a4b22b2c5ea001a1ca7a8a7f==&gt; Adding package gmp@6.2.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ea/eae9326beb4158c386e39a356818031bd28f3124cf915f8c5b1dc4c7a36b4d7c.tar.bz2==&gt; Adding package gobject-introspection@1.72.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/02/02fe8e590861d88f83060dd39cda5ccaa60b2da1d21d0f95499301b186beaabc.tar.xz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/77/7700828b638c85255c87fcc317ea7e9572ff443f65c86648796528885e5b4cea==&gt; Adding package gperf@3.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/58/588546b945bba4b70b6a3a616e80b4ab466e3f33024a352fc2198112cdbb3ae2.tar.gz==&gt; Adding package gtkplus@3.24.29 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f5/f57ec4ade8f15cab0c23a80dcaee85b876e70a8823d9105f067ce335a8268caa.tar.xz==&gt; Adding package harfbuzz@5.3.1 to mirror==&gt; Fetching https://github.com/harfbuzz/harfbuzz/releases/download/5.3.1/harfbuzz-5.3.1.tar.xz==&gt; Adding package hwloc@2.9.0 to mirror==&gt; Fetching https://download.open-mpi.org/release/hwloc/v2.9/hwloc-2.9.0.tar.gz==&gt; Adding package icu4c@66.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/52/52a3f2209ab95559c1cf0a14f24338001f389615bf00e2585ef3dbc43ecf0a2e.tgz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/6b/6be0b8068b0f5047dad7f4f6f655529304f1abbc551c93223c6f41dafc1e8acc==&gt; Adding package inputproto@2.3.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/10/10eaadd531f38f7c92ab59ef0708ca195caf3164a75c4ed99f0c04f2913f6ef3.tar.gz==&gt; Warning: Error while fetching inputproto@2.3.2 sha256 checksum failed for /tmp/centos/spack-stage/spack-stage-inputproto-2.3.2-lchukheykgr7ssdkzqoc6rmu5jj3bb4d/inputproto-2.3.2.tar.gz==&gt; Adding package intltool@0.51.0 to mirror==&gt; Warning: Error while fetching intltool@0.51.0 All fetchers failed for spack-stage-intltool-0.51.0-tqjehgpvexhz6v6ctwifojbppjtcljh7==&gt; Adding package json-glib@1.6.6 to mirror==&gt; Fetching https://download.gnome.org/sources/json-glib/1.6/json-glib-1.6.6.tar.xz==&gt; Adding package kbproto@1.0.7 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/82/828cb275b91268b1a3ea950d5c0c5eb076c678fdf005d517411f89cc8c3bb416.tar.gz==&gt; Adding package libbsd@0.11.7 to mirror==&gt; Fetching https://libbsd.freedesktop.org/releases/libbsd-0.11.7.tar.xz==&gt; Adding package libcroco@0.6.13 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/76/767ec234ae7aa684695b3a735548224888132e063f92db585759b422570621d4.tar.xz==&gt; Adding package libedit@3.1-20210216 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/22/2283f741d2aab935c8c52c04b57bf952d02c2c02e651172f8ac811f77b1fc77a.tar.gz==&gt; Adding package libepoxy@1.4.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0b/0b808a06c9685a62fca34b680abb8bc7fb2fda074478e329b063c1f872b826f6.tar.xz==&gt; Adding package libffi@3.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/72/72fba7922703ddfa7a028d513ac15a85c8d54c8d67f55fa5a4802885dc652056.tar.gz==&gt; Adding package libfontenc@1.1.7 to mirror==&gt; Fetching https://www.x.org/archive/individual/lib/libfontenc-1.1.7.tar.gz==&gt; Adding package libgcrypt@1.10.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ef/ef14ae546b0084cd84259f61a55e07a38c3b53afc0f546bffcef2f01baffe9de.tar.bz2==&gt; Adding package libgit2@1.5.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/8d/8de872a0f201b33d9522b817c92e14edb4efad18dae95cf156cf240b2efff93e.tar.gz==&gt; Adding package libgpg-error@1.46 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/b7/b7e11a64246bbe5ef37748de43b245abd72cfcd53c9ae5e7fc5ca59f1c81268d.tar.bz2==&gt; Adding package libice@1.0.9 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/78/7812a824a66dd654c830d21982749b3b563d9c2dfe0b88b203cefc14a891edc0.tar.gz==&gt; Adding package libiconv@1.17 to mirror==&gt; Fetching https://ftp.gnu.org/gnu/libiconv/libiconv-1.17.tar.gz==&gt; Adding package libjpeg-turbo@2.1.4 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/a7/a78b05c0d8427a90eb5b4eb08af25309770c8379592bb0b8a863373128e6143f.tar.gz==&gt; Adding package libmd@1.0.4 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f5/f51c921042e34beddeded4b75557656559cf5b1f2448033b4c1eec11c07e530f.tar.xz==&gt; Adding package libpciaccess@0.17 to mirror==&gt; Fetching https://www.x.org/archive/individual/lib/libpciaccess-0.17.tar.gz==&gt; Adding package libpng@1.6.39 to mirror==&gt; Fetching https://prdownloads.sourceforge.net/libpng/libpng-1.6.39.tar.xz==&gt; Adding package libpthread-stubs@0.4 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/50/50d5686b79019ccea08bcbd7b02fe5a40634abcfd4146b6e75c6420cc170e9d9.tar.gz==&gt; Adding package librsvg@2.51.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/89/89d32e38445025e1b1d9af3dd9d3aeb9f6fce527aeecbecf38b369b34c80c038.tar.xz==&gt; Adding package libsigsegv@2.14 to mirror==&gt; Fetching https://ftpmirror.gnu.org/libsigsegv/libsigsegv-2.14.tar.gz==&gt; Fetching https://ftp.gnu.org/gnu/libsigsegv/libsigsegv-2.14.tar.gz==&gt; Adding package libsm@1.2.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1e/1e92408417cb6c6c477a8a6104291001a40b3bb56a4a60608fdd9cd2c5a0f320.tar.gz==&gt; Adding package libssh2@1.10.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/2d/2d64e90f3ded394b91d3a2e774ca203a4179f69aebee03003e5a6fa621e41d51.tar.gz==&gt; Adding package libtool@2.4.7 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/04/04e96c2404ea70c590c546eba4202a4e12722c640016c12b9b2f1ce3d481e9a8.tar.gz==&gt; Adding package libunwind@1.6.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/4a/4a6aec666991fb45d0889c44aede8ad6eb108071c3554fcdff671f9c94794976.tar.gz==&gt; Adding package libx11@1.8.4 to mirror==&gt; Fetching https://www.x.org/archive/individual/lib/libX11-1.8.4.tar.gz==&gt; Adding package libxau@1.0.8 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/c3/c343b4ef66d66a6b3e0e27aa46b37ad5cab0f11a5c565eafb4a1c7590bc71d7b.tar.gz==&gt; Adding package libxcb@1.14 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/a5/a55ed6db98d43469801262d81dc2572ed124edc3db31059d4e9916eb9f844c34.tar.xz==&gt; Adding package libxcrypt@4.4.33 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/e8/e87acf9c652c573a4713d5582159f98f305d56ed5f754ce64f57d4194d6b3a6f.tar.xz==&gt; Adding package libxdmcp@1.1.4 to mirror==&gt; Fetching https://www.x.org/archive/individual/lib/libXdmcp-1.1.4.tar.gz==&gt; Adding package libxext@1.3.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/eb/eb0b88050491fef4716da4b06a4d92b4fc9e76f880d6310b2157df604342cfe5.tar.gz==&gt; Adding package libxfixes@5.0.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ad/ad8df1ecf3324512b80ed12a9ca07556e561b14256d94216e67a68345b23c981.tar.gz==&gt; Adding package libxfont@1.5.4 to mirror==&gt; Fetching https://www.x.org/archive/individual/lib/libXfont-1.5.4.tar.gz==&gt; Adding package libxft@2.3.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/26/26cdddcc70b187833cbe9dc54df1864ba4c03a7175b2ca9276de9f05dce74507.tar.gz==&gt; Adding package libxi@1.7.6 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/4e/4e88fa7decd287e58140ea72238f8d54e4791de302938c83695fc0c9ac102b7e.tar.gz==&gt; Adding package libxkbcommon@1.4.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/10/106cec5263f9100a7e79b5f7220f889bc78e7d7ffc55d2b6fdb1efefb8024031.tar.xz==&gt; Adding package libxkbfile@1.0.9 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/95/95df50570f38e720fb79976f603761ae6eff761613eb56f258c3cb6bab4fd5e3.tar.gz==&gt; Adding package libxml2@2.10.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/5d/5d2cc3d78bec3dbe212a9d7fa629ada25a7da928af432c93060ff5c17ee28a9c.tar.xz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/96/96151685cec997e1f9f3387e3626d61e6284d4d6e66e0e440c209286c03e9cc7.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3e/3e06d42596b105839648070a5921157fe284b932289ffdbfa304ddc3457e5637==&gt; Adding package libxpm@3.5.12 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/25/2523acc780eac01db5163267b36f5b94374bfb0de26fc0b5a7bee76649fd8501.tar.gz==&gt; Adding package libxrandr@1.5.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1b/1b594a149e6b124aab7149446f2fd886461e2935eca8dca43fe83a70cf8ec451.tar.gz==&gt; Adding package libxrender@0.9.10 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/77/770527cce42500790433df84ec3521e8bf095dfe5079454a92236494ab296adf.tar.gz==&gt; Adding package libxslt@1.1.33 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/8e/8e36605144409df979cab43d835002f63988f3dc94d5d3537c12796db90e38c8.tar.gz==&gt; Adding package libxt@1.1.5 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/b5/b59bee38a9935565fa49dc1bfe84cb30173e2e07e1dcdf801430d4b54eb0caa3.tar.gz==&gt; Adding package libxtst@1.2.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/22/221838960c7b9058cd6795c1c3ee8e25bae1c68106be314bc3036a4f26be0e6c.tar.gz==&gt; Adding package llvm@7.1.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/71/71c93979f20e01f1a1cc839a247945f556fa5e63abf2084e8468b238080fd839.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/51/514926d661635de47972c7d403c9c4669235aa51e22e56d44676d2a2709179b6==&gt; Adding package lua@5.4.4 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/16/164c7849653b80ae67bec4b7473b884bf5cc8d2dca05653475ec2ed27b9ebf61.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/56/56ab9b90f5acbc42eb7a94cf482e6c058a63e8a1effdf572b8b2a6323a06d923.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/20/208316c2564bdd5343fa522f3b230d84bd164058957059838df7df56876cb4ae==&gt; Adding package m4@1.4.19 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3b/3be4a26d825ffdfda52a56fc43246456989a3630093cced3fbddf4771ee58a70.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/fc/fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8==&gt; Adding package mesa@22.1.6 to mirror==&gt; Fetching https://archive.mesa3d.org/mesa-22.1.6.tar.xz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/36/36096a178070e40217945e12d542dfe80016cb897284a01114d616656c577d73==&gt; Adding package meson@1.0.1 to mirror==&gt; Fetching https://github.com/mesonbuild/meson/archive/1.0.1.tar.gz==&gt; Adding package mkfontdir@1.0.7 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/bc/bccc5fb7af1b614eabe4a22766758c87bfc36d66191d08c19d2fa97674b7b5b7.tar.gz==&gt; Adding package mkfontscale@1.2.2 to mirror==&gt; Fetching https://www.x.org/archive/individual/app/mkfontscale-1.2.2.tar.gz==&gt; Adding package mpfr@4.2.0 to mirror==&gt; Fetching https://ftpmirror.gnu.org/mpfr/mpfr-4.2.0.tar.bz2==&gt; Fetching https://ftp.gnu.org/gnu/mpfr/mpfr-4.2.0.tar.bz2==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3f/3f80b836948aa96f8d1cb9cc7f3f55973f19285482a96f9a4e1623d460bcccf0==&gt; Fetching https://mirror.spack.io/_source-cache/archive/52/5230aab653fa8675fc05b5bdd3890e071e8df49a92a9d58c4284024affd27739==&gt; Fetching https://mirror.spack.io/_source-cache/archive/7a/7a6dd71bcda4803d6b89612706a17b8816e1acd5dd9bf1bec29cf748f3b60008==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1a/1ae14fb3a54ae8e0faed20801970255b279eee9e5ac624891ab5d29727f0bc04==&gt; Fetching https://mirror.spack.io/_source-cache/archive/11/113705d5333ef0d0ad3eb136a85404ba6bd1cc524dece5ce902c536aa2e29903==&gt; Fetching https://mirror.spack.io/_source-cache/archive/41/4152a780b3cc6e9643283e59093b43460196d0fea9302d8c93b2496f6679f4e4==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1b/1b9fdb515efb09a506a01e1eb307b1464455f5ca63d6c193db3a3da371ab3220==&gt; Adding package nasm@2.15.05 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/91/9182a118244b058651c576baa9d0366ee05983c4d4ae1d9ddd3236a9f2304997.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ac/ac9f315d204afa6b99ceefa1fe46d4eed2b8a23c7315d32d33c0f378d930e950==&gt; Adding package ncurses@6.4 to mirror==&gt; Fetching https://ftp.gnu.org/gnu/ncurses/ncurses-6.4.tar.gz==&gt; Adding package ninja@1.11.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/31/31747ae633213f1eda3842686f83c2aa1412e0f5691d1c14dbbcc67fe7400cea.tar.gz==&gt; Adding package openssl@1.1.1t to mirror==&gt; Fetching http://www.openssl.org/source/openssl-1.1.1t.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3f/3fdcf2d1e47c34f3a012f23306322c5a35cad55b180c9b6fb34537b55884645c==&gt; Adding package pango@1.50.13 to mirror==&gt; Fetching http://ftp.gnome.org/pub/GNOME/sources/pango/1.50/pango-1.50.13.tar.xz==&gt; Adding package pcre@8.45 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/4d/4dae6fdcd2bb0bb6c37b5f97c33c2be954da743985369cddac3546e3218bffb8.tar.bz2==&gt; Adding package pcre2@10.42 to mirror==&gt; Fetching https://github.com/PCRE2Project/pcre2/releases/download/pcre2-10.42/pcre2-10.42.tar.bz2==&gt; Adding package perl@5.36.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/e2/e26085af8ac396f62add8a533c3a0ea8c8497d836f0689347ac5abd7b7a4e00a.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/8c/8cf4302ca8b480c60ccdcaa29ec53d9d50a71d4baf469ac8c6fca00ca31e58a2==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3b/3bbd7d6f9933d80b9571533867b444c6f8f5a1ba0575bfba1fba4db9d885a71a==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0e/0eac10ed90aeb0459ad8851f88081d439a4e41978e586ec743069e8b059370ac==&gt; Adding package perl-data-dumper@2.173 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/69/697608b39330988e519131be667ff47168aaaaf99f06bd2095d5b46ad05d76fa.tar.gz==&gt; Adding package perl-encode-locale@1.05 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/17/176fa02771f542a4efb1dbc2a4c928e8f4391bf4078473bd6040d8f11adb0ec1.tar.gz==&gt; Adding package perl-extutils-config@0.008 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ae/ae5104f634650dce8a79b7ed13fb59d67a39c213a6776cfdaa3ee749e62f1a8c.tar.gz==&gt; Adding package perl-extutils-helpers@0.026 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/de/de901b6790a4557cf4ec908149e035783b125bf115eb9640feb1bc1c24c33416.tar.gz==&gt; Adding package perl-extutils-installpaths@0.012 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/84/84735e3037bab1fdffa3c2508567ad412a785c91599db3c12593a50a1dd434ed.tar.gz==&gt; Adding package perl-file-listing@6.04 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1e/1e0050fcd6789a2179ec0db282bf1e90fb92be35d1171588bd9c47d52d959cf5.tar.gz==&gt; Adding package perl-html-parser@3.72 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ec/ec28c7e1d9e67c45eca197077f7cdc41ead1bb4c538c7f02a3296a4bb92f608b.tar.gz==&gt; Adding package perl-html-tagset@3.20 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ad/adb17dac9e36cd011f5243881c9739417fd102fce760f8de4e9be4c7131108e2.tar.gz==&gt; Adding package perl-http-cookies@6.10 to mirror==&gt; Fetching http://search.cpan.org/CPAN/authors/id/O/OA/OALDERS/HTTP-Cookies-6.10.tar.gz==&gt; Adding package perl-http-daemon@6.01 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/43/43fd867742701a3f9fcc7bd59838ab72c6490c0ebaf66901068ec6997514adc2.tar.gz==&gt; Adding package perl-http-date@6.02 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/e8/e8b9941da0f9f0c9c01068401a5e81341f0e3707d1c754f8e11f42a7e629e333.tar.gz==&gt; Adding package perl-http-message@6.44 to mirror==&gt; Fetching http://search.cpan.org/CPAN/authors/id/O/OA/OALDERS/HTTP-Message-6.44.tar.gz==&gt; Adding package perl-http-negotiate@6.01 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1c/1c729c1ea63100e878405cda7d66f9adfd3ed4f1d6cacaca0ee9152df728e016.tar.gz==&gt; Adding package perl-io-html@1.004 to mirror==&gt; Fetching http://search.cpan.org/CPAN/authors/id/C/CJ/CJM/IO-HTML-1.004.tar.gz==&gt; Adding package perl-libwww-perl@6.68 to mirror==&gt; Fetching http://search.cpan.org/CPAN/authors/id/O/OA/OALDERS/libwww-perl-6.68.tar.gz==&gt; Adding package perl-lwp-mediatypes@6.02 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/18/18790b0cc5f0a51468495c3847b16738f785a2d460403595001e0b932e5db676.tar.gz==&gt; Adding package perl-module-build@0.4232 to mirror==&gt; Fetching http://search.cpan.org/CPAN/authors/id/L/LE/LEONT/Module-Build-0.4232.tar.gz==&gt; Adding package perl-module-build-tiny@0.039 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/7d/7d580ff6ace0cbe555bf36b86dc8ea232581530cbeaaea09bccb57b55797f11c.tar.gz==&gt; Adding package perl-net-http@6.22 to mirror==&gt; Fetching http://search.cpan.org/CPAN/authors/id/O/OA/OALDERS/Net-HTTP-6.22.tar.gz==&gt; Adding package perl-test-needs@0.002010 to mirror==&gt; Fetching https://search.cpan.org/CPAN/authors/id/H/HA/HAARG/Test-Needs-0.002010.tar.gz==&gt; Adding package perl-try-tiny@0.28 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f1/f1d166be8aa19942c4504c9111dade7aacb981bc5b3a2a5c5f6019646db8c146.tar.gz==&gt; Adding package perl-uri@1.72 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/35/35f14431d4b300de4be1163b0b5332de2d7fbda4f05ff1ed198a8e9330d40a32.tar.gz==&gt; Adding package perl-www-robotrules@6.02 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/46/46b502e7a288d559429891eeb5d979461dd3ecc6a5c491ead85d165b6e03a51e.tar.gz==&gt; Adding package perl-xml-parser@2.44 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1a/1ae9d07ee9c35326b3d9aad56eae71a6730a73a116b9fe9e8a4758b7cc033216.tar.gz==&gt; Adding package pigz@2.7 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d2/d2045087dae5e9482158f1f1c0f21c7d3de6f7cdc7cc5848bdabda544e69aa58.tar.gz==&gt; Adding package pixman@0.42.2 to mirror==&gt; Fetching https://cairographics.org/releases/pixman-0.42.2.tar.gz==&gt; Adding package pkgconf@1.8.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ef/ef9c7e61822b7cb8356e6e9e1dca58d9556f3200d78acab35e4347e9d4c2bbaf.tar.xz==&gt; Adding package py-mako@1.2.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/37/3724869b363ba630a272a5f89f68c070352137b8fd1757650017b7e06fda163f.tar.gz==&gt; Adding package py-markupsafe@2.1.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/7f/7f91197cc9e48f989d12e4e6fbc46495c446636dfc81b9ccf50bb0ec74b91d4b.tar.gz==&gt; Adding package py-pip@23.0 to mirror==&gt; Fetching https://files.pythonhosted.org/packages/py3/p/pip/pip-23.0-py3-none-any.whl==&gt; Adding package py-setuptools@67.6.0 to mirror==&gt; Fetching https://files.pythonhosted.org/packages/py3/s/setuptools/setuptools-67.6.0-py3-none-any.whl==&gt; Adding package py-wheel@0.37.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/4b/4bdcd7d840138086126cd09254dc6195fb4fc6f01c050a1d7236f2630db1d22a==&gt; Adding package python@3.10.10 to mirror==&gt; Fetching https://www.python.org/ftp/python/3.10.10/Python-3.10.10.tgz==&gt; Adding package randrproto@1.5.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/8f/8f8a716d6daa6ba05df97d513960d35a39e040600bf04b313633f11679006fab.tar.gz==&gt; Adding package re2c@2.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0f/0fc45e4130a8a555d68e230d1795de0216dfe99096b61b28e67c86dfd7d86bda.tar.xz==&gt; Adding package readline@8.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/3f/3feb7171f16a84ee82ca18a36d7b9be109a52c04f492a053331d7d1095007c35.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/bb/bbf97f1ec40a929edab5aa81998c1e2ef435436c597754916e6a5868f273aff7==&gt; Fetching https://mirror.spack.io/_source-cache/archive/68/682a465a68633650565c43d59f0b8cdf149c13a874682d3c20cb4af6709b9144==&gt; Fetching https://mirror.spack.io/_source-cache/archive/e5/e55be055a68cb0719b0ccb5edc9a74edcc1d1f689e8a501525b3bc5ebad325dc==&gt; Fetching https://mirror.spack.io/_source-cache/archive/d8/d8e5e98933cf5756f862243c0601cb69d3667bb33f2c7b751fe4e40b2c3fd069==&gt; Fetching https://mirror.spack.io/_source-cache/archive/36/36b0febff1e560091ae7476026921f31b6d1dd4c918dcb7b741aa2dad1aec8f7==&gt; Fetching https://mirror.spack.io/_source-cache/archive/94/94ddb2210b71eb5389c7756865d60e343666dfb722c85892f8226b26bb3eeaef==&gt; Fetching https://mirror.spack.io/_source-cache/archive/b1/b1aa3d2a40eee2dea9708229740742e649c32bb8db13535ea78f8ac15377394c==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9a/9ac1b3ac2ec7b1bf0709af047f2d7d2a34ccde353684e57c6b47ebca77d7a376==&gt; Fetching https://mirror.spack.io/_source-cache/archive/87/8747c92c35d5db32eae99af66f17b384abaca961653e185677f9c9a571ed2d58==&gt; Fetching https://mirror.spack.io/_source-cache/archive/9e/9e43aa93378c7e9f7001d8174b1beb948deefa6799b6f581673f465b7d9d4780==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f9/f925683429f20973c552bff6702c74c58c2a38ff6e5cf305a8e847119c5a6b64==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ca/ca159c83706541c6bbe39129a33d63bbd76ac594303f67e4d35678711c51b753==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1a/1a79bbb6eaee750e0d6f7f3d059b30a45fc54e8e388a8e05e9c3ae598590146f==&gt; Fetching https://mirror.spack.io/_source-cache/archive/39/39e304c7a526888f9e112e733848215736fb7b9d540729b9e31f3347b7a1e0a5==&gt; Fetching https://mirror.spack.io/_source-cache/archive/ec/ec41bdd8b00fd884e847708513df41d51b1243cecb680189e31b7173d01ca52f==&gt; Fetching https://mirror.spack.io/_source-cache/archive/45/4547b906fb2570866c21887807de5dee19838a60a1afb66385b272155e4355cc==&gt; Fetching https://mirror.spack.io/_source-cache/archive/87/877788f9228d1a9907a4bcfe3d6dd0439c08d728949458b41208d9bf9060274b==&gt; Warning: Error while fetching readline@8.2 All fetchers failed for spack-stage-d0z8q77a==&gt; Adding package recordproto@1.14.2 to mirror==&gt; Fetching https://mirrors.ircam.fr/pub/x.org/individual/proto/recordproto-1.14.2.tar.gz==&gt; Adding package renderproto@0.11.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/a0/a0a4be3cad9381ae28279ba5582e679491fc2bec9aab8a65993108bf8dbce5fe.tar.gz==&gt; Adding package ruby@3.1.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/50/50a0504c6edcb4d61ce6b8cfdbddaa95707195fab0ecd7b5e92654b2a9412854.tar.gz==&gt; Fetching https://mirror.spack.io/_source-cache/archive/df/df68841998b7fd098a9517fe971e97890be0fc93bbe1b2a1ef63ebdea3111c80==&gt; Adding package rust@1.65.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/58/5828bb67f677eabf8c384020582b0ce7af884e1c84389484f7f8d00dd82c0038.tar.gz==&gt; Fetching https://static.rust-lang.org/dist/rust-1.65.0-x86_64-unknown-linux-gnu.tar.gz==&gt; Adding package shared-mime-info@1.9 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/5c/5c0133ec4e228e41bdf52f726d271a2d821499c2ab97afd3aa3d6cf43efcdc83.tar.xz==&gt; Adding package sqlite@3.40.1 to mirror==&gt; Fetching https://www.sqlite.org/2022/sqlite-autoconf-3400100.tar.gz==&gt; Adding package tar@1.34 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/03/03d908cf5768cfe6b7ad588c921c6ed21acabfb2b79b788d1330453507647aed.tar.gz==&gt; Adding package texinfo@7.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/92/9261d4ee11cdf6b61895e213ffcd6b746a61a64fe38b9741a3aaa73125b35170.tar.gz==&gt; Adding package unzip@6.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/03/036d96991646d0449ed0aa952e4fbe21b476ce994abc276e49d30e686708bd37.tar.gz==&gt; Adding package util-linux-uuid@2.36.2 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f5/f5dbe79057e7d68e1a46fc04083fc558b26a49499b1b3f50e4f4893150970463.tar.gz==&gt; Adding package util-macros@1.19.3 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/0f/0f812e6e9d2786ba8f54b960ee563c0663ddbe2434bf24ff193f5feab1f31971.tar.bz2==&gt; Adding package vim@9.0.0045 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/59/594a31e96e3eda07a358db305de939ca749693b4684de9e027bfa70311b1994d.tar.gz==&gt; Adding package xcb-proto@1.14.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/f0/f04add9a972ac334ea11d9d7eb4fc7f8883835da3e4859c9afa971efdf57fcc3.tar.xz==&gt; Adding package xextproto@7.3.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/1b/1b1bcdf91221e78c6c33738667a57bd9aaa63d5953174ad8ed9929296741c9f5.tar.gz==&gt; Adding package xkbcomp@1.4.4 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/15/159fba6b62ef4a3fb16ef7fc4eb4fc26f3888652471ceb604c495783dda020bc.tar.gz==&gt; Adding package xkbdata@1.0.1 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/5b/5b43ca5219cd4022a158a8d4bfa30308ea5e16c9b5270a64589ebfe7f875f430.tar.gz==&gt; Adding package xmlto@0.0.28 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/2f/2f986b7c9a0e9ac6728147668e776d405465284e13c74d4146c9cbc51fd8aad3.tar.gz==&gt; Adding package xproto@7.0.31 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/6d/6d755eaae27b45c5cc75529a12855fed5de5969b367ed05003944cf901ed43c7.tar.gz==&gt; Adding package xrandr@1.5.0 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/dd/ddfe8e7866149c24ccce8e6aaa0623218ae19130c2859cadcaa4228d8bb4a46d.tar.gz==&gt; Adding package xtrans@1.3.5 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/b7/b7a577c1b6c75030145e53b4793db9c88f9359ac49e7d771d4385d21b3e5945d.tar.gz==&gt; Adding package xz@5.4.1 to mirror==&gt; Fetching https://prdownloads.sourceforge.net/lzmautils/files/xz-5.4.1.tar.bz2==&gt; Adding package zlib@1.2.13 to mirror==&gt; Fetching https://mirror.spack.io/_source-cache/archive/b3/b3a24de97a8fdbc835b9833169501030b8977031bcb54b3b3ac13740f846ab30.tar.gz==&gt; Adding package zstd@1.5.4 to mirror==&gt; Warning: Error while fetching zstd@1.5.4 All fetchers failed for spack-stage-zstd-1.5.4-fcoqzia2hmo7w2ydmmagjiatpskgp7jf==&gt; Summary for mirror in /local/tools/os/spack/pkgs-mirror==&gt; Archive stats: 0 already present 160 added 5 failed to fetch.==&gt; Error: Failed downloads:expat@2.5.0 intltool@0.51.0 zstd@1.5.4 readline@8.2 inputproto@2.3.2æç¤ºæœ‰å¤±è´¥ã€‚å¯ä»¥å°†ä¼ è¾“é”™è¯¯çš„ä¸´æ—¶æ–‡ä»¶åˆ æ‰ï¼Œé‡æ–°æ‰§è¡Œè¯•è¯•ã€‚å®Œæˆmirroræ“ä½œä¹‹åï¼Œå°†/local/tools/os/spack/pkgs-mirrorä¸/home/centos/.spack(è¿™ä¸ªç›®å½•ç¼“å­˜å¥½äº†spack bootstrap)ç›®å½•ä¼ åˆ°centos7-9-offlineæœºå™¨ï¼Œé…ç½®mirrorä¿¡æ¯ï¼Œ[centos@centos7-9-offline ~]$ spack mirror add local_filesystem file:///nfs/tools/os/spack/pkgs-mirror[centos@centos7-9-offline ~]$ cat ~/.spack/mirrors.yamlmirrors: local_filesystem: file:///nfs/tools/os/spack/pkgs-mirrorè¿™æ ·ï¼Œspackåœ¨ç¦»çº¿ç¯å¢ƒå°±å¯ä»¥ä½¿ç”¨mirrorè¿‡æ¥çš„ç›®å½•å®‰è£…äº†[centos@centos7-9-offline ~]$ spack install vim %gcc@12.2.0 +gtk +gui +lua +perl +python +ruby +x +cscopeéªŒè¯Spack Mirrors" }, { "title": "é™åˆ¶ç”¨æˆ·ç›´æ¥è®¿é—®lsfæ‰§è¡Œæœº", "url": "/posts/restrict-user-access-to-remote-lsf-exec-hosts/", "categories": "icenv", "tags": "lsf", "date": "2023-03-22 01:57:58 +0000", "snippet": "éœ€æ±‚ç¦æ­¢ç”¨æˆ·ç›´æ¥è®¿é—®LSFæ‰§è¡Œæœºï¼Œä»¥å®ç°LSFæ‰§è¡Œæœºçš„ç”¨æˆ·è¿›ç¨‹éƒ½æ¥è‡ªäºLSFçš„è°ƒåº¦ï¼Œç¡®ä¿ä½¿ç”¨çš„å…¬å¹³æ€§ï¼Œä»¥åŠæ–¹ä¾¿ç®¡ç†å‘˜ç®¡ç†ã€‚å®ç° https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=bsub-about-interactive-jobs //å°†é˜Ÿåˆ—é…ç½®ä¸ºbatch-onlyï¼Œä»¥ç¦æ­¢ç”¨æˆ·æäº¤interactiveçš„job https:...", "content": "éœ€æ±‚ç¦æ­¢ç”¨æˆ·ç›´æ¥è®¿é—®LSFæ‰§è¡Œæœºï¼Œä»¥å®ç°LSFæ‰§è¡Œæœºçš„ç”¨æˆ·è¿›ç¨‹éƒ½æ¥è‡ªäºLSFçš„è°ƒåº¦ï¼Œç¡®ä¿ä½¿ç”¨çš„å…¬å¹³æ€§ï¼Œä»¥åŠæ–¹ä¾¿ç®¡ç†å‘˜ç®¡ç†ã€‚å®ç° https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=bsub-about-interactive-jobs //å°†é˜Ÿåˆ—é…ç½®ä¸ºbatch-onlyï¼Œä»¥ç¦æ­¢ç”¨æˆ·æäº¤interactiveçš„job https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=cluster-restrict-user-access-remote-hosts //ç¦æ­¢æ™®é€šç”¨æˆ·æ‰§è¡Œlsrun, lsgrunä¸lsmake æ¯å°æœºå™¨çš„sshdé…ç½®ï¼Œç¦æ­¢æ™®é€šç”¨æˆ·ç™»å½•ã€‚ä¸‰ä¸ªæ­¥éª¤ç»„åˆèµ·æ¥ï¼Œå¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚ä½†interactiveå¾€å¾€æ˜¯å¿…é¡»çš„ï¼Œå› æ­¤å¯ä»¥ç»†åŒ–é˜Ÿåˆ—çš„ç®¡ç†ï¼Œå…è®¸ä¸ªåˆ«é˜Ÿåˆ—çš„interactiveã€‚" }, { "title": "Python bytesçš„å•ä¸ªå…ƒç´ ä¸slice", "url": "/posts/python-bytes/", "categories": "icenv", "tags": "python", "date": "2023-03-21 13:59:32 +0000", "snippet": "wanlinwang@MacBook-Pro ~ % python3 Python 3.10.8 (main, Mar 17 2023, 21:21:21) [Clang 14.0.0 (clang-1400.0.29.202)] on darwinType \"help\", \"copyright\", \"credits\" or \"license\" for more information.&g...", "content": "wanlinwang@MacBook-Pro ~ % python3 Python 3.10.8 (main, Mar 17 2023, 21:21:21) [Clang 14.0.0 (clang-1400.0.29.202)] on darwinType \"help\", \"copyright\", \"credits\" or \"license\" for more information.&gt;&gt;&gt; cafe = bytes('cafÃ©', encoding='utf_8')&gt;&gt;&gt; cafeb'caf\\xc3\\xa9'&gt;&gt;&gt; cafe[0]99&gt;&gt;&gt; cafe[:1]b'c'&gt;&gt;&gt; type(cafe[0])&lt;class 'int'&gt;&gt;&gt;&gt; type(cafe[:1])&lt;class 'bytes'&gt;&gt;&gt;&gt; Python bytesçš„å•ä¸ªå…ƒç´ ä¸sliceï¼Œä¸æ˜¯åŒä¸€ç§ç±»å‹ã€‚bytesçš„å•ä¸ªå…ƒç´ ï¼Œæ˜¯ä¸€ä¸ªèŒƒå›´æ˜¯0åˆ°255çš„æ•´æ•°ï¼›è€Œbytesçš„sliceåŒæ ·æ˜¯bytesï¼Œå³ä½¿sliceçš„é•¿åº¦æ˜¯1ã€‚" }, { "title": "displaying beautiful tables with Bootstrap Tables", "url": "/posts/tables/", "categories": "sample-posts", "tags": "formatting, tables", "date": "2023-03-20 18:37:00 +0000", "snippet": "Using markdown to display tables is easy. Just use the following syntax:| Left aligned | Center aligned | Right aligned || :----------- | :------------: | ------------: || Left 1 | center 1 ...", "content": "Using markdown to display tables is easy. Just use the following syntax:| Left aligned | Center aligned | Right aligned || :----------- | :------------: | ------------: || Left 1 | center 1 | right 1 || Left 2 | center 2 | right 2 || Left 3 | center 3 | right 3 |That will generate: Left aligned Center aligned Right aligned Left 1 center 1 right 1 Left 2 center 2 right 2 Left 3 center 3 right 3 It is also possible to use HTML to display tables. For example, the following HTML code will display a table with Bootstrap Table, loaded from a JSON file:&lt;table id=\"table\" data-toggle=\"table\" data-url=\"{{ '/assets/json/table_data.json' | relative_url }}\"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th data-field=\"id\"&gt;ID&lt;/th&gt; &lt;th data-field=\"name\"&gt;Item Name&lt;/th&gt; &lt;th data-field=\"price\"&gt;Item Price&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt;&lt;/table&gt; ID Item Name Item Price By using Bootstrap Table it is possible to create pretty complex tables, with pagination, search, and more. For example, the following HTML code will display a table, loaded from a JSON file, with pagination, search, checkboxes, and header/content alignment. For more information, check the documentation.&lt;table data-click-to-select=\"true\" data-height=\"460\" data-pagination=\"true\" data-search=\"true\" data-toggle=\"table\" data-url=\"{{ '/assets/json/table_data.json' | relative_url }}\"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th data-checkbox=\"true\"&gt;&lt;/th&gt; &lt;th data-field=\"id\" data-halign=\"left\" data-align=\"center\" data-sortable=\"true\"&gt;ID&lt;/th&gt; &lt;th data-field=\"name\" data-halign=\"center\" data-align=\"right\" data-sortable=\"true\"&gt;Item Name&lt;/th&gt; &lt;th data-field=\"price\" data-halign=\"right\" data-align=\"left\" data-sortable=\"true\"&gt;Item Price&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt;&lt;/table&gt; ID Item Name Item Price " }, { "title": "a post with table of contents", "url": "/posts/table-of-contents/", "categories": "sample-posts", "tags": "formatting, toc", "date": "2023-03-20 15:59:00 +0000", "snippet": "This post shows how to add a table of contents in the beginning of the post.Adding a Table of ContentsTo add a table of contents to a post, simply addtoc: beginning: trueto the front matter of the...", "content": "This post shows how to add a table of contents in the beginning of the post.Adding a Table of ContentsTo add a table of contents to a post, simply addtoc: beginning: trueto the front matter of the post. The table of contents will be automatically generated from the headings in the post.Example of Sub-Heading 1Jean shorts raw denim Vice normcore, art party High Life PBR skateboard stumptown vinyl kitsch. Four loko meh 8-bit, tousled banh mi tilde forage Schlitz dreamcatcher twee 3 wolf moon. Chambray asymmetrical paleo salvia, sartorial umami four loko master cleanse drinking vinegar brunch. Pinterest DIY authentic Schlitz, hoodie Intelligentsia butcher trust fund brunch shabby chic Kickstarter forage flexitarian. Direct trade cold-pressed meggings stumptown plaid, pop-up taxidermy. Hoodie XOXO fingerstache scenester Echo Park. Plaid ugh Wes Anderson, freegan pug selvage fanny pack leggings pickled food truck DIY irony Banksy.Example of another Sub-Heading 1Jean shorts raw denim Vice normcore, art party High Life PBR skateboard stumptown vinyl kitsch. Four loko meh 8-bit, tousled banh mi tilde forage Schlitz dreamcatcher twee 3 wolf moon. Chambray asymmetrical paleo salvia, sartorial umami four loko master cleanse drinking vinegar brunch. Pinterest DIY authentic Schlitz, hoodie Intelligentsia butcher trust fund brunch shabby chic Kickstarter forage flexitarian. Direct trade cold-pressed meggings stumptown plaid, pop-up taxidermy. Hoodie XOXO fingerstache scenester Echo Park. Plaid ugh Wes Anderson, freegan pug selvage fanny pack leggings pickled food truck DIY irony Banksy.Table of Contents OptionsIf you want to learn more about how to customize the table of contents, you can check the jekyll-toc repository.Example of Sub-Heading 2Jean shorts raw denim Vice normcore, art party High Life PBR skateboard stumptown vinyl kitsch. Four loko meh 8-bit, tousled banh mi tilde forage Schlitz dreamcatcher twee 3 wolf moon. Chambray asymmetrical paleo salvia, sartorial umami four loko master cleanse drinking vinegar brunch. Pinterest DIY authentic Schlitz, hoodie Intelligentsia butcher trust fund brunch shabby chic Kickstarter forage flexitarian. Direct trade cold-pressed meggings stumptown plaid, pop-up taxidermy. Hoodie XOXO fingerstache scenester Echo Park. Plaid ugh Wes Anderson, freegan pug selvage fanny pack leggings pickled food truck DIY irony Banksy.Example of another Sub-Heading 2Jean shorts raw denim Vice normcore, art party High Life PBR skateboard stumptown vinyl kitsch. Four loko meh 8-bit, tousled banh mi tilde forage Schlitz dreamcatcher twee 3 wolf moon. Chambray asymmetrical paleo salvia, sartorial umami four loko master cleanse drinking vinegar brunch. Pinterest DIY authentic Schlitz, hoodie Intelligentsia butcher trust fund brunch shabby chic Kickstarter forage flexitarian. Direct trade cold-pressed meggings stumptown plaid, pop-up taxidermy. Hoodie XOXO fingerstache scenester Echo Park. Plaid ugh Wes Anderson, freegan pug selvage fanny pack leggings pickled food truck DIY irony Banksy." }, { "title": "lsfè¿è¡Œé—®é¢˜", "url": "/posts/lsf-problems/", "categories": "icenv", "tags": "lsf", "date": "2023-03-20 12:08:15 +0000", "snippet": "é—®é¢˜1ï¼šsinit: ls_getmastername() failed. Server host LIM configuration is not ready yet.res/get_hostInfo: ls_gethostinfo() failed. Slave LIM configuration is not ready yet.masteråˆ°æ‰§è¡Œæœºçš„udpç«¯å£ä¸é€šå¯¼è‡´é—®é¢˜ï¼ˆåœ¨æ‰§è¡Œæœºçš„...", "content": "é—®é¢˜1ï¼šsinit: ls_getmastername() failed. Server host LIM configuration is not ready yet.res/get_hostInfo: ls_gethostinfo() failed. Slave LIM configuration is not ready yet.masteråˆ°æ‰§è¡Œæœºçš„udpç«¯å£ä¸é€šå¯¼è‡´é—®é¢˜ï¼ˆåœ¨æ‰§è¡Œæœºçš„inputæ–¹å‘ï¼Œå¼€äº†æ¥è‡ªäºmasterçš„tcpè¿æ¥ï¼Œä½†æ²¡å¼€udpè¿æ¥ï¼‰ã€‚ä»æ‰§è¡Œæœºåˆ°masteré€šä¿¡å¤±è´¥å¯¼è‡´çš„é—®é¢˜ï¼ˆåœ¨æ‰§è¡Œæœºçš„outputæ–¹å‘ï¼Œç¦æ­¢æ‰äº†å»å¾€masterçš„è¿æ¥ï¼‰ã€‚å‚è€ƒèµ„æ–™ï¼š https://www.ibm.com/support/pages/configure-firewall-ports-lsf-management-node-platform-rtm-monitoring ï¼Œå…¶ä¸­LSF_LIM_PORTè¦å…è®¸è®¿é—®UDPåè®®ã€‚" }, { "title": "LSFå¦‚ä½•å°†jobåˆ†æ•£åˆ°é›†ç¾¤è¿è¡Œ", "url": "/posts/lsf-job-dispatching/", "categories": "icenv", "tags": "lsf", "date": "2023-03-19 14:06:56 +0000", "snippet": "éœ€æ±‚ç ”å‘æƒ³å°†jobå°½å¯èƒ½åœ°å‡åŒ€åˆ†æ•£åœ¨é›†ç¾¤ä¸­çš„æ‰§è¡Œæœºä¸Šï¼Œå°†è´Ÿè½½å‡åŒ€åœ°åˆ†æ•£åˆ°é›†ç¾¤ä¸­ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„å¾€ä¸€å°è°ƒåº¦ï¼Œè¿™å°æ»¡äº†å†å¾€ä¸‹ä¸€å°è°ƒåº¦ã€‚å¦‚å›¾ï¼Œæ˜¯é»˜è®¤çš„è°ƒåº¦æƒ…å†µï¼Œè¿ç»­æäº¤çš„jobéƒ½è°ƒåº¦åˆ°äº†åŒä¸€å°æœºå™¨ï¼Œè§£å†³æ–¹æ¡ˆæ–¹æ¡ˆä¸€ï¼šåŸºäºæ‰§è¡Œæœºæ¥æ”¶æ—¶é—´é—´éš”ç»æŸ¥çœ‹æ‰‹å†Œ1ï¼Œ JOB_ACCEPT_INTERVAL=integer[Â SÂ  Â sÂ  Â MÂ  ...", "content": "éœ€æ±‚ç ”å‘æƒ³å°†jobå°½å¯èƒ½åœ°å‡åŒ€åˆ†æ•£åœ¨é›†ç¾¤ä¸­çš„æ‰§è¡Œæœºä¸Šï¼Œå°†è´Ÿè½½å‡åŒ€åœ°åˆ†æ•£åˆ°é›†ç¾¤ä¸­ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„å¾€ä¸€å°è°ƒåº¦ï¼Œè¿™å°æ»¡äº†å†å¾€ä¸‹ä¸€å°è°ƒåº¦ã€‚å¦‚å›¾ï¼Œæ˜¯é»˜è®¤çš„è°ƒåº¦æƒ…å†µï¼Œè¿ç»­æäº¤çš„jobéƒ½è°ƒåº¦åˆ°äº†åŒä¸€å°æœºå™¨ï¼Œè§£å†³æ–¹æ¡ˆæ–¹æ¡ˆä¸€ï¼šåŸºäºæ‰§è¡Œæœºæ¥æ”¶æ—¶é—´é—´éš”ç»æŸ¥çœ‹æ‰‹å†Œ1ï¼Œ JOB_ACCEPT_INTERVAL=integer[Â SÂ  Â sÂ  Â MÂ  Â mÂ ] whereÂ SÂ |Â sÂ indicates that the value is in seconds andÂ MÂ |Â mÂ indicates that the value is in minutes.If you set a unit (seconds or minutes), the value that you specify determines how long to wait after dispatching a job to a host before dispatching a second job to the same host. If you do not set a unit, the value you specify is multiplied by the value ofÂ lsb.paramsÂ MBD_SLEEP_TIMEÂ (60 seconds by default). The result of the calculation is the number of seconds to wait after dispatching a job to a host, before dispatching a second job to the same host. If 0 (zero), a host may accept more than one job. By default, there is no limit to the total number of jobs that can run on a host, so if this parameter is set to 0, a very large number of jobs might be dispatched to a host all at once. This can overload your system to the point that it will be unable to create any more processes. It is not recommended to set this parameter to 0. JOB_ACCEPT_INTERVALÂ set at the queue level (lsb.queues) overridesÂ JOB_ACCEPT_INTERVALÂ set at the cluster level (lsb.params).å¯ä»¥é€šè¿‡è°ƒæ•´åŒä¸€å°æ‰§è¡Œæœºæ¥æ”¶jobçš„æ—¶é—´é—´éš”ï¼Œæ¥è¾¾åˆ°å°†jobåˆ†æ•£åˆ°é›†ç¾¤ä¸­çš„æ‰§è¡Œæœºçš„éœ€æ±‚ã€‚è®¾ç½®[lsfadmin@lsf-server-01 lsf]$ grep JOB_ACCEPT_INTERVAL /nfs/home/lsfadmin/lsf/lsf/conf/lsbatch/myCluster01/configdir/lsb.params#JOB_ACCEPT_INTERVAL = 0 # Interval for any host to accept a job JOB_ACCEPT_INTERVAL = 1 # è¯­æ³•ï¼šJOB_ACCEPT_INTERVAL=integer[Â SÂ |Â sÂ |Â MÂ |Â mÂ ]ã€‚ å¦‚æœæœªæŒ‡å®šå•ä½ï¼Œåˆ™è¯¥æ—¶é—´ç­‰äºè¯¥æ•°å€¼ä¹˜ä»¥MBD_SLEEP_TIMEï¼Œè€ŒMBD_SLEEP_TIMEç¼ºçœå€¼æ˜¯60ç§’ï¼Œåœ¨å®‰è£…æ—¶ä¼šè¢«è®¾å®šä¸º10ç§’ã€‚[lsfadmin@lsf-server-01 lsf]$ badmin reconfigChecking configuration files ...No errors found.Reconfiguration initiated[lsfadmin@lsf-server-01 ~]$ bparams -l| grep MBD_SLEEP_TIME MBD_SLEEP_TIME = 10 (seconds) JOB_ACCEPT_INTERVAL = 1 (* MBD_SLEEP_TIME)åœ¨10ç§’å†…ï¼Œè¿ç»­æäº¤ä¸‰ä¸ªjobï¼Œå¯ä»¥çœ‹åˆ°å®ƒä»¬åˆ†æ•£åœ¨äº†ä¸‰å°æ‰§è¡Œæœºå™¨ã€‚æ–¹æ¡ˆäºŒï¼šåŸºäºä¸»æœºæŒ‡æ ‡ç»æŸ¥çœ‹æ‰‹å†Œ2ï¼ŒRES_REQçš„order stringä»‹ç»å¦‚ä¸‹ï¼Œ The order string allows the selected hosts to be sorted according to the values of resources. The values ofÂ r15s,Â r1m, andÂ r15mÂ used for sorting are the normalized load indices that are returned byÂ lsload -N. The order string is used for host sorting and selection. The ordering begins with the rightmost index in the order string and proceeds from right to left. The hosts are sorted into order based on each load index, and if more hosts are available than were requested, the LIM drops the least desirable hosts according to that index. The remaining hosts are then sorted by the next index. After the hosts are sorted by the leftmost index in the order string, the final phase of sorting orders the hosts according to their status, with hosts that are currently not available for load sharing (that is, not in theÂ okÂ state) listed at the end. Because the hosts are sorted again for each load index, only the host status and the leftmost index in the order string actually affect the order in which hosts are listed. The other indices are only used to drop undesirable hosts from the list. When sorting is done on each index, the direction in which the hosts are sorted (increasing versus decreasing values) is determined by the default order returned byÂ lsinfoÂ for that index. This direction is chosen such that after sorting, by default, the hosts are ordered from best to worst on that index. When used with aÂ cuÂ string, the preferred compute unit order takes precedence. Within each compute unit hosts are ordered according to theÂ orderÂ string requirements.å¦‚æœorder stringé‡Œæœ‰å¤šä¸ªæŒ‡æ ‡ï¼Œåˆ™ä»å³åˆ°å·¦ä¾æ¬¡å¤„ç†ï¼Œä¸Šä¸€ä¸ªæŒ‡æ ‡æ’åºåçš„è¾“å‡ºæˆä¸ºä¸‹ä¸€ä¸ªæŒ‡æ ‡æ’åºçš„è¾“å…¥ï¼Œç›´åˆ°æœ€å·¦çš„æŒ‡æ ‡æ’åºå®Œæˆï¼Œé€‰å‡ºåˆé€‚çš„æ‰§è¡Œæœºè¿›è¡Œè°ƒåº¦ã€‚LSFçš„RES_REQ order stringé»˜è®¤æ˜¯r15s:pgï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨pgæŒ‡æ ‡æ’åºå®Œä¹‹åï¼Œå†r15sæ’åºï¼Œæœ€ä¼˜çš„èƒœå‡ºã€‚å›åˆ°æœ¬æ–‡çš„éœ€æ±‚ï¼Œæƒ³å°†jobè°ƒåº¦åˆ°slotå¯ç”¨æ•°é‡å¤šçš„ï¼Œå¯ä»¥è¿™æ ·è®¾ç½®[lsfadmin@lsf-server-01 lsf]$ grep DEFAULT_RESREQ_ORDER ./conf/lsbatch/myCluster01/configdir/lsb.paramsDEFAULT_RESREQ_ORDER = slots[lsfadmin@lsf-server-01 lsf]$ badmin reconfigChecking configuration files ...No errors found.Reconfiguration initiatedè¿ç»­æäº¤ä¸‰ä¸ªjobä¸Šå»ï¼Œçœ‹ä¸‹æ•ˆæœï¼Œ https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=lsbparams-job-accept-intervalÂ &#8617;&#xfe0e; https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=strings-order-stringÂ &#8617;&#xfe0e; " }, { "title": "cursor IDEä½¿ç”¨", "url": "/posts/cursor-ide/", "categories": "icenv", "tags": "ide", "date": "2023-03-17 13:47:45 +0000", "snippet": "ä¸‹è½½ç•¥ã€‚å®‰è£…ç•¥ã€‚", "content": "ä¸‹è½½ç•¥ã€‚å®‰è£…ç•¥ã€‚" }, { "title": "sequenceå›¾è®¾ç½®æ¶ˆæ¯çš„id", "url": "/posts/how-to-apply-numbering-for-message-in-sequence-diagram/", "categories": "icenv", "tags": "uml", "date": "2023-03-17 06:55:37 +0000", "snippet": "Diagram-based NumberingSingle Levelåœ¨UMLæ—¶åºå›¾çš„èƒŒæ™¯å¤„ï¼Œå³é”®é€‰æ‹©Sequence Number -&gt; Single Levelã€‚åªè¦åœ¨åŒä¸€ä¸ªå›¾ä¸­ï¼Œç¼–å·å°±æ˜¯è¿ç»­çš„ã€‚Nested Levelåœ¨UMLæ—¶åºå›¾çš„èƒŒæ™¯å¤„ï¼Œå³é”®é€‰æ‹©Sequence Number -&gt; Nested Levelã€‚æ•ˆæœå¦‚ä¸‹ï¼ŒFrame-based NumberingSingl...", "content": "Diagram-based NumberingSingle Levelåœ¨UMLæ—¶åºå›¾çš„èƒŒæ™¯å¤„ï¼Œå³é”®é€‰æ‹©Sequence Number -&gt; Single Levelã€‚åªè¦åœ¨åŒä¸€ä¸ªå›¾ä¸­ï¼Œç¼–å·å°±æ˜¯è¿ç»­çš„ã€‚Nested Levelåœ¨UMLæ—¶åºå›¾çš„èƒŒæ™¯å¤„ï¼Œå³é”®é€‰æ‹©Sequence Number -&gt; Nested Levelã€‚æ•ˆæœå¦‚ä¸‹ï¼ŒFrame-based NumberingSingle Levelåœ¨UMLæ—¶åºå›¾çš„èƒŒæ™¯å¤„ï¼Œå³é”®é€‰æ‹©Sequence Number -&gt; Frame-based Single Levelã€‚æ•ˆæœå¦‚ä¸‹ï¼ŒNested Levelåœ¨UMLæ—¶åºå›¾çš„èƒŒæ™¯å¤„ï¼Œå³é”®é€‰æ‹©Sequence Number -&gt; Frame-based Nested Levelã€‚æ•ˆæœå¦‚ä¸‹ï¼Œå‚è€ƒæ–‡çŒ®How to Apply Numbering for Messages in Sequence Diagram? (visual-paradigm.com)" }, { "title": "Welcome to the UML", "url": "/posts/welcome-to-the-uml/", "categories": "icenv", "tags": "uml", "date": "2023-03-17 01:05:26 +0000", "snippet": "UMLå†å²", "content": "UMLå†å²" }, { "title": "Linuxçš„ç½‘å¡bondingæ¨¡å¼", "url": "/posts/Bonding-Modes-in-Linux/", "categories": "icenv", "tags": "network", "date": "2023-03-15 13:39:18 +0000", "snippet": "ä¸åŒçš„Bonding ModeåŒºåˆ«ç½‘å¡Bondingæ˜¯ä¸€é¡¹åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå®ç°çš„ç½‘ç»œå†—ä½™æŠ€æœ¯ã€‚è®¾ç½®ç½‘å¡Bondingåï¼Œå†…æ ¸ä¼šå°†å¤šæ¡ç‰©ç†é“¾è·¯ç»„æˆä¸€æ¡é€»è¾‘è™šæ‹Ÿé“¾è·¯ï¼Œåœ¨ç½‘ç»œå±‚ä¸Šå®ç°é«˜å¯ç”¨ã€‚mode 0(balance-rr)Round-robin policyã€‚ä»ç»„å†…çš„ç¬¬ä¸€ä¸ªSlaveæ¥å£å¼€å§‹ï¼Œä»¥è½®è¯¢çš„æ–¹å¼å°†æ•°æ®æŒ‰é¡ºåºä¾æ¬¡å‘æ”¾ã€‚è¯¥æ¨¡å¼æä¾›load balancingä»¥åŠfault toleran...", "content": "ä¸åŒçš„Bonding ModeåŒºåˆ«ç½‘å¡Bondingæ˜¯ä¸€é¡¹åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå®ç°çš„ç½‘ç»œå†—ä½™æŠ€æœ¯ã€‚è®¾ç½®ç½‘å¡Bondingåï¼Œå†…æ ¸ä¼šå°†å¤šæ¡ç‰©ç†é“¾è·¯ç»„æˆä¸€æ¡é€»è¾‘è™šæ‹Ÿé“¾è·¯ï¼Œåœ¨ç½‘ç»œå±‚ä¸Šå®ç°é«˜å¯ç”¨ã€‚mode 0(balance-rr)Round-robin policyã€‚ä»ç»„å†…çš„ç¬¬ä¸€ä¸ªSlaveæ¥å£å¼€å§‹ï¼Œä»¥è½®è¯¢çš„æ–¹å¼å°†æ•°æ®æŒ‰é¡ºåºä¾æ¬¡å‘æ”¾ã€‚è¯¥æ¨¡å¼æä¾›load balancingä»¥åŠfault toleranceã€‚mode 1(active-backup)Active-backup policyã€‚åªæœ‰ä¸€ä¸ªslaveæ˜¯activeçš„ã€‚å½“ä¸”ä»…å½“active slaveå¤±æ•ˆäº†ï¼Œå¦ä¸€ä¸ªslaveå°±ä¼šå˜æˆactiveã€‚bondçš„MACåœ°å€åªåœ¨ä¸€ä¸ªç«¯å£ä¸Šå¯¹å¤–å¯è§ï¼Œé¿å…äº†äº¤æ¢æœºæ··æ·†ã€‚è¯¥æ¨¡å¼æä¾›fault toleranceã€‚mode 2(balance-xor)åŸºäºé€‰æ‹©çš„transmit hash policyä¼ è¾“ã€‚policyå¯ä»¥é€šè¿‡xmit_hash_policyæ›´æ”¹ã€‚è¯¥æ¨¡å¼æä¾›load balancingä»¥åŠfault toleranceã€‚mode 3(broadcast)åœ¨æ‰€æœ‰slaveæ¥å£ä¸Šéƒ½ä¼ è¾“ã€‚è¯¥æ¨¡å¼æä¾›fault toleranceã€‚mode 4(802.3ad)IEEE 802.3ad Dynamic link aggregation policyã€‚åˆ›å»ºèšåˆç»„ï¼Œå…±äº«ç›¸åŒçš„é€Ÿç‡ä¸å·¥ä½œæ¨¡å¼ã€‚æ ¹æ®802.3adè§„èŒƒï¼Œå……åˆ†åˆ©ç”¨active aggregatoré‡Œçš„æ‰€æœ‰slaveã€‚å¯¹äºoutgoingæµé‡çš„slaveæ¥å£é€‰ä¸¾ï¼Œæ˜¯é€šè¿‡transmit hash policyæ¥å®Œæˆçš„ã€‚policyå¯ä»¥é€šè¿‡xmit_hash_policyæ›´æ”¹ã€‚xmit_hash_policyçš„å€¼1 0 or layer2 é»˜è®¤é…ç½®ã€‚å®ƒä½¿ç”¨ä¸¤ä¸ªMACåœ°å€åšå¼‚æˆ–ï¼Œå†å–æ¨¡ï¼Œè·å¾—hashã€‚ (source_MAC_address XOR destination_MAC) MODULO slave_count 1 or layer3+4 ä½¿ç”¨ç¬¬3å±‚ä¸ç¬¬4å±‚åœ°å€åˆ†åˆ«åšå¼‚æˆ–è¿ç®—ï¼Œå†å–æ¨¡ï¼Œè·å¾—hashã€‚ ((source_port XOR dest_port) XOR ((source_IP XOR dest_IP) AND 0xffff) MODULO slave_count 2 or layer2+3 ä½¿ç”¨ç¬¬2å±‚ä¸ç¬¬3å±‚åœ°å€åˆ†åˆ«åšå¼‚æˆ–è¿ç®—ï¼Œå†å–æ¨¡ï¼Œè·å¾—hashã€‚ (((source_IP XOR dest_IP) AND 0xffff) XOR ( source_MAC XOR destination_MAC )) MODULO slave_count è¯¥æ¨¡å¼å¯¹ç¡¬ä»¶çš„è¦æ±‚ ethtoolæ”¯æŒåŸºç¡€é©±åŠ¨ï¼Œå–å›æ¯ä¸ªslaveçš„é€Ÿç‡ä¸å•åŒå·¥å·¥ä½œæ¨¡å¼ã€‚ äº¤æ¢æœºè™šæ”¯æŒIEEE 802.3ad Dynamic link aggregationã€‚åˆ—å­ï¼šmode 5(balance-tlb)å‘é€è´Ÿè½½å‡è¡¡ã€‚ä¸éœ€è¦äº¤æ¢æœºçš„ä»»ä½•ç‰¹æ®Šæ”¯æŒã€‚outgoingçš„æµé‡ä¼šåˆ†å¸ƒåˆ°å„ä¸ªslaveï¼Œincomingçš„æµé‡ä¼šè¢«å½“å‰çš„slaveæ¥æ”¶ã€‚å¦‚æœå½“å‰slaveå¤±æ•ˆäº†ï¼Œå…¶ä»–çš„slaveä¼šæ¥ç®¡å®ƒçš„MACåœ°å€ã€‚mode 6(balance-alb)å®ƒåŒ…æ‹¬IPv4çš„å‘é€è´Ÿè½½å‡è¡¡ä»¥åŠæ¥æ”¶è´Ÿè½½å‡è¡¡ã€‚ä¸éœ€è¦äº¤æ¢æœºçš„ä»»ä½•ç‰¹æ®Šæ”¯æŒã€‚æ¥æ”¶è´Ÿè½½å‡è¡¡ï¼Œæ˜¯é€šè¿‡ARPåå•†å®ç°ã€‚bondingé©±åŠ¨æ‹¦æˆªæœ¬æœºå‘å‡ºçš„ARP replyï¼Œé‡å†™source MACåœ°å€ä¸ºbondä¸­çš„å…¶ä¸­ä¸€ä¸ªslaveçš„MACåœ°å€ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä¸åŒçš„å¯¹ç«¯ä¸æœ¬æœºä¸åŒçš„MACåœ°å€è¿›è¡Œé€šä¿¡ï¼Œè¾¾åˆ°æ¥æ”¶è´Ÿè½½å‡è¡¡çš„æ•ˆæœã€‚æ›´å¤šä¿¡æ¯è¯·è®¿é—®Linuxå†…æ ¸å®˜ç½‘2ã€‚ä¸åŒçš„Bonding Modeå¯¹äº¤æ¢æœºçš„é…ç½®è¦æ±‚ Bonding Mode Configuration on the Switch 0 - balance-rr Requires static Etherchannel enabled(not LACP-negotiated) 1 - active-backup Requires autonomous ports 2 - balance-xor Requires static Etherchannel enabled(not LACP-negotiated) 3 - broadcast Requires static Etherchannel enabled(not LACP-negotiated) 4 - 802.3ad Requires LACP-negotiated Etherchannel enabled 5 - balance-tlb Requires autonomous ports 6 - balance-alb Requires autonomous ports xmit_hash_policyå¸¸ç”¨çš„ä¸‰ä¸ªå€¼ï¼Œå¼•ç”¨è‡ª https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec-using_channel_bonding?ssp=1&amp;darkschemeovr=0&amp;setlang=en-US&amp;safesearch=moderateÂ &#8617;&#xfe0e; Linuxå†…æ ¸å®˜ç½‘ https://www.kernel.org/doc/Documentation/networking/bonding.txtÂ &#8617;&#xfe0e; " }, { "title": "ä½¿ç”¨spackå®‰è£…gcc 4.6.4å¤±è´¥", "url": "/posts/gcc-4.6.4-failed-installed-with-spack/", "categories": "icenv", "tags": "gcc", "date": "2023-03-15 09:55:09 +0000", "snippet": "é—®é¢˜å› å®šä½é—®é¢˜ï¼Œä¾›åº”å•†å»ºè®®xrunå°è¯•ä¸€ä¸‹gcc 4.6ç‰ˆæœ¬ã€‚æˆ‘ç”¨spack info gccæŸ¥åˆ°gcc 4.6.4ã€‚å®‰è£…æ—¶æŠ¥é”™ï¼Œä¸Šè¿°æŠ¥é”™ä¸texinfoæœ‰å…³ï¼ŒæŸ¥çœ‹äº† https://github.com/esden/summon-arm-toolchain/issues/60https://github.com/esden/summon-arm-toolchain/issues/60#is...", "content": "é—®é¢˜å› å®šä½é—®é¢˜ï¼Œä¾›åº”å•†å»ºè®®xrunå°è¯•ä¸€ä¸‹gcc 4.6ç‰ˆæœ¬ã€‚æˆ‘ç”¨spack info gccæŸ¥åˆ°gcc 4.6.4ã€‚å®‰è£…æ—¶æŠ¥é”™ï¼Œä¸Šè¿°æŠ¥é”™ä¸texinfoæœ‰å…³ï¼ŒæŸ¥çœ‹äº† https://github.com/esden/summon-arm-toolchain/issues/60https://github.com/esden/summon-arm-toolchain/issues/60#issuecomment-55583716ä¸texinfoçš„bugæœ‰å…³ï¼Œå°†texinfoåŒ…é™çº§å³å¯è§£å†³é—®é¢˜ã€‚è§£å†³spack info texinfoæŸ¥çœ‹åˆ°æœ‰5.0ç‰ˆæœ¬ï¼Œäºæ˜¯ä½¿ç”¨å®ƒspack install gcc@4.6.4 ^texinfo@5.0é—®é¢˜è§£å†³ã€‚" }, { "title": "ä½¿ç”¨patchelfä¿®æ”¹rpath", "url": "/posts/patchelf-modify-rpath/", "categories": "linux", "tags": "elf", "date": "2023-03-15 03:30:48 +0000", "snippet": "è‡ªåŠ¨è§£å†³å…±äº«åº“é“¾æ¥é—®é¢˜å½“ä»è½¯ä»¶åŒ…è·å–ä¸€ä¸ªç¨‹åºæ—¶ï¼Œç»å¸¸éœ€è¦æ‰‹åŠ¨è®¾ç½® LD_LIBRARY_PATH ç¯å¢ƒå˜é‡ï¼Œä»¥ç¡®ä¿ç¨‹åºèƒ½å¤Ÿæ­£ç¡®åŠ è½½å…±äº«åº“å¹¶æ­£å¸¸è¿è¡Œã€‚ä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¿›è¡Œç¹ççš„é…ç½®ï¼Œå¯ä»¥é€šè¿‡ä¸ºç¨‹åºè®¾ç½® RPATH æ¥å®ç°è‡ªåŠ¨æŸ¥æ‰¾å…±äº«åº“ï¼Œä»è€Œç®€åŒ–æ“ä½œã€‚é—®é¢˜èƒŒæ™¯ä¾‹å¦‚ï¼Œå½“ä½ ä» SourceForge ä¸‹è½½å¹¶è§£å‹ srecord RPM åŒ…åï¼Œä½ ä¼šå‘ç°å…¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š[wanlinwang@comput...", "content": "è‡ªåŠ¨è§£å†³å…±äº«åº“é“¾æ¥é—®é¢˜å½“ä»è½¯ä»¶åŒ…è·å–ä¸€ä¸ªç¨‹åºæ—¶ï¼Œç»å¸¸éœ€è¦æ‰‹åŠ¨è®¾ç½® LD_LIBRARY_PATH ç¯å¢ƒå˜é‡ï¼Œä»¥ç¡®ä¿ç¨‹åºèƒ½å¤Ÿæ­£ç¡®åŠ è½½å…±äº«åº“å¹¶æ­£å¸¸è¿è¡Œã€‚ä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¿›è¡Œç¹ççš„é…ç½®ï¼Œå¯ä»¥é€šè¿‡ä¸ºç¨‹åºè®¾ç½® RPATH æ¥å®ç°è‡ªåŠ¨æŸ¥æ‰¾å…±äº«åº“ï¼Œä»è€Œç®€åŒ–æ“ä½œã€‚é—®é¢˜èƒŒæ™¯ä¾‹å¦‚ï¼Œå½“ä½ ä» SourceForge ä¸‹è½½å¹¶è§£å‹ srecord RPM åŒ…åï¼Œä½ ä¼šå‘ç°å…¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š[wanlinwang@computing-server-01 usr]$ ls *bin:srec_cat srec_cmp srec_infoinclude:srecordlib:ld-linux-x86-64.so.2 libgcc_s.so.1 libgcrypt.so.20.3.4 libgpg-error.so.0.32.1 libm.so.6 libstdc++.so.6.0.30libc.so.6 libgcrypt.so.20 libgpg-error.so.0 liblib_srecord.a libstdc++.so.6share:doc manç›´æ¥è¿è¡Œ srec_cat ç­‰å‘½ä»¤æ—¶ï¼Œå¯èƒ½ä¼šæç¤ºå…±äº«åº“æœªæ‰¾åˆ°ã€‚è§£å†³æ–¹æ¡ˆä¸ºäº†è®©ç¨‹åºèƒ½å¤Ÿè‡ªåŠ¨æ‰¾åˆ°å…¶ä¾èµ–çš„å…±äº«åº“ï¼Œè€Œæ— éœ€ç”¨æˆ·æ¯æ¬¡æ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® ELF æ–‡ä»¶çš„ RPATHï¼Œä½¿å¾—åŠ¨æ€é“¾æ¥å™¨åœ¨æŒ‡å®šç›®å½•ï¼ˆå¦‚ lib ç›®å½•ï¼‰ä¸­æŸ¥æ‰¾å…±äº«åº“ã€‚1. è®¾ç½® RPATHä½¿ç”¨ patchelf å·¥å…·å¯ä»¥è½»æ¾ä¿®æ”¹ ELF æ–‡ä»¶çš„ RPATHã€‚RPATH å‘Šè¯‰åŠ¨æ€é“¾æ¥å™¨å»å“ªé‡ŒæŸ¥æ‰¾å…±äº«åº“ï¼Œ$ORIGIN ä»£è¡¨ç¨‹åºæ‰€åœ¨ç›®å½•ï¼Œå› æ­¤è®¾ç½® RPATH ä¸º $ORIGIN/../libï¼Œè¡¨ç¤ºç¨‹åºå°†ä»å…¶ä¸Šçº§ç›®å½•çš„ lib æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾å…±äº«åº“ã€‚[wanlinwang@computing-server-01 bin]$ patchelf --set-rpath '$ORIGIN/../lib' --force-rpath *2. éªŒè¯ RPATH è®¾ç½®ä¿®æ”¹ RPATH åï¼Œå¯ä»¥é€šè¿‡ readelf æŸ¥çœ‹æ¯ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„ RPATH è®¾ç½®ï¼Œç¡®ä¿å…¶æ­£ç¡®ï¼š[wanlinwang@computing-server-01 bin]$ readelf -d * | grep -i rpath 0x000000000000000f (RPATH) Library rpath: [$ORIGIN/../lib] 0x000000000000000f (RPATH) Library rpath: [$ORIGIN/../lib] 0x000000000000000f (RPATH) Library rpath: [$ORIGIN/../lib]3. éªŒè¯å…±äº«åº“åŠ è½½æƒ…å†µé€šè¿‡ ldd å‘½ä»¤æ£€æŸ¥å…±äº«åº“æ˜¯å¦æ­£ç¡®åŠ è½½ï¼Œç¡®ä¿ç¨‹åºèƒ½å¤Ÿä»é¢„æœŸç›®å½•åŠ è½½å…±äº«åº“ï¼š[wanlinwang@computing-server-01 bin]$ ldd *srec_cat:\tlinux-vdso.so.1 =&gt; (0x00007fff02d8d000)\tlibgcrypt.so.20 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgcrypt.so.20 (0x00007f9b740a0000)\tlibstdc++.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libstdc++.so.6 (0x00007f9b73e76000)\tlibgcc_s.so.1 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgcc_s.so.1 (0x00007f9b742d3000)\tlibc.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libc.so.6 (0x00007f9b73c4e000)\tlibgpg-error.so.0 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgpg-error.so.0 (0x00007f9b742ac000)\tlibm.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libm.so.6 (0x00007f9b73b67000)\t/lib64/ld-linux-x86-64.so.2 (0x00007f9b741de000)srec_cmp:\tlinux-vdso.so.1 =&gt; (0x00007fffa639e000)\tlibgcrypt.so.20 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgcrypt.so.20 (0x00007f5fd42ca000)\tlibstdc++.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libstdc++.so.6 (0x00007f5fd4067000)\tlibgcc_s.so.1 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgcc_s.so.1 (0x00007f5fd4047000)\tlibc.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libc.so.6 (0x00007f5fd3e1f000)\tlibgpg-error.so.0 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgpg-error.so.0 (0x00007f5fd3df9000)\tlibm.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libm.so.6 (0x00007f5fd3d12000)\t/lib64/ld-linux-x86-64.so.2 (0x00007f5fd4291000)srec_info:\tlinux-vdso.so.1 =&gt; (0x00007ffe78da2000)\tlibgcrypt.so.20 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgcrypt.so.20 (0x00007f97be3fc000)\tlibstdc++.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libstdc++.so.6 (0x00007f97be19c000)\tlibgcc_s.so.1 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgcc_s.so.1 (0x00007f97be17c000)\tlibc.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libc.so.6 (0x00007f97bdf54000)\tlibgpg-error.so.0 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libgpg-error.so.0 (0x00007f97bdf2e000)\tlibm.so.6 =&gt; /nfs/home/wanlinwang/usr/bin/./../lib/libm.so.6 (0x00007f97bde47000)\t/lib64/ld-linux-x86-64.so.2 (0x00007f97be3c6000)æ­¤æ—¶ï¼Œæ‰€æœ‰çš„å…±äº«åº“éƒ½å·²æˆåŠŸåŠ è½½ï¼Œä¸”ç¨‹åºä¼šè‡ªåŠ¨ä»è§£å‹ç›®å½•ä¸‹çš„ lib æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾æ‰€éœ€çš„å…±äº«åº“ã€‚å…±äº«åº“æŸ¥æ‰¾é¡ºåºå½“åŠ¨æ€é“¾æ¥å™¨æŸ¥æ‰¾å…±äº«åº“æ—¶ï¼Œä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œï¼š RPATHï¼šå¦‚æœå¯æ‰§è¡Œæ–‡ä»¶çš„ RPATH å­˜åœ¨ä¸”ä¸ä¸ºç©ºï¼Œé“¾æ¥å™¨å°†é¦–å…ˆæ£€æŸ¥è¿™äº›è·¯å¾„ã€‚ LD_LIBRARY_PATHï¼šå¦‚æœè®¾ç½®äº†ç¯å¢ƒå˜é‡ LD_LIBRARY_PATHï¼Œé“¾æ¥å™¨å°†ä¾æ¬¡æ£€æŸ¥å…¶ä¸­åˆ—å‡ºçš„ç›®å½•ã€‚ RUNPATHï¼šå¦‚æœå¯æ‰§è¡Œæ–‡ä»¶åŒ…å« RUNPATHï¼Œé“¾æ¥å™¨å°†ä½¿ç”¨è¿™äº›è·¯å¾„ã€‚ ç¼“å­˜ï¼šæ£€æŸ¥ /etc/ld.so.cache æ˜¯å¦åŒ…å«æ‰€éœ€çš„åº“ã€‚ ç³»ç»Ÿé»˜è®¤è·¯å¾„ï¼šå¦‚æœä»¥ä¸Šéƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œé“¾æ¥å™¨å°†æ£€æŸ¥ /lib å’Œ /usr/lib ç›®å½•ã€‚æ€»ç»“é€šè¿‡ä¸ºç¨‹åºè®¾ç½® RPATHï¼Œå¯ä»¥é¿å…æ‰‹åŠ¨è®¾ç½® LD_LIBRARY_PATHï¼Œå¹¶ç¡®ä¿å…±äº«åº“èƒ½å¤Ÿè‡ªåŠ¨æ‰¾åˆ°ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ç”¨æˆ·æ— éœ€é¢å¤–é…ç½®ï¼Œè½¯ä»¶è¿è¡Œæ—¶è‡ªåŠ¨åŠ è½½å¿…è¦çš„åº“ï¼Œæé«˜äº†ç”¨æˆ·ä½“éªŒå’Œè½¯ä»¶çš„å¯ç§»æ¤æ€§ã€‚å‚è€ƒèµ„æ–™å…±äº«åº“æŸ¥æ‰¾é¡ºåºï¼Œæ¥è‡ªThe Linux Programming When resolving library dependencies, the dynamic linker first inspects each dependency string to see if it contains a slash (/), which can occur if we specified an explicit library pathname when linking the executable. If a slash is found, then the dependency string is interpreted as a pathname (either absolute or relative), and the library is loaded using that pathname. Otherwise, the dynamic linker searches for the shared library using the following rules: If the executable has any directories listed in its DT_RPATH run-time library path list (rpath) and the executable does not contain a DT_RUNPATH list, then these directories are searched (in the order that they were supplied when linking the program). If the LD_LIBRARY_PATH environment variable is defined, then each of the colon-separated directories listed in its value is searched in turn. If the executable is a set-user-ID or set-group-ID program, then LD_LIBRARY_PATH is ignored. This is a security measure to prevent users from tricking the dynamic linker into loading a private version of a library with the same name as a library required by the executable. If the executable has any directories listed in its DT_RUNPATH run-time library path list, then these directories are searched (in the order that they were supplied when linking the program). The file /etc/ld.so.cache is checked to see if it contains an entry for the library. The directories /lib and /usr/lib are searched (in that order). " }, { "title": "GPT4æ¥äº†", "url": "/posts/gpt4-arrived/", "categories": "it", "tags": "gpt, ai", "date": "2023-03-15 01:39:12 +0000", "snippet": "å€ŸåŠ©DeepL Translator ç¿»è¯‘çš„GPT-4åšæ–‡ï¼šGPT-4æˆ‘ä»¬å·²ç»åˆ›å»ºäº†GPT-4ï¼Œè¿™æ˜¯OpenAIåœ¨æ‰©å¤§æ·±åº¦å­¦ä¹ æ–¹é¢çš„æœ€æ–°é‡Œç¨‹ç¢‘ã€‚GPT-4æ˜¯ä¸€ä¸ªå¤§å‹çš„å¤šæ¨¡æ€æ¨¡å‹ï¼ˆæ¥å—å›¾åƒå’Œæ–‡æœ¬è¾“å…¥ï¼Œå‘å‡ºæ–‡æœ¬è¾“å‡ºï¼‰ï¼Œè™½ç„¶åœ¨è®¸å¤šç°å®ä¸–ç•Œçš„åœºæ™¯ä¸­èƒ½åŠ›ä¸å¦‚äººç±»ï¼Œä½†åœ¨å„ç§ä¸“ä¸šå’Œå­¦æœ¯åŸºå‡†ä¸Šè¡¨ç°å‡ºäººç±»æ°´å¹³çš„è¡¨ç°ã€‚ä¾‹å¦‚ï¼Œå®ƒé€šè¿‡äº†æ¨¡æ‹Ÿçš„å¾‹å¸ˆè€ƒè¯•ï¼Œåˆ†æ•°åœ¨åº”è¯•è€…çš„å‰10%å·¦å³ï¼›ç›¸æ¯”ä¹‹ä¸‹ï¼ŒGPT-3.5çš„åˆ†æ•°åˆ™åœ¨å...", "content": "å€ŸåŠ©DeepL Translator ç¿»è¯‘çš„GPT-4åšæ–‡ï¼šGPT-4æˆ‘ä»¬å·²ç»åˆ›å»ºäº†GPT-4ï¼Œè¿™æ˜¯OpenAIåœ¨æ‰©å¤§æ·±åº¦å­¦ä¹ æ–¹é¢çš„æœ€æ–°é‡Œç¨‹ç¢‘ã€‚GPT-4æ˜¯ä¸€ä¸ªå¤§å‹çš„å¤šæ¨¡æ€æ¨¡å‹ï¼ˆæ¥å—å›¾åƒå’Œæ–‡æœ¬è¾“å…¥ï¼Œå‘å‡ºæ–‡æœ¬è¾“å‡ºï¼‰ï¼Œè™½ç„¶åœ¨è®¸å¤šç°å®ä¸–ç•Œçš„åœºæ™¯ä¸­èƒ½åŠ›ä¸å¦‚äººç±»ï¼Œä½†åœ¨å„ç§ä¸“ä¸šå’Œå­¦æœ¯åŸºå‡†ä¸Šè¡¨ç°å‡ºäººç±»æ°´å¹³çš„è¡¨ç°ã€‚ä¾‹å¦‚ï¼Œå®ƒé€šè¿‡äº†æ¨¡æ‹Ÿçš„å¾‹å¸ˆè€ƒè¯•ï¼Œåˆ†æ•°åœ¨åº”è¯•è€…çš„å‰10%å·¦å³ï¼›ç›¸æ¯”ä¹‹ä¸‹ï¼ŒGPT-3.5çš„åˆ†æ•°åˆ™åœ¨å10%å·¦å³ã€‚æˆ‘ä»¬èŠ±äº†6ä¸ªæœˆçš„æ—¶é—´ï¼Œåˆ©ç”¨æˆ‘ä»¬çš„å¯¹æŠ—æ€§æµ‹è¯•é¡¹ç›®ä»¥åŠChatGPTçš„ç»éªŒï¼Œåå¤è°ƒæ•´GPT-4ï¼Œä»è€Œåœ¨äº‹å®æ€§ã€å¯å¼•å¯¼æ€§å’Œæ‹’ç»è¶…å‡ºæŠ¤æ æ–¹é¢å–å¾—äº†æˆ‘ä»¬æœ‰å²ä»¥æ¥æœ€å¥½çš„ç»“æœï¼ˆå°½ç®¡è¿œéå®Œç¾ï¼‰ã€‚åœ¨è¿‡å»çš„ä¸¤å¹´é‡Œï¼Œæˆ‘ä»¬é‡å»ºäº†æ•´ä¸ªæ·±åº¦å­¦ä¹ å †æ ˆï¼Œå¹¶ä¸Azureä¸€èµ·ï¼Œä¸ºæˆ‘ä»¬çš„å·¥ä½œè´Ÿè·ä»å¤´å¼€å§‹å…±åŒè®¾è®¡äº†ä¸€å°è¶…çº§è®¡ç®—æœºã€‚ä¸€å¹´å‰ï¼Œæˆ‘ä»¬è®­ç»ƒäº†GPT-3.5ï¼Œä½œä¸ºè¯¥ç³»ç»Ÿçš„ç¬¬ä¸€æ¬¡ â€œè¯•è¿è¡Œâ€ã€‚æˆ‘ä»¬å‘ç°å¹¶ä¿®å¤äº†ä¸€äº›é”™è¯¯ï¼Œå¹¶æ”¹è¿›äº†æˆ‘ä»¬çš„ç†è®ºåŸºç¡€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„GPT-4è®­ç»ƒè¿è¡Œï¼ˆè‡³å°‘å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯å¦‚æ­¤ï¼ï¼‰ç©ºå‰ç¨³å®šï¼Œæˆä¸ºæˆ‘ä»¬ç¬¬ä¸€ä¸ªè®­ç»ƒæ€§èƒ½èƒ½å¤Ÿæå‰å‡†ç¡®é¢„æµ‹çš„å¤§å‹æ¨¡å‹ã€‚éšç€æˆ‘ä»¬ç»§ç»­ä¸“æ³¨äºå¯é çš„æ‰©å±•ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç£¨ç»ƒæˆ‘ä»¬çš„æ–¹æ³•ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬è¶Šæ¥è¶Šæå‰åœ°é¢„æµ‹å’Œå‡†å¤‡æœªæ¥çš„èƒ½åŠ›â€“æˆ‘ä»¬è®¤ä¸ºè¿™å¯¹å®‰å…¨è‡³å…³é‡è¦ã€‚æˆ‘ä»¬æ­£åœ¨é€šè¿‡ChatGPTå’ŒAPIå‘å¸ƒGPT-4çš„æ–‡æœ¬è¾“å…¥åŠŸèƒ½ï¼ˆæœ‰ä¸€ä¸ªç­‰å¾…åå•ï¼‰ã€‚ä¸ºäº†å‡†å¤‡æ›´å¹¿æ³›åœ°æä¾›å›¾åƒè¾“å…¥åŠŸèƒ½ï¼Œæˆ‘ä»¬æ­£åœ¨ä¸ä¸€ä¸ªåˆä½œä¼™ä¼´ç´§å¯†åˆä½œï¼Œä»¥å¼€å§‹ã€‚æˆ‘ä»¬ä¹Ÿæ­£åœ¨å¼€æºOpenAI Evalsï¼Œè¿™æ˜¯æˆ‘ä»¬è‡ªåŠ¨è¯„ä¼°äººå·¥æ™ºèƒ½æ¨¡å‹æ€§èƒ½çš„æ¡†æ¶ï¼Œå…è®¸ä»»ä½•äººæŠ¥å‘Šæˆ‘ä»¬æ¨¡å‹ä¸­çš„ç¼ºç‚¹ï¼Œä»¥å¸®åŠ©æŒ‡å¯¼è¿›ä¸€æ­¥çš„æ”¹è¿›ã€‚Capabilities èƒ½åŠ›åœ¨é—²èŠä¸­ï¼ŒGPT-3.5å’ŒGPT-4ä¹‹é—´çš„åŒºåˆ«å¯èƒ½æ˜¯å¾®å¦™çš„ã€‚å½“ä»»åŠ¡çš„å¤æ‚æ€§è¾¾åˆ°è¶³å¤Ÿçš„é˜ˆå€¼æ—¶ï¼Œå·®å¼‚å°±ä¼šæ˜¾ç°å‡ºæ¥â€“GPT-4æ¯”GPT-3.5æ›´å¯é ï¼Œæ›´æœ‰åˆ›é€ æ€§ï¼Œèƒ½å¤Ÿå¤„ç†æ›´ç»†å¾®çš„æŒ‡ä»¤ã€‚ä¸ºäº†äº†è§£è¿™ä¸¤ç§æ¨¡å‹ä¹‹é—´çš„å·®å¼‚ï¼Œæˆ‘ä»¬åœ¨å„ç§åŸºå‡†ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼ŒåŒ…æ‹¬æ¨¡æ‹Ÿæœ€åˆä¸ºäººç±»è®¾è®¡çš„è€ƒè¯•ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨æœ€æ–°çš„å…¬å¼€æµ‹è¯•ï¼ˆå°±å¥¥æ•°å’ŒAPè‡ªç”±å›ç­”é—®é¢˜è€Œè¨€ï¼‰æˆ–è´­ä¹°2022-2023å¹´ç‰ˆçš„ç»ƒä¹ è€ƒè¯•æ¥è¿›è¡Œã€‚æˆ‘ä»¬æ²¡æœ‰ä¸ºè¿™äº›è€ƒè¯•åšä¸“é—¨çš„åŸ¹è®­ã€‚è€ƒè¯•ä¸­çš„å°‘æ•°é—®é¢˜æ˜¯æ¨¡å‹åœ¨è®­ç»ƒä¸­çœ‹åˆ°çš„ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºç»“æœæ˜¯æœ‰ä»£è¡¨æ€§çš„â€“è¯¦æƒ…è¯·è§æˆ‘ä»¬çš„æŠ€æœ¯æŠ¥å‘Šã€‚æˆ‘ä»¬è¿˜åœ¨ä¸ºæœºå™¨å­¦ä¹ æ¨¡å‹è®¾è®¡çš„ä¼ ç»ŸåŸºå‡†ä¸Šè¯„ä¼°äº†GPT-4ã€‚GPT-4çš„æ€§èƒ½å¤§å¤§è¶…è¿‡äº†ç°æœ‰çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œä¸å¤§å¤šæ•°æœ€å…ˆè¿›çš„ï¼ˆSOTAï¼‰æ¨¡å‹å¹¶é©¾é½é©±ï¼Œè¿™äº›æ¨¡å‹å¯èƒ½åŒ…æ‹¬é’ˆå¯¹åŸºå‡†çš„åˆ¶ä½œæˆ–é¢å¤–çš„è®­ç»ƒåè®®ã€‚è®¸å¤šç°æœ‰çš„MLåŸºå‡†æ˜¯ç”¨è‹±è¯­å†™çš„ã€‚ä¸ºäº†åˆæ­¥äº†è§£å…¶ä»–è¯­è¨€çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬ä½¿ç”¨Azure Translateï¼ˆè§é™„å½•ï¼‰å°†MMLUåŸºå‡†â€“ä¸€å¥—æ¶µç›–57ä¸ªä¸»é¢˜çš„14000ä¸ªå¤šé€‰é¢˜â€“ç¿»è¯‘æˆäº†å„ç§è¯­è¨€ã€‚åœ¨æµ‹è¯•çš„26ç§è¯­è¨€ä¸­çš„24ç§è¯­è¨€ä¸­ï¼ŒGPT-4çš„è¡¨ç°ä¼˜äºGPT-3.5å’Œå…¶ä»–LLMï¼ˆChinchillaï¼ŒPaLMï¼‰çš„è‹±è¯­è¡¨ç°ï¼ŒåŒ…æ‹¬ä½èµ„æºè¯­è¨€ï¼Œå¦‚æ‹‰è„±ç»´äºšè¯­ã€å¨å°”å£«è¯­å’Œæ–¯ç“¦å¸Œé‡Œè¯­ã€‚æˆ‘ä»¬ä¹Ÿä¸€ç›´åœ¨å†…éƒ¨ä½¿ç”¨GPT-4ï¼Œå¯¹æ”¯æŒã€é”€å”®ã€å†…å®¹å®¡æ ¸å’Œç¼–ç¨‹ç­‰åŠŸèƒ½æœ‰å¾ˆå¤§å½±å“ã€‚æˆ‘ä»¬ä¹Ÿæ­£åœ¨ä½¿ç”¨å®ƒæ¥ååŠ©äººç±»è¯„ä¼°äººå·¥æ™ºèƒ½çš„äº§å‡ºï¼Œå¼€å§‹äº†æˆ‘ä»¬è°ƒæ•´æˆ˜ç•¥çš„ç¬¬äºŒé˜¶æ®µã€‚GPT-4å¯ä»¥æ¥å—æ–‡æœ¬å’Œå›¾åƒçš„æç¤ºï¼Œè¿™ä¸çº¯æ–‡æœ¬è®¾ç½®å¹³è¡Œï¼Œè®©ç”¨æˆ·æŒ‡å®šä»»ä½•è§†è§‰æˆ–è¯­è¨€ä»»åŠ¡ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå¯ä»¥ç”Ÿæˆæ–‡æœ¬è¾“å‡ºï¼ˆè‡ªç„¶è¯­è¨€ã€ä»£ç ç­‰ï¼‰ï¼Œç»™å®šçš„è¾“å…¥åŒ…æ‹¬ç©¿æ’çš„æ–‡æœ¬å’Œå›¾åƒã€‚åœ¨ä¸€ç³»åˆ—çš„é¢†åŸŸä¸­ï¼ŒåŒ…æ‹¬å¸¦æœ‰æ–‡å­—å’Œç…§ç‰‡çš„æ–‡ä»¶ã€å›¾è¡¨æˆ–å±å¹•æˆªå›¾ï¼ŒGPT-4è¡¨ç°å‡ºä¸çº¯æ–‡æœ¬è¾“å…¥ç±»ä¼¼çš„èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å¯ä»¥ä½¿ç”¨ä¸ºçº¯æ–‡æœ¬è¯­è¨€æ¨¡å‹å¼€å‘çš„æµ‹è¯•æ—¶é—´æŠ€æœ¯ï¼ŒåŒ…æ‹¬å°‘æ•°å‡ ä¸ªé•œå¤´å’Œæ€ç»´é“¾æç¤ºã€‚å›¾åƒè¾“å…¥ä»ç„¶æ˜¯ä¸€ä¸ªç ”ç©¶é¢„è§ˆï¼Œæ²¡æœ‰å…¬å¼€æä¾›ã€‚æˆ‘ä»¬é€šè¿‡å¯¹ä¸€å¥—ç‹­çª„çš„æ ‡å‡†å­¦æœ¯è§†è§‰åŸºå‡†è¿›è¡Œè¯„ä¼°æ¥é¢„è§ˆGPT-4çš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œè¿™äº›æ•°å­—å¹¶ä¸å®Œå…¨ä»£è¡¨å®ƒçš„èƒ½åŠ›èŒƒå›´ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨ä¸æ–­å‘ç°è¯¥æ¨¡å‹èƒ½å¤Ÿå¤„ç†çš„æ–°çš„å’Œä»¤äººå…´å¥‹çš„ä»»åŠ¡ã€‚æˆ‘ä»¬è®¡åˆ’å¾ˆå¿«å‘å¸ƒè¿›ä¸€æ­¥çš„åˆ†æå’Œè¯„ä¼°æ•°å­—ï¼Œä»¥åŠå¯¹æµ‹è¯•æ—¶é—´æŠ€æœ¯æ•ˆæœçš„å½»åº•è°ƒæŸ¥ã€‚æ“çºµæ€§æˆ‘ä»¬ä¸€ç›´åœ¨åŠªåŠ›å®ç°æˆ‘ä»¬å…³äºå®šä¹‰äººå·¥æ™ºèƒ½è¡Œä¸ºçš„å¸–å­ä¸­æ¦‚è¿°çš„è®¡åˆ’çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬å¯å¼•å¯¼æ€§ã€‚ä¸ç»å…¸çš„ChatGPTä¸ªæ€§çš„å›ºå®šè¨€è¯­ã€è¯­æ°”å’Œé£æ ¼ä¸åŒï¼Œå¼€å‘è€…ï¼ˆä»¥åŠå¾ˆå¿«ChatGPTç”¨æˆ·ï¼‰ç°åœ¨å¯ä»¥é€šè¿‡åœ¨ â€œç³»ç»Ÿ â€œæ¶ˆæ¯ä¸­æè¿°è¿™äº›æ–¹å‘æ¥è§„å®šä»–ä»¬çš„AIçš„é£æ ¼å’Œä»»åŠ¡ã€‚ç³»ç»Ÿæ¶ˆæ¯å…è®¸APIç”¨æˆ·åœ¨ä¸€å®šèŒƒå›´å†…å¤§å¹…å®šåˆ¶ä»–ä»¬çš„ç”¨æˆ·ä½“éªŒã€‚æˆ‘ä»¬å°†ç»§ç»­åœ¨è¿™é‡Œè¿›è¡Œæ”¹è¿›ï¼ˆç‰¹åˆ«æ˜¯çŸ¥é“ç³»ç»Ÿæ¶ˆæ¯æ˜¯ â€œè¶Šç‹± â€œå½“å‰æ¨¡å¼çš„æœ€ç®€å•æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹ç•Œé™çš„éµå®ˆå¹¶ä¸å®Œç¾ï¼‰ï¼Œä½†æˆ‘ä»¬é¼“åŠ±ä½ å°è¯•å¹¶è®©æˆ‘ä»¬çŸ¥é“ä½ çš„æƒ³æ³•ã€‚é™åˆ¶æ¡ä»¶å°½ç®¡æœ‰è¿™æ ·çš„èƒ½åŠ›ï¼ŒGPT-4ä¹Ÿæœ‰ä¸æ—©æœŸGPTæ¨¡å‹ç±»ä¼¼çš„å±€é™æ€§ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒä»ç„¶ä¸æ˜¯å®Œå…¨å¯é çš„ï¼ˆå®ƒå¯¹äº‹å®äº§ç”Ÿ â€œå¹»è§‰â€ï¼Œå¹¶å‡ºç°æ¨ç†é”™è¯¯ï¼‰ã€‚åœ¨ä½¿ç”¨è¯­è¨€æ¨¡å‹çš„è¾“å‡ºæ—¶ï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜é£é™©çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥éå¸¸å°å¿ƒï¼Œå‡†ç¡®çš„åè®®ï¼ˆå¦‚äººç±»å®¡æŸ¥ï¼Œç”¨é¢å¤–çš„èƒŒæ™¯æ¥åœ°ï¼Œæˆ–å®Œå…¨é¿å…é«˜é£é™©çš„ä½¿ç”¨ï¼‰ä¸ç‰¹å®šçš„ä½¿ç”¨æ¡ˆä¾‹çš„éœ€æ±‚ç›¸åŒ¹é…ã€‚è™½ç„¶ä»ç„¶æ˜¯ä¸€ä¸ªçœŸå®çš„é—®é¢˜ï¼Œä½†GPT-4ç›¸å¯¹äºä»¥å‰çš„æ¨¡å‹ï¼ˆè¿™äº›æ¨¡å‹æœ¬èº«åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½æœ‰æ”¹è¿›ï¼‰ï¼Œå¤§å¤§å‡å°‘äº†å¹»è§‰ã€‚åœ¨æˆ‘ä»¬çš„å†…éƒ¨å¯¹æŠ—æ€§äº‹å®æ€§è¯„ä¼°ä¸­ï¼ŒGPT-4çš„å¾—åˆ†æ¯”æˆ‘ä»¬æœ€æ–°çš„GPT-3.5é«˜40%ã€‚æˆ‘ä»¬åœ¨TruthfulQAç­‰å¤–éƒ¨åŸºå‡†ä¸Šå–å¾—äº†è¿›å±•ï¼Œè¯¥åŸºå‡†æµ‹è¯•äº†æ¨¡å‹ä»å¯¹æŠ—æ€§é€‰æ‹©çš„ä¸æ­£ç¡®é™ˆè¿°ä¸­åˆ†ç¦»äº‹å®çš„èƒ½åŠ›ã€‚è¿™äº›é—®é¢˜ä¸åœ¨ç»Ÿè®¡å­¦ä¸Šå…·æœ‰å¸å¼•åŠ›çš„äº‹å®é”™è¯¯çš„ç­”æ¡ˆç›¸æ­é…ã€‚GPT-4åŸºç¡€æ¨¡å‹åœ¨è¿™ä¸€ä»»åŠ¡ä¸Šåªæ¯”GPT-3.5ç•¥èƒœä¸€ç­¹ï¼›ç„¶è€Œï¼Œåœ¨ç»è¿‡RLHFåæœŸè®­ç»ƒåï¼ˆåº”ç”¨æˆ‘ä»¬åœ¨GPT-3.5ä¸Šä½¿ç”¨çš„ç›¸åŒè¿‡ç¨‹ï¼‰ï¼Œå´æœ‰å¾ˆå¤§å·®è·ã€‚æ£€æŸ¥ä¸‹é¢çš„ä¸€äº›ä¾‹å­ï¼ŒGPT-4æŠµåˆ¶é€‰æ‹©æ™®é€šçš„è¯´æ³•ï¼ˆä½ ä¸èƒ½æ•™ä¸€åªè€ç‹—æ–°çš„æŠ€å·§ï¼‰ï¼Œç„¶è€Œå®ƒä»ç„¶å¯èƒ½é”™è¿‡å¾®å¦™çš„ç»†èŠ‚ï¼ˆçŒ«ç‹ä¸æ˜¯ä¸€ä¸ªæ¼”å‘˜çš„å„¿å­ï¼‰ã€‚è¯¥æ¨¡å‹åœ¨å…¶è¾“å‡ºä¸­å¯èƒ½ä¼šæœ‰å„ç§åè§â€“æˆ‘ä»¬åœ¨è¿™äº›æ–¹é¢å·²ç»å–å¾—äº†è¿›å±•ï¼Œä½†ä»æœ‰æ›´å¤šå·¥ä½œè¦åšã€‚æ ¹æ®æˆ‘ä»¬æœ€è¿‘çš„åšæ–‡ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿æˆ‘ä»¬å»ºç«‹çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿå…·æœ‰åˆç†çš„é»˜è®¤è¡Œä¸ºï¼Œä»¥åæ˜ å¹¿æ³›çš„ç”¨æˆ·ä»·å€¼è§‚ï¼Œå…è®¸è¿™äº›ç³»ç»Ÿåœ¨å¹¿æ³›çš„èŒƒå›´å†…è¢«å®šåˆ¶ï¼Œå¹¶è·å¾—å…¬ä¼—å¯¹è¿™äº›èŒƒå›´çš„æ„è§ã€‚GPT-4é€šå¸¸ç¼ºä¹å¯¹å…¶ç»å¤§éƒ¨åˆ†æ•°æ®æˆªæ­¢åï¼ˆ2021å¹´9æœˆï¼‰å‘ç”Ÿçš„äº‹ä»¶çš„äº†è§£ï¼Œä¹Ÿä¸ä¼šä»å…¶ç»éªŒä¸­å­¦ä¹ ã€‚å®ƒæœ‰æ—¶ä¼šçŠ¯ä¸€äº›ç®€å•çš„æ¨ç†é”™è¯¯ï¼Œè¿™ä¼¼ä¹ä¸å®ƒåœ¨è¿™ä¹ˆå¤šé¢†åŸŸçš„èƒ½åŠ›ä¸ç›¸ç¬¦ï¼Œæˆ–è€…è¿‡äºè½»ä¿¡ç”¨æˆ·çš„æ˜æ˜¾è™šå‡é™ˆè¿°ã€‚æœ‰æ—¶å®ƒä¹Ÿä¼šåƒäººç±»ä¸€æ ·åœ¨å›°éš¾çš„é—®é¢˜ä¸Šå¤±è´¥ï¼Œæ¯”å¦‚åœ¨å®ƒäº§ç”Ÿçš„ä»£ç ä¸­å¼•å…¥å®‰å…¨æ¼æ´ã€‚GPT-4åœ¨é¢„æµ‹æ—¶ä¹Ÿä¼šè‡ªä¿¡åœ°å‡ºé”™ï¼Œåœ¨æœ‰å¯èƒ½å‡ºé”™çš„æ—¶å€™ä¸æ³¨æ„åå¤æ£€æŸ¥å·¥ä½œã€‚æœ‰è¶£çš„æ˜¯ï¼ŒåŸºç¡€çš„é¢„è®­ç»ƒæ¨¡å‹æ˜¯é«˜åº¦æ ¡å‡†çš„ï¼ˆå®ƒå¯¹ä¸€ä¸ªç­”æ¡ˆçš„é¢„æµ‹ä¿¡å¿ƒä¸€èˆ¬ä¸æ­£ç¡®çš„æ¦‚ç‡ç›¸åŒ¹é…ï¼‰ã€‚ç„¶è€Œï¼Œé€šè¿‡æˆ‘ä»¬ç›®å‰çš„åè®­ç»ƒè¿‡ç¨‹ï¼Œæ ¡å‡†ç¨‹åº¦é™ä½äº†ã€‚é£é™©å’Œç¼“è§£æªæ–½æˆ‘ä»¬ä¸€ç›´åœ¨å¯¹GPT-4è¿›è¡Œè¿­ä»£ï¼Œä»¥ä½¿å…¶ä»åŸ¹è®­å¼€å§‹å°±æ›´åŠ å®‰å…¨å’Œä¸€è‡´ï¼Œæ‰€åšçš„åŠªåŠ›åŒ…æ‹¬é¢„åŸ¹è®­æ•°æ®çš„é€‰æ‹©å’Œè¿‡æ»¤ã€è¯„ä¼°å’Œä¸“å®¶å‚ä¸ã€æ¨¡å‹å®‰å…¨æ”¹è¿›ä»¥åŠç›‘æµ‹å’Œæ‰§è¡Œã€‚GPT-4ä¸ä»¥å‰çš„æ¨¡å‹æœ‰ç±»ä¼¼çš„é£é™©ï¼Œå¦‚äº§ç”Ÿæœ‰å®³çš„å»ºè®®ã€é”™è¯¯çš„ä»£ç æˆ–ä¸å‡†ç¡®çš„ä¿¡æ¯ã€‚ç„¶è€Œï¼ŒGPT-4çš„é¢å¤–èƒ½åŠ›å¯¼è‡´äº†æ–°çš„é£é™©é¢ã€‚ä¸ºäº†äº†è§£è¿™äº›é£é™©çš„ç¨‹åº¦ï¼Œæˆ‘ä»¬è˜è¯·äº†50å¤šä½æ¥è‡ªäººå·¥æ™ºèƒ½å¯¹æ¥é£é™©ã€ç½‘ç»œå®‰å…¨ã€ç”Ÿç‰©é£é™©ã€ä¿¡ä»»å’Œå®‰å…¨ä»¥åŠå›½é™…å®‰å…¨ç­‰é¢†åŸŸçš„ä¸“å®¶å¯¹è¯¥æ¨¡å‹è¿›è¡Œå¯¹æŠ—æ€§æµ‹è¯•ã€‚ä»–ä»¬çš„å‘ç°ç‰¹åˆ«ä½¿æˆ‘ä»¬èƒ½å¤Ÿæµ‹è¯•æ¨¡å‹åœ¨é«˜é£é™©é¢†åŸŸçš„è¡Œä¸ºï¼Œè¿™äº›é¢†åŸŸéœ€è¦ä¸“ä¸šçŸ¥è¯†æ¥è¯„ä¼°ã€‚æ¥è‡ªè¿™äº›ä¸“å®¶çš„åé¦ˆå’Œæ•°æ®ä¸ºæˆ‘ä»¬ç¼“è§£å’Œæ”¹è¿›æ¨¡å‹æä¾›äº†ä¾æ®ï¼›ä¾‹å¦‚ï¼Œæˆ‘ä»¬å·²ç»æ”¶é›†äº†é¢å¤–çš„æ•°æ®ï¼Œä»¥æé«˜GPT-4æ‹’ç»å…³äºå¦‚ä½•åˆæˆå±é™©åŒ–å­¦å“è¯·æ±‚çš„èƒ½åŠ›ã€‚GPT-4åœ¨RLHFè®­ç»ƒä¸­åŠ å…¥äº†ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å¥–åŠ±ä¿¡å·ï¼Œé€šè¿‡è®­ç»ƒæ¨¡å‹æ¥æ‹’ç»å¯¹æ­¤ç±»å†…å®¹çš„è¯·æ±‚ï¼Œä»è€Œå‡å°‘æœ‰å®³çš„è¾“å‡ºï¼ˆæ ¹æ®æˆ‘ä»¬çš„ä½¿ç”¨æŒ‡å—å®šä¹‰ï¼‰ã€‚å¥–åŠ±æ˜¯ç”±GPT-4çš„é›¶ç‚¹åˆ†ç±»å™¨æä¾›çš„ï¼Œå®ƒåˆ¤æ–­å®‰å…¨è¾¹ç•Œå’Œå®‰å…¨ç›¸å…³æç¤ºçš„å®Œæˆæ–¹å¼ã€‚ä¸ºäº†é˜²æ­¢æ¨¡å‹æ‹’ç»æœ‰æ•ˆçš„è¯·æ±‚ï¼Œæˆ‘ä»¬ä»ä¸åŒçš„æ¥æºï¼ˆä¾‹å¦‚ï¼Œæ ‡è®°çš„ç”Ÿäº§æ•°æ®ã€äººç±»çº¢é˜Ÿã€æ¨¡å‹ç”Ÿæˆçš„æç¤ºï¼‰æ”¶é›†ä¸åŒçš„æ•°æ®é›†ï¼Œå¹¶åœ¨å…è®¸å’Œä¸å…è®¸çš„ç±»åˆ«ä¸Šåº”ç”¨å®‰å…¨å¥–åŠ±ä¿¡å·ï¼ˆæœ‰ä¸€ä¸ªæ­£å€¼æˆ–è´Ÿå€¼ï¼‰ã€‚ä¸GPT-3.5ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ç¼“è§£æªæ–½å¤§å¤§æ”¹å–„äº†GPT-4çš„è®¸å¤šå®‰å…¨æ€§èƒ½ã€‚ä¸GPT-3.5ç›¸æ¯”ï¼Œæˆ‘ä»¬å°†è¯¥æ¨¡å‹å¯¹ä¸å…è®¸å†…å®¹çš„è¯·æ±‚çš„å“åº”å€¾å‘é™ä½äº†82%ï¼Œè€ŒGPT-4å¯¹æ•æ„Ÿè¯·æ±‚ï¼ˆå¦‚åŒ»ç–—å»ºè®®å’Œè‡ªæˆ‘ä¼¤å®³ï¼‰çš„å“åº”ç¬¦åˆæˆ‘ä»¬çš„æ”¿ç­–çš„é¢‘ç‡æé«˜äº†29%ã€‚æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬çš„æ¨¡å‹çº§å¹²é¢„æªæ–½å¢åŠ äº†è¯±å‘ä¸è‰¯è¡Œä¸ºçš„éš¾åº¦ï¼Œä½†è¿™æ ·åšä»ç„¶æ˜¯å¯èƒ½çš„ã€‚æ­¤å¤–ï¼Œä»ç„¶å­˜åœ¨ â€œè¶Šç‹± â€œçš„æƒ…å†µï¼Œä»¥äº§ç”Ÿè¿åæˆ‘ä»¬ä½¿ç”¨æŒ‡å—çš„å†…å®¹ã€‚éšç€äººå·¥æ™ºèƒ½ç³»ç»Ÿçš„ â€œæ¯ä¸ªä»¤ç‰Œçš„é£é™© â€œçš„å¢åŠ ï¼Œåœ¨è¿™äº›å¹²é¢„æªæ–½ä¸­å®ç°æé«˜çš„å¯é æ€§å°†å˜å¾—è‡³å…³é‡è¦ï¼›ç›®å‰ï¼Œé‡è¦çš„æ˜¯ç”¨éƒ¨ç½²æ—¶é—´çš„å®‰å…¨æŠ€æœ¯æ¥è¡¥å……è¿™äº›é™åˆ¶ï¼Œå¦‚ç›‘æµ‹æ»¥ç”¨ã€‚GPT-4å’Œåç»­æ¨¡å‹æœ‰å¯èƒ½ä»¥æœ‰ç›Šå’Œæœ‰å®³çš„æ–¹å¼å¤§å¤§å½±å“ç¤¾ä¼šã€‚æˆ‘ä»¬æ­£åœ¨ä¸å¤–éƒ¨ç ”ç©¶äººå‘˜åˆä½œï¼Œä»¥æ”¹å–„æˆ‘ä»¬ç†è§£å’Œè¯„ä¼°æ½œåœ¨å½±å“çš„æ–¹å¼ï¼Œä»¥åŠå»ºç«‹å¯¹æœªæ¥ç³»ç»Ÿå¯èƒ½å‡ºç°çš„å±é™©èƒ½åŠ›çš„è¯„ä¼°ã€‚æˆ‘ä»¬å°†å¾ˆå¿«åˆ†äº«æˆ‘ä»¬å¯¹GPT-4å’Œå…¶ä»–äººå·¥æ™ºèƒ½ç³»ç»Ÿçš„æ½œåœ¨ç¤¾ä¼šå’Œç»æµå½±å“çš„æ›´å¤šæ€è€ƒã€‚åŸ¹è®­è¿‡ç¨‹åƒä»¥å‰çš„GPTæ¨¡å‹ä¸€æ ·ï¼ŒGPT-4åŸºç¡€æ¨¡å‹è¢«è®­ç»ƒä¸ºé¢„æµ‹æ–‡æ¡£ä¸­çš„ä¸‹ä¸€ä¸ªè¯ï¼Œå¹¶ä½¿ç”¨å…¬å¼€çš„æ•°æ®ï¼ˆå¦‚äº’è”ç½‘æ•°æ®ï¼‰ä»¥åŠæˆ‘ä»¬æˆæƒçš„æ•°æ®è¿›è¡Œè®­ç»ƒã€‚è¿™äº›æ•°æ®æ˜¯ä¸€ä¸ªç½‘ç»œè§„æ¨¡çš„è¯­æ–™åº“ï¼ŒåŒ…æ‹¬æ•°å­¦é—®é¢˜çš„æ­£ç¡®å’Œé”™è¯¯çš„è§£å†³æ–¹æ¡ˆï¼Œè–„å¼±å’Œå¼ºå¤§çš„æ¨ç†ï¼Œè‡ªç›¸çŸ›ç›¾å’Œä¸€è‡´çš„å£°æ˜ï¼Œä»¥åŠå¤§é‡ä¸åŒçš„æ„è¯†å½¢æ€å’Œæƒ³æ³•ã€‚å› æ­¤ï¼Œå½“è¢«æç¤ºæœ‰ä¸€ä¸ªé—®é¢˜æ—¶ï¼ŒåŸºç¡€æ¨¡å‹å¯ä»¥ä»¥å„ç§å„æ ·çš„æ–¹å¼åšå‡ºååº”ï¼Œè€Œè¿™äº›ååº”å¯èƒ½ä¸ç”¨æˆ·çš„æ„å›¾ç›¸å»ç”šè¿œã€‚ä¸ºäº†ä½¿å…¶ä¸ç”¨æˆ·çš„æ„å›¾ä¿æŒä¸€è‡´ï¼Œæˆ‘ä»¬ä½¿ç”¨äººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰å¯¹æ¨¡å‹çš„è¡Œä¸ºè¿›è¡Œå¾®è°ƒã€‚è¯·æ³¨æ„ï¼Œæ¨¡å‹çš„èƒ½åŠ›ä¼¼ä¹ä¸»è¦æ¥è‡ªäºé¢„è®­ç»ƒè¿‡ç¨‹â€“RLHFå¹¶ä¸èƒ½æé«˜è€ƒè¯•æˆç»©ï¼ˆå¦‚æœä¸ç§¯æåŠªåŠ›ï¼Œå®ƒå®é™…ä¸Šä¼šé™ä½æˆç»©ï¼‰ã€‚ä½†æ˜¯å¯¹æ¨¡å‹çš„å¼•å¯¼æ¥è‡ªäºè®­ç»ƒåçš„è¿‡ç¨‹â€“åŸºç¡€æ¨¡å‹éœ€è¦åŠæ—¶çš„å·¥ç¨‹ï¼Œç”šè‡³çŸ¥é“å®ƒåº”è¯¥å›ç­”é—®é¢˜ã€‚å¯é¢„æµ‹çš„ç¼©æ”¾æ¯”ä¾‹GPT-4é¡¹ç›®çš„ä¸€å¤§é‡ç‚¹æ˜¯å»ºç«‹ä¸€ä¸ªå¯é¢„æµ‹æ‰©å±•çš„æ·±åº¦å­¦ä¹ æ ˆã€‚ä¸»è¦åŸå› æ˜¯ï¼Œå¯¹äºåƒGPT-4è¿™æ ·çš„å¤§å‹è®­ç»ƒè¿è¡Œï¼Œè¿›è¡Œå¹¿æ³›çš„ç‰¹å®šæ¨¡å‹è°ƒæ•´æ˜¯ä¸å¯è¡Œçš„ã€‚æˆ‘ä»¬å¼€å‘äº†åŸºç¡€è®¾æ–½å’Œä¼˜åŒ–ï¼Œåœ¨å¤šç§è§„æ¨¡ä¸‹éƒ½æœ‰éå¸¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚ä¸ºäº†éªŒè¯è¿™ç§å¯æ‰©å±•æ€§ï¼Œæˆ‘ä»¬æå‰å‡†ç¡®åœ°é¢„æµ‹äº†GPT-4åœ¨æˆ‘ä»¬å†…éƒ¨ä»£ç åº“ï¼ˆä¸å±äºè®­ç»ƒé›†ï¼‰ä¸Šçš„æœ€ç»ˆæŸå¤±ï¼Œæ–¹æ³•æ˜¯é€šè¿‡ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•è®­ç»ƒçš„æ¨¡å‹è¿›è¡Œæ¨æ–­ï¼Œä½†ä½¿ç”¨çš„è®¡ç®—é‡è¦å°‘10000å€ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å‡†ç¡®åœ°é¢„æµ‹æˆ‘ä»¬åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä¼˜åŒ–çš„æŒ‡æ ‡ï¼ˆæŸå¤±ï¼‰ï¼Œæˆ‘ä»¬å¼€å§‹å¼€å‘æ–¹æ³•æ¥é¢„æµ‹æ›´å¤šå¯è§£é‡Šçš„æŒ‡æ ‡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æˆåŠŸåœ°é¢„æµ‹äº†HumanEvalæ•°æ®é›†çš„ä¸€ä¸ªå­é›†çš„é€šè¿‡ç‡ï¼Œä»è®¡ç®—é‡å°‘1000å€çš„æ¨¡å‹ä¸­æ¨æ–­å‡ºæ¥ã€‚æœ‰äº›èƒ½åŠ›ä»ç„¶éš¾ä»¥é¢„æµ‹ã€‚ä¾‹å¦‚ï¼Œé€†å‘ç¼©æ”¾å¥–æ˜¯ä¸€é¡¹ç«èµ›ï¼Œç›®çš„æ˜¯æ‰¾åˆ°ä¸€ä¸ªéšç€æ¨¡å‹è®¡ç®—é‡çš„å¢åŠ è€Œå˜å¾—æ›´ç³Ÿçš„æŒ‡æ ‡ï¼Œè€Œäº‹åå¿½ç•¥æ˜¯è·èƒœè€…ä¹‹ä¸€ã€‚å°±åƒæœ€è¿‘çš„å¦ä¸€ä¸ªç»“æœï¼ŒGPT-4æ‰­è½¬äº†è¿™ä¸€è¶‹åŠ¿ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œå‡†ç¡®é¢„æµ‹æœªæ¥çš„æœºå™¨å­¦ä¹ èƒ½åŠ›æ˜¯å®‰å…¨çš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ï¼Œä½†ç›¸å¯¹äºå…¶æ½œåœ¨çš„å½±å“ï¼Œå®ƒå¹¶æ²¡æœ‰å¾—åˆ°è¶³å¤Ÿçš„é‡è§†ï¼ˆå°½ç®¡æˆ‘ä»¬å·²ç»è¢«ä¸€äº›æœºæ„çš„åŠªåŠ›æ‰€é¼“èˆï¼‰ã€‚æˆ‘ä»¬æ­£åœ¨æ‰©å¤§æˆ‘ä»¬çš„åŠªåŠ›ï¼Œå¼€å‘ä¸€äº›æ–¹æ³•ï¼Œä¸ºç¤¾ä¼šæä¾›æ›´å¥½çš„æŒ‡å¯¼ï¼Œè®©äººä»¬äº†è§£å¯¹æœªæ¥ç³»ç»Ÿçš„æœŸæœ›ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™æˆä¸ºè¯¥é¢†åŸŸçš„ä¸€ä¸ªå…±åŒç›®æ ‡ã€‚æˆ‘ä»¬æ­£åœ¨å¼€æºOpenAI Evalsï¼Œè¿™æ˜¯æˆ‘ä»¬çš„è½¯ä»¶æ¡†æ¶ï¼Œç”¨äºåˆ›å»ºå’Œè¿è¡Œè¯„ä¼°GPT-4ç­‰æ¨¡å‹çš„åŸºå‡†ï¼ŒåŒæ—¶é€ä¸ªæ ·æœ¬æ£€æŸ¥å…¶æ€§èƒ½ã€‚æˆ‘ä»¬ä½¿ç”¨Evalsæ¥æŒ‡å¯¼æˆ‘ä»¬çš„æ¨¡å‹çš„å¼€å‘ï¼ˆåŒ…æ‹¬è¯†åˆ«ç¼ºç‚¹å’Œé˜²æ­¢å€’é€€ï¼‰ï¼Œæˆ‘ä»¬çš„ç”¨æˆ·å¯ä»¥åº”ç”¨å®ƒæ¥è·Ÿè¸ªå„ä¸ªæ¨¡å‹ç‰ˆæœ¬ï¼ˆç°åœ¨å°†å®šæœŸæ¨å‡ºï¼‰å’Œä¸æ–­å‘å±•çš„äº§å“é›†æˆçš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼ŒStripeä½¿ç”¨Evalsæ¥è¡¥å……ä»–ä»¬çš„äººå·¥è¯„ä¼°ï¼Œä»¥è¡¡é‡å…¶GPTé©±åŠ¨çš„æ–‡æ¡£å·¥å…·çš„å‡†ç¡®æ€§ã€‚ç”±äºä»£ç éƒ½æ˜¯å¼€æºçš„ï¼ŒEvalsæ”¯æŒç¼–å†™æ–°çš„ç±»æ¥å®ç°è‡ªå®šä¹‰è¯„ä¼°é€»è¾‘ã€‚ç„¶è€Œï¼Œæ ¹æ®æˆ‘ä»¬è‡ªå·±çš„ç»éªŒï¼Œè®¸å¤šåŸºå‡†éµå¾ªä¸€äº› â€œæ¨¡æ¿ â€œä¸­çš„ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹ŸåŒ…æ‹¬äº†å†…éƒ¨æœ€æœ‰ç”¨çš„æ¨¡æ¿ï¼ˆåŒ…æ‹¬ä¸€ä¸ª â€œæ¨¡å‹åˆ†çº§è¯„ä¼° â€œçš„æ¨¡æ¿â€“æˆ‘ä»¬å‘ç°GPT-4ä»¤äººæƒŠè®¶åœ°èƒ½å¤Ÿæ£€æŸ¥è‡ªå·±çš„å·¥ä½œï¼‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„è¯„ä¼°çš„æœ€æœ‰æ•ˆæ–¹æ³•æ˜¯å°†è¿™äº›æ¨¡æ¿ä¸­çš„ä¸€ä¸ªå®ä¾‹åŒ–ï¼Œå¹¶æä¾›æ•°æ®ã€‚æˆ‘ä»¬å¾ˆé«˜å…´çœ‹åˆ°å…¶ä»–äººèƒ½ç”¨è¿™äº›æ¨¡æ¿å’ŒEvalsæ›´æ™®éåœ°å»ºç«‹ä»€ä¹ˆã€‚æˆ‘ä»¬å¸Œæœ›Evalsæˆä¸ºä¸€ä¸ªåˆ†äº«å’Œä¼—åŒ…åŸºå‡†çš„å·¥å…·ï¼Œæœ€å¤§é™åº¦åœ°ä»£è¡¨å¹¿æ³›çš„æ•…éšœæ¨¡å¼å’Œå›°éš¾ä»»åŠ¡ã€‚ä½œä¸ºåç»­çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªé€»è¾‘è°œé¢˜è¯„ä¼°ï¼Œå…¶ä¸­åŒ…å«GPT-4å¤±è´¥çš„åä¸ªæç¤ºã€‚Evalsä¹Ÿä¸å®ç°ç°æœ‰çš„åŸºå‡†å…¼å®¹ï¼›æˆ‘ä»¬å·²ç»åŒ…æ‹¬äº†å‡ ä¸ªå®ç°å­¦æœ¯åŸºå‡†çš„ç¬”è®°æœ¬å’Œä¸€äº›æ•´åˆCoQAï¼ˆå°çš„å­é›†ï¼‰çš„å˜åŒ–ä½œä¸ºä¾‹å­ã€‚æˆ‘ä»¬é‚€è¯·å¤§å®¶ä½¿ç”¨Evalsæ¥æµ‹è¯•æˆ‘ä»¬çš„æ¨¡å‹ï¼Œå¹¶æäº¤æœ€æœ‰è¶£çš„ä¾‹å­ã€‚æˆ‘ä»¬ç›¸ä¿¡Evalså°†æˆä¸ºä½¿ç”¨å’Œå»ºç«‹åœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¹‹ä¸Šçš„è¿‡ç¨‹çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¬¢è¿ç›´æ¥çš„è´¡çŒ®ã€é—®é¢˜å’Œåé¦ˆã€‚" }, { "title": "Python tuple += çš„è°œé¢˜", "url": "/posts/tuple-addition-assignment-puzzler/", "categories": "icenv", "tags": "python", "date": "2023-03-13 14:08:53 +0000", "snippet": "Pythonçš„tupleæ˜¯ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„æ•°æ®ç±»å‹ã€‚&gt;&gt;&gt; a = (1,2,3)&gt;&gt;&gt; a[0]1&gt;&gt;&gt; a[0] = 11Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: 'tuple' object...", "content": "Pythonçš„tupleæ˜¯ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„æ•°æ®ç±»å‹ã€‚&gt;&gt;&gt; a = (1,2,3)&gt;&gt;&gt; a[0]1&gt;&gt;&gt; a[0] = 11Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: 'tuple' object does not support item assignmenté‚£ä¹ˆtupleé‡Œæ”¾ä¸€ä¸ªlistï¼Œå¯¹è¿™ä¸ªtupleé‡Œçš„liståšæ‰©å±•ï¼Œæ˜¯ä»€ä¹ˆç»“æœï¼Ÿ&gt;&gt;&gt; t = (1, 2, [30, 40])&gt;&gt;&gt; t[2] += [50, 60] tå˜æˆ(1, 2, [30, 40, 50, 60]) åƒä¸Šé¢é‚£æ ·æŠ›å‡ºTypeError: â€˜tupleâ€™ object does not support item assignment 1ä¸2éƒ½ä¸æ˜¯ 1ä¸2éƒ½æ˜¯ç­”æ¡ˆå¦‚ä¸‹ï¼Œæ˜¯ä¸æ˜¯å‡ºä¹æ„æ–™ï¼Ÿ&gt;&gt;&gt; t = (1, 2, [30, 40])&gt;&gt;&gt; t[2] += [50, 60]Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;TypeError: 'tuple' object does not support item assignment&gt;&gt;&gt; t(1, 2, [30, 40, 50, 60])é€šè¿‡https://pythontutor.com/visualize.html#mode=displayå›¾å½¢åŒ–æŸ¥çœ‹ä»£ç æ‰§è¡Œä½¿ç”¨disæ¨¡å—æŸ¥çœ‹s[a] += bçš„å­—èŠ‚ç &gt;&gt;&gt; import dis&gt;&gt;&gt; dis.dis('s[a] += b') 1 0 LOAD_NAME 0 (s) 2 LOAD_NAME 1 (a) 4 DUP_TOP_TWO 6 BINARY_SUBSCR 8 LOAD_NAME 2 (b) 10 INPLACE_ADD 12 ROT_THREE 14 STORE_SUBSCR 16 LOAD_CONST 0 (None) 18 RETURN_VALUE DUP_TOP_TWO: å°†æ ˆé¡¶çš„ä¸¤ä¸ªå¼•ç”¨å¤åˆ¶ï¼Œä¿æŒé¡ºåºBINARY_SUBSCR: TOS = TOS1[TOS]çš„å®ç°ROT_THREEï¼šå°†æ ˆé¡¶çš„ç¬¬äºŒã€ç¬¬ä¸‰ä¸ªå…ƒç´ æå‡ä¸€ä¸ªä½ç½®ï¼Œå°†æœ€é¡¶çš„æ”¾åˆ°ç¬¬ä¸‰ä½ç½®ã€‚ROT_TWO: å°†æ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ å¯¹è°ƒå‚è€ƒèµ„æ–™https://docs.python.org/3/library/dis.htmlhttps://learning.oreilly.com/library/view/fluent-python-2nd/9781492056348/ch02.html#tuple_puzzlerhttps://www.synopsys.com/blogs/software-security/understanding-python-bytecode/" }, { "title": "Pythonçš„åŒç«¯é˜Ÿåˆ—", "url": "/posts/double-queue-in-python/", "categories": "icenv", "tags": "python", "date": "2023-03-13 10:20:56 +0000", "snippet": "ä»‹ç»åŒç«¯é˜Ÿåˆ—å…è®¸ä¸¤ç«¯è¿›è¡Œå…ƒç´ çš„å¢åŠ æˆ–åˆ é™¤æ“ä½œã€‚Python collections.dequeæ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„åŒç«¯é˜Ÿåˆ—ã€‚å½“é˜Ÿåˆ—æ»¡äº†ï¼Œä»ä¸€ç«¯æ’å…¥å…ƒç´ ï¼Œå¦ä¸€ç«¯çš„æœ€åä¸€ä¸ªå…ƒç´ ä¼šè¢«ä¸¢å¼ƒã€‚å®éªŒ[wanlinwang@computing-server-01 ~]$ python3Python 3.10.8 (main, Mar 12 2023, 22:29:09) [GCC 4.8.5 20150623...", "content": "ä»‹ç»åŒç«¯é˜Ÿåˆ—å…è®¸ä¸¤ç«¯è¿›è¡Œå…ƒç´ çš„å¢åŠ æˆ–åˆ é™¤æ“ä½œã€‚Python collections.dequeæ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„åŒç«¯é˜Ÿåˆ—ã€‚å½“é˜Ÿåˆ—æ»¡äº†ï¼Œä»ä¸€ç«¯æ’å…¥å…ƒç´ ï¼Œå¦ä¸€ç«¯çš„æœ€åä¸€ä¸ªå…ƒç´ ä¼šè¢«ä¸¢å¼ƒã€‚å®éªŒ[wanlinwang@computing-server-01 ~]$ python3Python 3.10.8 (main, Mar 12 2023, 22:29:09) [GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.&gt;&gt;&gt; from collections import deque&gt;&gt;&gt; dq = deque(range(10), maxlen=10) #åˆ›å»ºæœ€å¤§é•¿åº¦ä¸º10çš„åŒç«¯é˜Ÿåˆ—&gt;&gt;&gt; dqdeque([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], maxlen=10)&gt;&gt;&gt; dq.rotate(3) #å‘å³æ»šåŠ¨3ä¸ªå…ƒç´ ï¼Œæœ€å³ç«¯çš„ä¼šä¾æ¬¡æ”¾åˆ°æœ€å·¦ç«¯ã€‚&gt;&gt;&gt; dqdeque([7, 8, 9, 0, 1, 2, 3, 4, 5, 6], maxlen=10)&gt;&gt;&gt; dq.rotate(-4) #å‘å·¦ç§»åŠ¨4ä¸ªå…ƒç´ ï¼Œæœ€å·¦ç«¯çš„ä¼šä¾æ¬¡æ”¾åˆ°æœ€å³ç«¯ã€‚&gt;&gt;&gt; dqdeque([1, 2, 3, 4, 5, 6, 7, 8, 9, 0], maxlen=10)&gt;&gt;&gt; dq.appendleft(-1) #åœ¨å·¦ç«¯ï¼Œå¢åŠ ä¸€ä¸ªå…ƒç´ -1ï¼Œå¯ä»¥çœ‹åˆ°æœ€å³ç«¯çš„å…ƒç´ è¢«ä¸¢å¼ƒäº†ã€‚&gt;&gt;&gt; dqdeque([-1, 1, 2, 3, 4, 5, 6, 7, 8, 9], maxlen=10)&gt;&gt;&gt; dq.extend([11,22,33]) #åœ¨å³ç«¯æ‰©å±•3ä¸ªå…ƒç´ ï¼Œå¯ä»¥çœ‹åˆ°æœ€å·¦çš„3ä¸ªå…ƒç´ è¢«ä¸¢å¼ƒäº†ã€‚&gt;&gt;&gt; dqdeque([3, 4, 5, 6, 7, 8, 9, 11, 22, 33], maxlen=10)&gt;&gt;&gt; dq.extendleft([10,20,30,40]) #åœ¨å·¦ç«¯æ‰©å±•4ä¸ªå…ƒç´ ï¼Œå¯ä»¥çœ‹åˆ°æœ€å³çš„4ä¸ªå…ƒç´ è¢«ä¸¢å¼ƒäº†ã€‚&gt;&gt;&gt; dqdeque([40, 30, 20, 10, 3, 4, 5, 6, 7, 8], maxlen=10)" }, { "title": "OpenVPNè¿ä¸Šå»å°±æ–­å¼€ï¼Œç„¶åé‡è¿ï¼Œå¦‚æ­¤åå¤", "url": "/posts/openvpn-disconnect-every-other-3-seconds/", "categories": "icenv", "tags": "openvpn", "date": "2023-03-13 05:10:39 +0000", "snippet": "é—®é¢˜OpenVPNè¿ä¸Šå»3ç§’å°±æ–­å¼€ï¼Œç„¶åé‡è¿ï¼Œå¦‚æ­¤åå¤ã€‚åŸå› OpenVPNä»…æ”¯æŒå•å®¢æˆ·ç«¯è¿æ¥ã€‚å½“å¤šå®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œä¼šäº’ç›¸æŒ¤ä¸‹çº¿ã€‚è§£å†³å°†ä¸ä½¿ç”¨çš„ç»ˆç«¯ä¸‹çº¿ã€‚", "content": "é—®é¢˜OpenVPNè¿ä¸Šå»3ç§’å°±æ–­å¼€ï¼Œç„¶åé‡è¿ï¼Œå¦‚æ­¤åå¤ã€‚åŸå› OpenVPNä»…æ”¯æŒå•å®¢æˆ·ç«¯è¿æ¥ã€‚å½“å¤šå®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œä¼šäº’ç›¸æŒ¤ä¸‹çº¿ã€‚è§£å†³å°†ä¸ä½¿ç”¨çš„ç»ˆç«¯ä¸‹çº¿ã€‚" }, { "title": "Python Memoryview", "url": "/posts/python-memoryview/", "categories": "icenv", "tags": "python", "date": "2023-03-13 02:36:42 +0000", "snippet": "memoryviewæ ¹æ® MemoryView objects ä»‹ç»ï¼Œmemoryviewå¯¹è±¡æš´éœ²äº†Cå±‚æ¬¡çš„buffer interfaceä½œä¸ºPythonå¯¹è±¡ï¼Œå¯ä»¥è¢«ä¼ é€’åˆ°ä»»ä½•å…¶å®ƒå¯¹è±¡ã€‚å®éªŒå®éªŒä¸€é€è¿‡æœ¬å®éªŒï¼Œå¯ä»¥çœ‹åˆ°memoryview.cast()æ–¹æ³•å¯ä»¥ä¸ä¿®æ”¹ä½æ¥æ”¹å˜è¯»å–ä¸å†™å…¥çš„å•ä½ï¼Œå®ƒè¿”å›å¦ä¸€ä¸ªmemoryviewå¯¹è±¡ï¼Œä½†ä¸åŸmemoryviewæ˜¯å…±äº«å†…å­˜çš„ã€‚[wanlinwang@...", "content": "memoryviewæ ¹æ® MemoryView objects ä»‹ç»ï¼Œmemoryviewå¯¹è±¡æš´éœ²äº†Cå±‚æ¬¡çš„buffer interfaceä½œä¸ºPythonå¯¹è±¡ï¼Œå¯ä»¥è¢«ä¼ é€’åˆ°ä»»ä½•å…¶å®ƒå¯¹è±¡ã€‚å®éªŒå®éªŒä¸€é€è¿‡æœ¬å®éªŒï¼Œå¯ä»¥çœ‹åˆ°memoryview.cast()æ–¹æ³•å¯ä»¥ä¸ä¿®æ”¹ä½æ¥æ”¹å˜è¯»å–ä¸å†™å…¥çš„å•ä½ï¼Œå®ƒè¿”å›å¦ä¸€ä¸ªmemoryviewå¯¹è±¡ï¼Œä½†ä¸åŸmemoryviewæ˜¯å…±äº«å†…å­˜çš„ã€‚[wanlinwang@computing-server-01 ~]$ python3Python 3.10.8 (main, Mar 12 2023, 22:29:09) [GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.&gt;&gt;&gt; from array import array&gt;&gt;&gt; octets = array('B', range(6))&gt;&gt;&gt; octetsarray('B', [0, 1, 2, 3, 4, 5])&gt;&gt;&gt; m1 = memoryview(octets)&gt;&gt;&gt; mlTraceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;NameError: name 'ml' is not defined. Did you mean: 'm1'?&gt;&gt;&gt; m1&lt;memory at 0x7f2af10db880&gt;&gt;&gt;&gt; m1.tolist()[0, 1, 2, 3, 4, 5]&gt;&gt;&gt; m2 = m1.cast('B', [2,3])&gt;&gt;&gt; m2.tolist()[[0, 1, 2], [3, 4, 5]]&gt;&gt;&gt; m3 = m1.cast('B', [3,2])&gt;&gt;&gt; m3.tolist()[[0, 1], [2, 3], [4, 5]]&gt;&gt;&gt; octetsarray('B', [0, 1, 2, 3, 4, 5])&gt;&gt;&gt; m2[1,1] = 22&gt;&gt;&gt; m2.tolist()[[0, 1, 2], [3, 22, 5]]&gt;&gt;&gt; m3[1,1] = 33&gt;&gt;&gt; m3.tolist()[[0, 1], [2, 33], [22, 5]]&gt;&gt;&gt; octetsarray('B', [0, 1, 2, 33, 22, 5])&gt;&gt;&gt;å®éªŒäºŒ[wanlinwang@computing-server-01 ~]$ python3Python 3.10.8 (main, Mar 12 2023, 22:29:09) [GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linuxType \"help\", \"copyright\", \"credits\" or \"license\" for more information.&gt;&gt;&gt; import array&gt;&gt;&gt; numbers = array.array('h', [-2,-1,0,1,2])&gt;&gt;&gt; memv = memoryview(numbers)&gt;&gt;&gt; len(memv)5&gt;&gt;&gt; memv[0]-2&gt;&gt;&gt; memv_oct = memv.cast('B')&gt;&gt;&gt; memv_oct.tolist()[254, 255, 255, 255, 0, 0, 1, 0, 2, 0]&gt;&gt;&gt; memv_oct[5] = 4&gt;&gt;&gt; numbersarray('h', [-2, -1, 1024, 1, 2])&gt;&gt;&gt; å‚è€ƒèµ„æ–™https://www.fluentpython.com/extra/parsing-binary-struct/#ex_metro_struct_chttps://learning.oreilly.com/library/view/fluent-python-2nd/9781492056348/ch02.html#numpy_sec" }, { "title": "åœ¨Linuxä¸‹ç¼–è¾‘å›¾", "url": "/posts/picture-viewing-and-editing-on-linux/", "categories": "icenv", "tags": "linux", "date": "2023-03-12 10:38:18 +0000", "snippet": "éœ€æ±‚åœ¨Linuxç ”å‘æ¡Œé¢ä¸‹ç”»å›¾ã€‚æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªå¸¸ç”¨çš„ç”»å›¾å·¥å…·ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ»¡è¶³ä¸Windowsä¸‹â€ç”»å›¾â€œå·¥å…·çš„ç®€å•éœ€æ±‚ï¼›ç¬¬äºŒä¸ªåˆ™æ˜¯æ»¡è¶³æµç¨‹å›¾çš„åŠŸèƒ½éœ€æ±‚ï¼Œç±»ä¼¼äºvisioã€‚æ–¹æ¡ˆgimpå®ƒæ˜¯GNUå›¾ç‰‡æ“ä½œç¨‹åºï¼Œä¿¡æ¯å¦‚ä¸‹æ‰€ç¤ºå®‰è£…bash-4.2# yum install -y gimpè¿è¡Œdraw.ioç®€ä»‹å®ƒæ˜¯ä¸€æ¬¾å…è´¹çš„æ”¯æŒå¤šå¹³å°çš„æµç¨‹å›¾å·¥å…·ï¼Œè®¸å¯è¯ä¸ºApache 2.0ã€‚ä¸‹è½½è¿è¡Œèµ‹äºˆæ‰§è¡Œæƒé™ï¼Œå¦‚æ˜¯ro...", "content": "éœ€æ±‚åœ¨Linuxç ”å‘æ¡Œé¢ä¸‹ç”»å›¾ã€‚æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªå¸¸ç”¨çš„ç”»å›¾å·¥å…·ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ»¡è¶³ä¸Windowsä¸‹â€ç”»å›¾â€œå·¥å…·çš„ç®€å•éœ€æ±‚ï¼›ç¬¬äºŒä¸ªåˆ™æ˜¯æ»¡è¶³æµç¨‹å›¾çš„åŠŸèƒ½éœ€æ±‚ï¼Œç±»ä¼¼äºvisioã€‚æ–¹æ¡ˆgimpå®ƒæ˜¯GNUå›¾ç‰‡æ“ä½œç¨‹åºï¼Œä¿¡æ¯å¦‚ä¸‹æ‰€ç¤ºå®‰è£…bash-4.2# yum install -y gimpè¿è¡Œdraw.ioç®€ä»‹å®ƒæ˜¯ä¸€æ¬¾å…è´¹çš„æ”¯æŒå¤šå¹³å°çš„æµç¨‹å›¾å·¥å…·ï¼Œè®¸å¯è¯ä¸ºApache 2.0ã€‚ä¸‹è½½è¿è¡Œèµ‹äºˆæ‰§è¡Œæƒé™ï¼Œå¦‚æ˜¯rootè´¦æˆ·åˆ™åŠ ä¸Šâ€“no-sandboxé€‰é¡¹" }, { "title": "è™šæ‹Ÿè¡¥ä¸ï¼šä¸€ç§æœ‰æ•ˆçš„æ•°æ®åº“å®‰å…¨é˜²æŠ¤æ–¹å¼", "url": "/posts/virtual-patching/", "categories": "icenv-posts", "tags": "linux, security", "date": "2023-03-08 04:50:00 +0000", "snippet": "Verizonæ›¾ç»å°±â€œæ ¸å¿ƒæ•°æ®æ˜¯å¦‚ä½•ä¸¢å¤±çš„â€åšè¿‡ä¸€æ¬¡å…¨é¢çš„å¸‚åœºè°ƒæŸ¥ï¼Œç»“æœå‘ç°ï¼Œ75%çš„æ•°æ®ä¸¢å¤±æƒ…å†µæ˜¯ç”±äºæ•°æ®åº“æ¼æ´é€ æˆã€‚CVEæ•°æ®å®‰å…¨æ¼æ´ç»Ÿè®¡æ˜¾ç¤ºï¼ŒOracleã€SQL Serverã€MySQLç­‰ä¸»æµæ•°æ®åº“çš„æ¼æ´é€å¹´ä¸Šå‡ã€‚Skybox Securityæœ€æ–°å‘å¸ƒçš„2020å¹´æ¼æ´å’Œå¨èƒè¶‹åŠ¿æŠ¥å‘Šåˆ™æŒ‡å‡ºï¼Œ2020å¹´æ¼æ´æ•°é‡æœ‰å¯èƒ½çªç ´æ–°çš„è®°å½•â€”â€”è¶…è¿‡20000ä¸ªã€‚è½¯ä»¶ç³»ç»Ÿå› æŠ€æœ¯æ€§ç¼ºé™·ï¼Œæ€»æ˜¯ä¸å¯é¿å…çš„å­˜...", "content": "Verizonæ›¾ç»å°±â€œæ ¸å¿ƒæ•°æ®æ˜¯å¦‚ä½•ä¸¢å¤±çš„â€åšè¿‡ä¸€æ¬¡å…¨é¢çš„å¸‚åœºè°ƒæŸ¥ï¼Œç»“æœå‘ç°ï¼Œ75%çš„æ•°æ®ä¸¢å¤±æƒ…å†µæ˜¯ç”±äºæ•°æ®åº“æ¼æ´é€ æˆã€‚CVEæ•°æ®å®‰å…¨æ¼æ´ç»Ÿè®¡æ˜¾ç¤ºï¼ŒOracleã€SQL Serverã€MySQLç­‰ä¸»æµæ•°æ®åº“çš„æ¼æ´é€å¹´ä¸Šå‡ã€‚Skybox Securityæœ€æ–°å‘å¸ƒçš„2020å¹´æ¼æ´å’Œå¨èƒè¶‹åŠ¿æŠ¥å‘Šåˆ™æŒ‡å‡ºï¼Œ2020å¹´æ¼æ´æ•°é‡æœ‰å¯èƒ½çªç ´æ–°çš„è®°å½•â€”â€”è¶…è¿‡20000ä¸ªã€‚è½¯ä»¶ç³»ç»Ÿå› æŠ€æœ¯æ€§ç¼ºé™·ï¼Œæ€»æ˜¯ä¸å¯é¿å…çš„å­˜åœ¨å„ç§æ¼æ´ï¼Œè€Œæ ¹æ®Gartnerçš„æ•°æ®ï¼Œ å…¶ä¸­99%çš„æ¼æ´å‡ä¸ºå·²çŸ¥çš„æ¼æ´ï¼Œç³»ç»ŸæŒç»­â€œè£¸å¥”â€ï¼Œè¿™æ— ç–‘ç»™æ”»å‡»è€…å¤§å¼€æ–¹ä¾¿ä¹‹é—¨ã€‚å°¤å…¶æ˜¯æ•°æ®åº“ï¼Œè¿™ä¸€ä¿¡æ¯ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œä¸€æ—¦æ¼æ´è¢«åˆ©ç”¨ï¼Œå°†é€ æˆå·¨å¤§éšæ‚£ã€‚é€šè¿‡è·å–è½¯ä»¶å¼€å‘å•†æ‰€æä¾›çš„è¡¥ä¸ç¨‹åºï¼Œå®Œæˆç³»ç»Ÿå‡çº§ï¼Œè¿™æ˜¯æ™®éçš„æ¼æ´ä¿®å¤æ–¹å¼ï¼Œè¿™ç§è¡¥ä¸ä¿®å¤æµç¨‹ä¼šå†ç»å¤šä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šä½†æ˜¯ï¼Œè¿™ç§ç›´æ¥æ‰“è¡¥ä¸çš„æ–¹æ¡ˆå´å­˜åœ¨é£é™©ã€æˆæœ¬ã€æ—¶æ•ˆã€è€æ—§ç³»ç»Ÿç­‰è¯¸å¤šé—®é¢˜ï¼šè¡¥ä¸ä¿®å¤æ“ä½œç¹çï¼Œä¿®å¤è¿‡ç¨‹å­˜åœ¨å…¼å®¹æ€§éšæ‚£ï¼›æ¼æ´é—®é¢˜å±‚å‡ºä¸ç©·ï¼Œé¢‘ç¹æ‰“è¡¥ä¸å·¥ä½œæˆæœ¬åŠ å¤§ï¼›é›¶æ—¥æ¼æ´åŠ é€Ÿå‡ºç°ï¼Œå‚å•†æä¾›è¡¥ä¸æ›´æ–°åŒ…å´æ»åï¼›è€æ—§ç³»ç»Ÿæ— è¡¥ä¸æ›´æ–°ï¼Œå³ä¾¿æœ‰ç”¨æˆ·ä¹Ÿä¸æ•¢å»å‡çº§ã€‚åœ¨æ¼æ´çˆ†å‘å¼å¢é•¿çš„ä»Šå¤©ï¼Œâ€œæ‰“è¡¥ä¸â€å·²ç»è¶Šæ¥è¶Šä¸èƒ½åº”å¯¹æ–°çš„å®‰å…¨æ€åŠ¿ï¼Œæ¼æ´ä¹‹å›°ï¼Œä½•ä»¥è§£å¿§ï¼Ÿè¿™éœ€è¦ä¸€ç§æ—¢å¯ä»¥å¿«é€Ÿè§£å†³ç³»ç»Ÿæ¼æ´é£é™©ï¼Œåˆå…·æœ‰å¯æ“ä½œæ€§çš„æ¼æ´ä¿®è¡¥æ–¹æ¡ˆã€‚è™šæ‹Ÿè¡¥ä¸ä½œä¸ºä¸€ç§è½»é‡çº§ä¸”æ— æŸç°æœ‰ç”Ÿäº§ç¯å¢ƒï¼ŒåŒæ—¶åˆæ˜¯éå¸¸è¡Œä¹‹æœ‰æ•ˆçš„æ¼æ´ä¿®è¡¥æ–¹æ¡ˆåº”è¿è€Œç”Ÿã€‚â˜†è™šæ‹Ÿè¡¥ä¸è™šæ‹Ÿè¡¥ä¸æ¦‚å¿µæœ€æ—©ç”±å®‰å…¨å‚å•†McAfeeæå‡ºã€‚è™šæ‹Ÿè¡¥ä¸æ–¹æ¡ˆå‡è®¾ï¼šæ¼æ´ä¸å¯èƒ½é¿å…ï¼Œæ°¸è¿œéƒ½æœ‰æ¼æ´ã€‚æ¼æ´ä¿®å¤æ€»æ˜¯éœ€è¦ä¸€å®šçš„æ—¶é—´ä½œä¸ºä»£ä»·ã€‚æ–°å½¢åŠ¿ä¸‹ï¼Œå¯¹äºæ¼æ´çš„â€œä¿®å¤â€æœ‰ç€æ›´é«˜çš„è¦æ±‚ã€‚é¿å…è§¦ç¢°ä¸šåŠ¡ç³»ç»Ÿï¼Œå°½å¯èƒ½çŸ­çš„æ—¶é—´å†…è¿›è¡Œä¿®å¤ã€‚å¦‚æœä¸€ä¸ªç³»ç»Ÿæœ‰å¾ˆå¤šæ¼æ´ï¼Œåªè¦ä¸å»å¼•çˆ†ï¼Œé‚£ä¹ˆè¿™äº›æ¼æ´çš„å­˜åœ¨ä¹Ÿå°†æ²¡æœ‰æ„ä¹‰ã€‚ä¹Ÿå°±è¾¾åˆ°äº†â€œæ¼æ´ä¿®å¤â€çš„ç›®çš„ã€‚å¯¹æ­¤ï¼Œè™šæ‹Ÿè¡¥ä¸æ‰¿è®¤ç³»ç»Ÿæ¼æ´å­˜åœ¨ï¼Œåœ¨å—ä¿æŠ¤çš„èµ„æºå¤–éƒ¨å»ºç«‹ä¸€ä¸ªç­–ç•¥å®æ–½ç‚¹ï¼Œä»¥ä¾¿åœ¨æ¼æ´åˆ°è¾¾ç›®æ ‡ä¹‹å‰è¯†åˆ«å’Œæ‹¦æˆªåˆ©ç”¨è¿™äº›æ¼æ´çš„è¡Œä¸ºã€‚è¿™æ ·å°±ä¸éœ€è¦ç›´æ¥ä¿®æ”¹è¢«ä¿æŠ¤çš„èµ„æºï¼Œä»è€Œè®©æ¼æ´åœ¨éæ³•æ”»å‡»ä¸­éšå½¢ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šç›®å‰å¸‚é¢ä¸Šï¼Œè™šæ‹Ÿè¡¥ä¸æ–¹æ¡ˆåœ¨å½¢å¼ä¸ŠåŸºæœ¬ä¸€è‡´ï¼Œä½†å®ç°é€»è¾‘å´æœ‰æ‰€å·®å¼‚ï¼Œå„å‚å•†éƒ½æœ‰å„è‡ªçš„æ–¹æ¡ˆç‰¹ç‚¹ï¼Œå¦‚ï¼šå®Œå…¨åŸºäºå¯¹ç½‘ç»œæµé‡çš„åˆ†æå¹¶æä¾›ç³»ç»Ÿä½¿ç”¨ç­¾åã€æ­£åˆ™è¡¨è¾¾å¼å’Œæ¨¡å¼åŒ¹é…æ¥è¯†åˆ«æ¶æ„æ´»åŠ¨å¹¶é˜»æ­¢ç›¸åº”çš„è¯·æ±‚ï¼›åŸºäºç›¸åŒçš„åŸç†ï¼Œä½†æä¾›ä¸€ç§ä½¿ç”¨è§„åˆ™è¯­è¨€å’ŒçŠ¶æ€ç®¡ç†ç­‰æ›´ä¸ºå¥å£®çš„æ–¹å¼æ¥é˜»æ­¢æŒ‡å®šè¯·æ±‚ã€‚åœ¨æ•°æ®åº“å®‰å…¨é¢†åŸŸå†ç»åä½™å¹´çš„ç ”ç©¶å’Œå®è·µï¼Œç¾åˆ›ç§‘æŠ€æå‡ºæ›´è½»é‡çº§ã€æ›´åŠ å¥å£®çš„æ•°æ®åº“è™šæ‹Ÿè¡¥ä¸æ–¹æ¡ˆï¼Œå¯ä»¥å¿«é€Ÿå“åº”æ¼æ´ã€æ™ºèƒ½ä¿®å¤ï¼Œåœ¨æ­¤ï¼Œæˆ‘ä»¬æ·±å…¥äº†è§£è¯¥æ–¹æ¡ˆå¦‚ä½•å®ç°æœ‰æ•ˆä¿æŠ¤ã€‚â˜†è™šæ‹Ÿè¡¥ä¸æ¶æ„ç¾åˆ›ç§‘æŠ€è™šæ‹Ÿè¡¥ä¸æ¶æ„ä¸»è¦ç”±è™šæ‹Ÿè¡¥ä¸ç­–ç•¥ã€ç­–ç•¥å†³ç­–ç‚¹ï¼ˆPDPï¼‰å’Œç­–ç•¥æ‰§è¡Œç‚¹ï¼ˆPEPï¼‰æ„æˆã€‚å®ç°çš„é€»è¾‘æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šç­–ç•¥æ‰§è¡Œç‚¹ï¼ˆPEPï¼‰æ•°æ®å¹³é¢æ‹¦æˆªæ•°æ®æµï¼Œé€šè¿‡æ•°æ®æµçš„åè®®è§£æè·å–è¯·æ±‚/å“åº”çš„åº”ç”¨å±‚å†…å®¹ã€‚æŠŠå†…å®¹é€å¾€PDP(ç­–ç•¥å†³ç­–ç‚¹)è¿›è¡Œç­–ç•¥è¯„ä¼°ã€‚æ ¹æ®PDPçš„è¿”å›åšå‡ºå“åº”ï¼Œé˜»æ–­æˆ–è€…æ”¾è¡Œç­‰ã€‚æµé‡å¯é€šè¿‡æ—è·¯æ¨¡å¼å®ç°ã€‚æ—è·¯æ¨¡å¼å®æ—¶é˜»æ–­è¾ƒå¼±ï¼Œä½†å¯å®ç°å‘Šè­¦ï¼Œè¿½æº¯ç­‰èƒ½åŠ›ã€‚æµé‡ä¸²æ¥æ¨¡å¼åˆ™èƒ½å¤Ÿè¿›è¡Œå®æ—¶é˜»æ–­ï¼Œç”šè‡³æ˜¯å†…å®¹çº§åˆ«çš„é˜»æ–­ã€‚ç­–ç•¥å†³ç­–ç‚¹ï¼ˆPDPï¼‰æ ¹æ®ç­–ç•¥å¯¹PEPé€è¿‡æ¥çš„è¯·æ±‚è¿›è¡Œè¯„ä¼°ï¼Œè¯†åˆ«è¯·æ±‚æ˜¯å¦åˆæ³•ã€‚ç­–ç•¥å¯ä»¥é‡‡å–å¤šç§å½¢å¼ï¼šæ­£åˆ™åŒ¹é…ï¼šè§¦å‘æ¼æ´çš„è¯­å¥å¾€å¾€å…·æœ‰ä¸€å®šçš„ç‰¹å¾ï¼Œå¯ä»¥æ ¹æ®è¿™äº›ç‰¹å¾ç¼–å†™æ­£åˆ™è¡¨è¾¾å¼ã€‚è¯­ä¹‰è§£æï¼šé€šè¿‡è¯­ä¹‰è§£æåˆ¤æ–­å½“å‰è¯·æ±‚æ˜¯å¦æ˜¯æ”»å‡»è¡Œä¸ºã€‚ç™½åå•å½¢å¼ï¼šé€šè¿‡å»ºç«‹èµ·æ­£å¸¸çš„è¡Œä¸ºæ¨¡å¼åŸºçº¿è¯†åˆ«æ”»å‡»ã€‚åç¦»å›ºæœ‰çš„è¡Œä¸ºæ¨¡å¼ï¼Œåˆ¤å®šå­˜åœ¨é£é™©ã€‚è®¿é—®ä¸Šä¸‹æ–‡ï¼šé€šè¿‡æ£€æµ‹è®¿é—®ä¸Šä¸‹æ–‡çš„å„ç§å±æ€§ï¼Œåˆ¤æ–­å½“å‰è¯·æ±‚æ˜¯å¦åˆæ³•ã€‚ç­–ç•¥å†³ç­–ç‚¹çš„å…³é”®åœ¨äºæŒç»­çš„è¯„ä¼°è¯·æ±‚åˆæ³•æ€§ã€‚æ ¹æ®çµæ´»çš„ç­–ç•¥åº“ã€é£é™©åº“è¯†åˆ«å½“å‰è¯·æ±‚æ˜¯å¦åˆæ³•ï¼Œå¯¹ä¸åˆæ³•çš„è¯·æ±‚é˜»æ–­ï¼Œå°†æ”»å‡»æ‰¼æ€åœ¨è·¯ä¸Šï¼Œä»è€Œé¿å…è¢«ä¿æŠ¤çš„èµ„æºå—åˆ°æ”»å‡»ï¼Œå—ä¿æŠ¤èµ„æºæœ¬èº«çš„æ¼æ´ä¹Ÿå°±ä¸å­˜åœ¨å¨èƒã€‚æµç¨‹å®æ–½è™šæ‹Ÿè¡¥ä¸ï¼Œå…³é”®ç‚¹åœ¨äºè¯·æ±‚çš„è·¯å¾„ä¸Šè®¾ç½®æ£€æµ‹ç‚¹ï¼Œé˜»æ–­éæ³•è¯·æ±‚ã€‚è®©å—ä¿æŠ¤èµ„æºæœ¬èº«çš„æ¼æ´éšå½¢ï¼Œä¸ä¼šå‘ä½œï¼Œä»è€Œè¾¾åˆ°â€œæ¼æ´ä¿®å¤â€çš„ç›®çš„ã€‚â˜†è™šæ‹Ÿè¡¥ä¸çš„ä¼˜ç‚¹ç¾åˆ›ç§‘æŠ€æ•°æ®åº“è™šæ‹Ÿè¡¥ä¸ä½œä¸ºä¸€ç§è½»é‡çº§çš„æ¼æ´ä¿®å¤æ–¹æ¡ˆï¼Œæœ‰è¯¸å¤šä¼˜ç‚¹ï¼šå¿«é€Ÿå“åº”æ¼æ´ï¼šæ— éœ€ç­‰å¾…å¼€å‘å‚å•†çš„è¡¥ä¸åŒ…ï¼Œåªéœ€åŠæ—¶è°ƒæ•´ç­–ç•¥å³å¯ã€‚å¿«é€Ÿä¿®å¤ï¼šæ— éœ€é‡å¯ç³»ç»Ÿï¼Œæ— é¡»åœæœºçª—å£ï¼Œç­–ç•¥ä¸€æ—¦è°ƒæ•´å®Œæ¯•å®æ—¶èµ·æ•ˆã€‚éä¾µå…¥å¼ï¼šé€šè¿‡è™šæ‹Ÿè¡¥ä¸æ–¹å¼ä¿®å¤æ•°æ®åº“æ¼æ´ï¼Œæ— éœ€æ›´æ”¹æ•°æ®åº“ç¯å¢ƒï¼Œæ— é¢å¤–æˆæœ¬ï¼Œå¤§å¤§å‡è½»æµ‹è¯•å’Œéƒ¨ç½²è¡¥ä¸çš„å·¥ä½œã€‚æ™ºèƒ½ä¿®å¤ï¼šå¯æ ¹æ®è™šæ‹Ÿè¡¥ä¸ç­–ç•¥çš„ä¼˜å…ˆçº§ã€ç­‰çº§ã€ä¸¥é‡æ€§ç­‰è¿›è¡Œæ™ºèƒ½ç¼–æ’ï¼Œå¿«é€Ÿé€‰æ‹©å¯åœç­–ç•¥ï¼Œå“åº”æ–¹å¼ç­‰ï¼Œè‡ªç”±çµæ´»ã€‚æ›´å…·åˆè§„æ€§ï¼šå¸®åŠ©ç”¨æˆ·ï¼Œç”¨æœ€å°‘çš„æˆæœ¬ä¿æŒæ•°æ®åº“å§‹ç»ˆç¬¦åˆåˆè§„è¦æ±‚ã€‚æ›´å¤šå¯èƒ½æ€§ï¼šå¯ä»¥åœ¨è®¿é—®æ§åˆ¶çš„åŸºç¡€ä¸Šï¼Œå®ç°æˆæƒæ“ä½œç­‰åŠŸèƒ½ã€‚æ ¹æ®ä¸åŒèº«ä»½æ‰§è¡Œä¸åŒç­–ç•¥ã€‚æ ¹æ®èº«ä»½ã€è¡Œä¸ºã€èµ„äº§çš„å±æ€§åšå‡ºä¸åŒçš„è¯„ä¼°ã€‚æœ€å¤§ç¨‹åº¦è¾¾æˆä¸šåŠ¡å’Œå®‰å…¨çš„å¹³è¡¡ï¼šâ‘  å‡å°‘å¯¹â€œç´§æ€¥â€è¡¥ä¸æˆ–è€…è§£å†³æ–¹æ¡ˆçš„ä¾èµ–ï¼›â‘¡ åœ¨ç½‘ç»œä¸­çš„é€‰å®šç‚¹ï¼Œè€Œä¸æ˜¯åœ¨æ¯ä¸ªç³»ç»Ÿä¸Šåº”ç”¨è¡¥ä¸ï¼›â‘¢ ä½¿ä¼ä¸šèƒ½å¤Ÿçµæ´»åœ°æŒ‰è®¡åˆ’æ—¶é—´è¡¨è¿›è¡Œä¿®è¡¥ï¼›â‘£ æœ‰åŠ©äºå‡å°‘å…³é”®ç³»ç»Ÿã€æ•°æ®åº“å’Œåº”ç”¨ç¨‹åºçš„è®¡åˆ’å¤–åœæœºå¸¦æ¥çš„é«˜æœºä¼šæˆæœ¬ï¼›â‘¤ æ‰©å±•çš„ç­–ç•¥æˆæƒæ‰§è¡Œã€‚ç¾åˆ›ç§‘æŠ€è™šæ‹Ÿè¡¥ä¸è§£å†³æ–¹æ¡ˆæ›´åŠ é€‚åˆé’ˆå¯¹æ•°æ®åº“ç­‰å¤æ‚ç³»ç»Ÿçš„ä¿æŠ¤ï¼Œè½»é‡çº§çš„ä¿æŠ¤æ‰‹æ®µè®©â€œæ¼æ´ä¿®å¤â€æ›´åŠ å®‰å…¨ã€å¿«é€Ÿã€çµæ´»ã€‚æ­¤è™šæ‹Ÿè¡¥ä¸æ–¹æ¡ˆå·²é›†æˆåˆ°ç¾åˆ›æ•°æ®åº“é˜²ç«å¢™å†…ï¼Œä½œä¸ºå†…åµŒåŠŸèƒ½ï¼Œä»¥éä¾µå…¥å¼å¸®åŠ©ç”¨æˆ·å®ç°ä¿æŠ¤æ•°æ®åº“å®‰å…¨çš„ç›®çš„ã€‚ç¾åˆ›æ•°æ®é˜²ç«å¢™è™šæ‹Ÿè¡¥ä¸åŠŸèƒ½åŸºäºä¸Šè¿°æ¶æ„é€šè¿‡æ§åˆ¶å¯¹æ•°æ®åº“çš„è¾“å…¥å’Œè¾“å‡ºï¼Œæ£€æµ‹å…¶ä¼šè¯ä¿¡æ¯å’Œè¯­å¥ä¿¡æ¯å¯¹æ¼æ´çš„å°è¯•åˆ©ç”¨ï¼Œé˜»æ­¢æˆ–æ¶ˆé™¤æ¼æ´æ”»å‡»è¡Œä¸ºã€‚æˆªæ­¢ç›®å‰ï¼Œæ•°æ®åº“é˜²ç«å¢™çš„æ¼æ´è§„åˆ™åº“å·²è¯†åˆ«å¹¶å†…ç½®20å¤šç±»æ•°æ®åº“æ¼æ´ç±»å‹è™šæ‹Ÿè¡¥ä¸ï¼Œå®ç°å¯¹1600+å¤šä¸ªæ¼æ´é˜²å¾¡ä¿æŠ¤ï¼ŒåŒæ—¶ä¹Ÿä»åœ¨æŒç»­ä¸æ–­åœ°æ›´æ–°ã€‚ç¾åˆ›æ•°æ®åº“é˜²ç«å¢™çš„è™šæ‹Ÿè¡¥ä¸åŠŸèƒ½å®Œå…¨é¿å…è¿›è¡Œä»£ç çº§çš„æ”¹é€ ï¼ŒåŠ é•¿æ•°æ®åº“ç³»ç»Ÿè¢«ä¿æŠ¤çš„æ—¶é—´ï¼Œé¿å…æ•°æ®åº“é•¿æ—¶é—´å¤„åœ¨é«˜é£é™©çš„é˜´å½±ä¸‹ã€‚â˜†æ¡ˆä¾‹SQL SERVER 2008ææƒæ¼æ´å½“ä½¿ç”¨SQL SERVERæ•°æ®åº“çš„ä¸šåŠ¡ç³»ç»Ÿå­˜åœ¨SQLæ³¨å…¥ï¼Œæˆ–è€…SQL SERVERæ•°æ®åº“å­˜åœ¨å¼±å£ä»¤çš„æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…è·å¾—SQL SERVERæ•°æ®åº“ç®¡ç†å‘˜æƒé™åï¼Œå³å¯ä»¥åˆ©ç”¨SQL SERVERæ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œå‘½ä»¤è¿›è¡Œææƒï¼Œä»è€Œè·å¾—SQL SERVERæ•°æ®åº“æ‰€åœ¨ç³»ç»Ÿçš„æ§åˆ¶æƒé™ã€‚å¼€å¯ä¹‹åå°±å¯ä»¥æ‰§è¡Œï¼Œè·å¾—ä¸€äº›ä¿¡æ¯åï¼Œç„¶åè¿›ä¸€æ­¥ç ´åã€‚é’ˆå¯¹è¿™ä¸ªæ¼æ´ï¼Œç¾åˆ›æ•°æ®é˜²ç«å¢™è™šæ‹Ÿè¡¥ä¸å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è¿›è¡Œæ‹¦æˆªï¼šæ ¹æ®è¯­å¥ç‰¹å¾ï¼Œç¼–å†™æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ”¾å…¥ç­–ç•¥åº“ï¼Œè¿›è¡Œé˜»æ–­ï¼›æ ¹æ®å¼ºåˆ¶ç™½åå•é˜»æ–­ï¼›æ ¹æ®è¯­ä¹‰è§£æï¼Œåˆ†æè¡Œä¸ºï¼›å¦‚æœä¸€äº›æƒ…å†µéœ€è¦æ‰§è¡Œè¿™äº›è¯­å¥ï¼Œå¯è¿›è¡Œæˆæƒæ“ä½œï¼›æ•´ä¸ªè¿‡ç¨‹å¿«é€Ÿå®æ–½ï¼Œè½»é‡çº§å¤„ç†é£é™©ã€‚å¼ºåˆ¶ç™½åå•æœºåˆ¶å¯é˜²å¾¡0-dayæ¼æ´ã€‚å³ä¾¿éœ€è¦æ›´æ–°ç­–ç•¥åº“ï¼Œè¿‡ç¨‹ä¹Ÿæ¯”ä¼ ç»Ÿæ‰“è¡¥ä¸ä¿®å¤æ–¹å¼æ›´åŠ å¿«é€Ÿã€‚ORACLE TNS Listenerè¿œç¨‹æ³¨å†ŒæŠ•æ¯’æ¼æ´ORACLE TNS Listenerè¿œç¨‹æ³¨å†ŒæŠ•æ¯’æ¼æ´ï¼ˆCVE-2012-1675ï¼‰æ˜¯Oracle 2012å¹´å‘å¸ƒçš„å‘Šè­¦ï¼ŒCVE-2012-1675æ¼æ´æ˜¯Oracleå…è®¸æ”»å‡»è€…åœ¨ä¸æä¾›ç”¨æˆ·å/å¯†ç çš„æƒ…å†µä¸‹ï¼Œå‘è¿œç¨‹â€œTNS Listenerâ€ç»„ä»¶å¤„ç†çš„æ•°æ®æŠ•æ¯’çš„æ¼æ´ã€‚å¦‚ï¼šæ”»å‡»è€…å¯ä»¥åœ¨ä¸éœ€è¦ç”¨æˆ·åå¯†ç çš„æƒ…å†µä¸‹åˆ©ç”¨ç½‘ç»œä¸­ä¼ é€çš„æ•°æ®æ¶ˆæ¯(åŒ…æ‹¬åŠ å¯†æˆ–è€…éåŠ å¯†çš„æ•°æ®)ï¼Œå¦‚æœç»“åˆï¼ˆCVE-2012-3137æ¼æ´è¿›è¡Œå¯†ç ç ´è§£ï¼‰ä»è€Œè¿›ä¸€æ­¥å½±å“ç”šè‡³æ§åˆ¶å±€åŸŸç½‘å†…çš„ä»»ä½•ä¸€å°æ•°æ®åº“ã€‚æ”»å‡»è€…åˆ©ç”¨è¯¥æ¼æ´æ—¶ï¼Œé¦–å…ˆä¼šåˆ©ç”¨æ”»å‡»è½½è·æ”»å‡»TNSç½‘ç»œç»„ä»¶ï¼Œä½¿å…¶è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œé”™è¯¯ä¿¡æ¯ä¸­åŒ…å«æ”»å‡»è€…æ‰€éœ€çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼šå¯ä»¥çœ‹åˆ°ï¼Œè¿”å›çš„ä¿¡æ¯æ˜¯æœ‰å…¶å›ºå®šçš„æ ¼å¼çš„ã€‚ç¾åˆ›æ•°æ®é˜²ç«å¢™è™šæ‹Ÿè¡¥ä¸é€šè¿‡ç²¾å‡†åŒ¹é…æ•°æ®åº“æ¼æ´å‘ç”Ÿæ—¶è¾“å‡ºçš„ä¿¡æ¯ï¼Œå¯¹è¿”å›çš„æ•°æ®åº“ä¿¡æ¯è¿›è¡Œæ··æ·†å¤„ç†æˆ–è€…æ‹¦æˆªï¼Œä½¿æ”»å‡»è€…æ— æ³•å¾—åˆ°æœ‰æ•ˆä¿¡æ¯ï¼Œæœ‰æ•ˆæŠµå¾¡å…¥ä¾µæ”»å‡»è¡Œä¸ºã€‚æœ¬æ–‡ä½œè€…ï¼šæ­å·ç¾åˆ›ç§‘æŠ€åŸæ–‡é“¾æ¥ï¼šhttps://www.freebuf.com/articles/network/254518.html" }, { "title": "REALVNCå¦‚ä½•å¢åŠ æˆ–åˆ é™¤åˆ†è¾¨ç‡é…ç½®ï¼Ÿ", "url": "/posts/realvnc-add-or-rm-resolution/", "categories": "icenv-posts", "tags": "linux, vnc", "date": "2023-03-08 04:50:00 +0000", "snippet": "é—®é¢˜ç”¨æˆ·è®¾ç½®1920x1080çš„åˆ†è¾¨ç‡ï¼Œå±å¹•å´©æºƒï¼Œç”»é¢ä¹±äº†ã€‚è§£å†³å»æ‰æœ‰é—®é¢˜çš„é…ç½®ã€‚æŸ¥çœ‹åˆ°ä¸¤ä¸ª1920x1080çš„é…ç½®ä½¿ç”¨xrandrè¯•ç€åˆ æ‰å…¶ä¸­ä¸€ä¸ªï¼Œæç¤ºæ— æ³•åˆ é™¤ç»googleï¼Œè¯´çš„æ˜¯xrandræ— æ³•åˆ é™¤ç”±X managedçš„modeã€‚ä»XREALVNCæ‰‹å†Œä¾§åˆ é™¤ï¼Œ/etc/X11/vncserver-virtual-dummy.confï¼Œå¦‚æœæ˜¯è¾ƒæ—©çš„ç‰ˆæœ¬åˆ™æ˜¯/etc/X11/vncserv...", "content": "é—®é¢˜ç”¨æˆ·è®¾ç½®1920x1080çš„åˆ†è¾¨ç‡ï¼Œå±å¹•å´©æºƒï¼Œç”»é¢ä¹±äº†ã€‚è§£å†³å»æ‰æœ‰é—®é¢˜çš„é…ç½®ã€‚æŸ¥çœ‹åˆ°ä¸¤ä¸ª1920x1080çš„é…ç½®ä½¿ç”¨xrandrè¯•ç€åˆ æ‰å…¶ä¸­ä¸€ä¸ªï¼Œæç¤ºæ— æ³•åˆ é™¤ç»googleï¼Œè¯´çš„æ˜¯xrandræ— æ³•åˆ é™¤ç”±X managedçš„modeã€‚ä»XREALVNCæ‰‹å†Œä¾§åˆ é™¤ï¼Œ/etc/X11/vncserver-virtual-dummy.confï¼Œå¦‚æœæ˜¯è¾ƒæ—©çš„ç‰ˆæœ¬åˆ™æ˜¯/etc/X11/vncserver-virtual.confæ–‡ä»¶ã€‚å°è¯•å°†å…¶ä¸€ä»è¿™ä¸ªæ–‡ä»¶é‡Œç§»é™¤ï¼Œé—®é¢˜å³è§£å†³ã€‚" }, { "title": "GitHub bashrc åˆå§‹åŒ–æ–‡ä»¶æ ·ä¾‹", "url": "/posts/github-bash-.bashrc/", "categories": "icenv-posts", "tags": "linux", "date": "2023-03-02 03:18:00 +0000", "snippet": "@wanlinwang âœ ~ $ cat .bashrc# ~/.bashrc: executed by bash(1) for non-login shells.# see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)# for examples# If not running interacti...", "content": "@wanlinwang âœ ~ $ cat .bashrc# ~/.bashrc: executed by bash(1) for non-login shells.# see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)# for examples# If not running interactively, don't do anythingcase $- in *i*) ;; *) return;;esac# don't put duplicate lines or lines starting with space in the history.# See bash(1) for more optionsHISTCONTROL=ignoreboth# append to the history file, don't overwrite itshopt -s histappend# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)HISTSIZE=1000HISTFILESIZE=2000# check the window size after each command and, if necessary,# update the values of LINES and COLUMNS.shopt -s checkwinsize# If set, the pattern \"**\" used in a pathname expansion context will# match all files and zero or more directories and subdirectories.#shopt -s globstar# make less more friendly for non-text input files, see lesspipe(1)[ -x /usr/bin/lesspipe ] &amp;&amp; eval \"$(SHELL=/bin/sh lesspipe)\"# set variable identifying the chroot you work in (used in the prompt below)if [ -z \"${debian_chroot:-}\" ] &amp;&amp; [ -r /etc/debian_chroot ]; then debian_chroot=$(cat /etc/debian_chroot)fi# set a fancy prompt (non-color, unless we know we \"want\" color)case \"$TERM\" in xterm-color|*-256color) color_prompt=yes;;esac# uncomment for a colored prompt, if the terminal has the capability; turned# off by default to not distract the user: the focus in a terminal window# should be on the output of commands, not on the prompt#force_color_prompt=yesif [ -n \"$force_color_prompt\" ]; then if [ -x /usr/bin/tput ] &amp;&amp; tput setaf 1 &gt;&amp;/dev/null; then # We have color support; assume it's compliant with Ecma-48 # (ISO/IEC-6429). (Lack of such support is extremely rare, and such # a case would tend to support setf rather than setaf.) color_prompt=yes else color_prompt= fifiif [ \"$color_prompt\" = yes ]; then PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w\\[\\033[00m\\]\\$ 'else PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ 'fiunset color_prompt force_color_prompt# If this is an xterm set the title to user@host:dircase \"$TERM\" inxterm*|rxvt*) PS1=\"\\[\\e]0;${debian_chroot:+($debian_chroot)}\\u@\\h: \\w\\a\\]$PS1\" ;;*) ;;esac# enable color support of ls and also add handy aliasesif [ -x /usr/bin/dircolors ]; then test -r ~/.dircolors &amp;&amp; eval \"$(dircolors -b ~/.dircolors)\" || eval \"$(dircolors -b)\" alias ls='ls --color=auto' #alias dir='dir --color=auto' #alias vdir='vdir --color=auto' alias grep='grep --color=auto' alias fgrep='fgrep --color=auto' alias egrep='egrep --color=auto'fi# colored GCC warnings and errors#export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'# some more ls aliasesalias ll='ls -alF'alias la='ls -A'alias l='ls -CF'# Add an \"alert\" alias for long running commands. Use like so:# sleep 10; alertalias alert='notify-send --urgency=low -i \"$([ $? = 0 ] &amp;&amp; echo terminal || echo error)\" \"$(history|tail -n1|sed -e '\\''s/^\\s*[0-9]\\+\\s*//;s/[;&amp;|]\\s*alert$//'\\'')\"'# Alias definitions.# You may want to put all your additions into a separate file like# ~/.bash_aliases, instead of adding them here directly.# See /usr/share/doc/bash-doc/examples in the bash-doc package.if [ -f ~/.bash_aliases ]; then . ~/.bash_aliasesfi# enable programmable completion features (you don't need to enable# this, if it's already enabled in /etc/bash.bashrc and /etc/profile# sources /etc/bash.bashrc).if ! shopt -oq posix; then if [ -f /usr/share/bash-completion/bash_completion ]; then . /usr/share/bash-completion/bash_completion elif [ -f /etc/bash_completion ]; then . /etc/bash_completion fifi# bash theme - partly inspired by https://github.com/ohmyzsh/ohmyzsh/blob/master/themes/robbyrussell.zsh-theme__bash_prompt() { local userpart='`export XIT=$? \\ &amp;&amp; [ ! -z \"${GITHUB_USER}\" ] &amp;&amp; echo -n \"\\[\\033[0;32m\\]@${GITHUB_USER} \" || echo -n \"\\[\\033[0;32m\\]\\u \" \\ &amp;&amp; [ \"$XIT\" -ne \"0\" ] &amp;&amp; echo -n \"\\[\\033[1;31m\\]âœ\" || echo -n \"\\[\\033[0m\\]âœ\"`' local gitbranch='`\\ if [ \"$(git config --get devcontainers-theme.hide-status 2&gt;/dev/null)\" != 1 ] &amp;&amp; [ \"$(git config --get codespaces-theme.hide-status 2&gt;/dev/null)\" != 1 ]; then \\ export BRANCH=$(git --no-optional-locks symbolic-ref --short HEAD 2&gt;/dev/null || git --no-optional-locks rev-parse --short HEAD 2&gt;/dev/null); \\ if [ \"${BRANCH}\" != \"\" ]; then \\ echo -n \"\\[\\033[0;36m\\](\\[\\033[1;31m\\]${BRANCH}\" \\ &amp;&amp; if [ \"$(git config --get devcontainers-theme.show-dirty 2&gt;/dev/null)\" = 1 ] &amp;&amp; \\ git --no-optional-locks ls-files --error-unmatch -m --directory --no-empty-directory -o --exclude-standard \":/*\" &gt; /dev/null 2&gt;&amp;1; then \\ echo -n \" \\[\\033[1;33m\\]âœ—\"; \\ fi \\ &amp;&amp; echo -n \"\\[\\033[0;36m\\]) \"; \\ fi; \\ fi`' local lightblue='\\[\\033[1;34m\\]' local removecolor='\\[\\033[0m\\]' PS1=\"${userpart} ${lightblue}\\w ${gitbranch}${removecolor}\\$ \" unset -f __bash_prompt}__bash_promptexport PROMPT_DIRTRIM=4" }, { "title": "Cadence workshop 20230302", "url": "/posts/Cadence-workshop/", "categories": "icenv-posts", "tags": "workshop", "date": "2023-03-02 01:55:00 +0000", "snippet": "ä¸€ã€æå‡ä»¿çœŸé€Ÿåº¦ä¸šç•Œä»¿çœŸå·¥å…·çš„åŠŸèƒ½ç±»ä¼¼ï¼Œæ‹¼æ€§èƒ½ã€‚5X Xcelium MC Appè¿™ä¸ªæˆç†Ÿå—ï¼ŸåŠ é€Ÿé—¨çº§DFTä»¿çœŸã€‚Test suite latencyå—åˆ¶äºæœ€é•¿çš„é‚£ä¸ªcaseã€‚é€šè¿‡MCå°†å®ƒåˆ‡åˆ†åˆ°å¤šæ ¸è¿è¡Œã€‚è¿½æ±‚æ•ˆç‡ä¸èµ„æºçš„å¹³è¡¡ã€‚ARM-Based or X86-basedå°†æ²¡æœ‰ä¾èµ–æ€§çš„æ‹†åˆ†ï¼Œä¼šå¼•å…¥ä¸€äº›overheadã€‚åœ¨SingleCoreæ—¶åŠ é€‰é¡¹ï¼Œå¯ä»¥ç”Ÿæˆprofileï¼Œæ¥è¯„ä¼°å“ªäº›å¯ä»¥åŠ é€Ÿã€‚...", "content": "ä¸€ã€æå‡ä»¿çœŸé€Ÿåº¦ä¸šç•Œä»¿çœŸå·¥å…·çš„åŠŸèƒ½ç±»ä¼¼ï¼Œæ‹¼æ€§èƒ½ã€‚5X Xcelium MC Appè¿™ä¸ªæˆç†Ÿå—ï¼ŸåŠ é€Ÿé—¨çº§DFTä»¿çœŸã€‚Test suite latencyå—åˆ¶äºæœ€é•¿çš„é‚£ä¸ªcaseã€‚é€šè¿‡MCå°†å®ƒåˆ‡åˆ†åˆ°å¤šæ ¸è¿è¡Œã€‚è¿½æ±‚æ•ˆç‡ä¸èµ„æºçš„å¹³è¡¡ã€‚ARM-Based or X86-basedå°†æ²¡æœ‰ä¾èµ–æ€§çš„æ‹†åˆ†ï¼Œä¼šå¼•å…¥ä¸€äº›overheadã€‚åœ¨SingleCoreæ—¶åŠ é€‰é¡¹ï¼Œå¯ä»¥ç”Ÿæˆprofileï¼Œæ¥è¯„ä¼°å“ªäº›å¯ä»¥åŠ é€Ÿã€‚DFTå¯ä»¥è€ƒè™‘ç”¨MCåšåŠ é€Ÿã€‚5X Xcelium ML Appé€šè¿‡æœºå™¨å­¦ä¹ æ¥æå‡å›å½’ååã€‚æ¨¡å‹æ˜¯è‡ªå·±è®­ç»ƒè¿˜æ˜¯å‚å®¶æä¾›ï¼Ÿéœ€è¦å®‰è£…é¢å¤–çš„MLå®‰è£…åŒ…ï¼Œä¾èµ–äºvmanageråšé›†æˆã€‚æ­£åœ¨åšæ— vmnanagerçš„é›†æˆï¼Œä¸‹åŠå¹´æ¨å‡ºã€‚è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œä¼šåšç²¾ç®€ã€‚é™ä½å›å½’æ—¶é—´ã€‚å¾ˆå¤šcaseæ˜¯å†—ä½™çš„ï¼Œéšæœºç§å­å¾ˆå¤šæ˜¯ä¼ªéšæœºã€‚éšæœºç©ºé—´æ›´åŠ ä¼˜åŒ–ã€‚ä»¥æ”¶æ•›ç‡ï¼Œç”Ÿæˆæ›´å¥½çš„éšæœºç©ºé—´ï¼Œéšæœºå˜é‡ã€‚èŠ‚çœèµ„æºï¼Œé‡Šæ”¾æ›´å¤šçš„èµ„æºã€‚Bug Huntingã€‚é€šè¿‡éšæœºçš„ã€‚å¦‚æœæ˜¯å®šå‘çš„åˆ™æ²¡æœ‰æ„ä¹‰ã€‚5X Advanced Build Techå¹¶è¡Œç¼–è¯‘ã€å¢é‡ç¼–è¯‘ï¼ˆæ”¹åŠ¨ä¸å¤§çš„ï¼Œåšæˆsnapshotï¼‰ã€‚å¾ˆå¤šIPæ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰å¿…è¦æ¯æ¬¡éƒ½ç¼–è¯‘ã€‚ å¢é‡ç¼–è¯‘ã€‚ç¼–testcaseï¼Œå†èŠ±ä¸¤åˆ†é’Ÿå°†å®ƒé“¾åˆ°å›ºå®šçš„éƒ¨åˆ†ã€‚è¯­æ³•æ£€æŸ¥ï¼Œå¹¶è¡Œç¼–è¯‘ï¼Œæ‰€æœ‰çš„ç¼–è¯‘å¥½çš„æ–‡ä»¶ï¼Œåšä¸€ä¸ªelaborationã€‚10X Save/Restore and dynamic Test Loadæ‰€æœ‰äººéƒ½ä»é‚£ä¸ªç‚¹å¼€å§‹ï¼Œç”¨UVMçš„åŠ¨æ€é‡è½½åŠŸèƒ½ã€‚åœ¨runçš„æ—¶å€™å¯ä»¥overrideã€‚base testcaseï¼Œè·‘å®Œsave snapshotï¼ˆéå¸¸å¤§ã€å¤æ‚çš„çŠ¶æ€é›†ï¼‰ã€‚å¼€å§‹caseçš„æ—¶å€™å¯¹base testcaseè€ƒé‡ï¼Œè¿™æ ·åˆå§‹åŒ–åªéœ€è¦è·‘ä¸€äº›ã€‚å¦‚æœcaseå·²ç»å»ºå¥½ï¼Œå†å»æ‹†å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œå› ä¸ºæ¯ä¸ªcaseéƒ½ä¾‹åŒ–äº†ä¸€ä¸ªUVM environmentäº†ã€‚Full Power Solutionç•¥" }, { "title": "é™¤äº†pingï¼Œè¿˜æœ‰ä»€ä¹ˆå¯ä»¥åšä¸»æœºæ¢æ´»ï¼Ÿ", "url": "/posts/ping-alternativies/", "categories": "icenv-posts", "tags": "formatting, links", "date": "2023-03-01 11:00:00 +0000", "snippet": "èƒŒæ™¯æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸éœ€è¦å¯¹ä¸»æœºè¿›è¡Œæ¢æ´»æ“ä½œï¼Œç”¨çš„æœ€å¤šçš„å±pingå·¥å…·ã€‚ARP PingARP Pingæ˜¯ä¸€ç§ä½¿ç”¨ARPï¼ˆAddress Resolution Protocolï¼‰åè®®çš„ç½‘ç»œæµ‹è¯•å·¥å…·ã€‚å®ƒä¸ICMP Pingç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä¸ä¾èµ–äºICMPåè®®ï¼Œè€Œæ˜¯å‘é€ARPè¯·æ±‚åŒ…åˆ°ç›®æ ‡ä¸»æœºçš„MACåœ°å€æ¥åˆ¤æ–­ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚TCP PingTCP Pingæ˜¯ä¸€ç§åŸºäºTCPåè®®çš„ç½‘ç»œæµ‹è¯•å·¥å…·ï¼Œå®ƒé€šè¿‡å‘é€ä¸€...", "content": "èƒŒæ™¯æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸éœ€è¦å¯¹ä¸»æœºè¿›è¡Œæ¢æ´»æ“ä½œï¼Œç”¨çš„æœ€å¤šçš„å±pingå·¥å…·ã€‚ARP PingARP Pingæ˜¯ä¸€ç§ä½¿ç”¨ARPï¼ˆAddress Resolution Protocolï¼‰åè®®çš„ç½‘ç»œæµ‹è¯•å·¥å…·ã€‚å®ƒä¸ICMP Pingç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä¸ä¾èµ–äºICMPåè®®ï¼Œè€Œæ˜¯å‘é€ARPè¯·æ±‚åŒ…åˆ°ç›®æ ‡ä¸»æœºçš„MACåœ°å€æ¥åˆ¤æ–­ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚TCP PingTCP Pingæ˜¯ä¸€ç§åŸºäºTCPåè®®çš„ç½‘ç»œæµ‹è¯•å·¥å…·ï¼Œå®ƒé€šè¿‡å‘é€ä¸€ä¸ªTCP SYNåŒ…åˆ°ç›®æ ‡ä¸»æœºçš„ç«¯å£æ¥åˆ¤æ–­ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚å¦‚æœç›®æ ‡ä¸»æœºå“åº”äº†ä¸€ä¸ªTCP SYN+ACKåŒ…ï¼Œåˆ™è¡¨ç¤ºä¸»æœºå­˜æ´»ã€‚UDP PingUDP Pingæ˜¯ä¸€ç§åŸºäºUDPåè®®çš„ç½‘ç»œæµ‹è¯•å·¥å…·ï¼Œå®ƒé€šè¿‡å‘é€ä¸€ä¸ªUDPæ•°æ®åŒ…åˆ°ç›®æ ‡ä¸»æœºçš„ç«¯å£æ¥åˆ¤æ–­ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚å¦‚æœç›®æ ‡ä¸»æœºå“åº”äº†ä¸€ä¸ªUDPæ•°æ®åŒ…ï¼Œåˆ™è¡¨ç¤ºä¸»æœºå­˜æ´»ã€‚TracerouteTracerouteæ˜¯ä¸€ç§ç½‘ç»œæµ‹è¯•å·¥å…·ï¼Œå®ƒå¯ä»¥ç”¨æ¥ç¡®å®šæ•°æ®åŒ…ä»æºä¸»æœºåˆ°ç›®æ ‡ä¸»æœºçš„è·¯å¾„ã€‚é€šè¿‡Tracerouteï¼Œå¯ä»¥æ£€æµ‹åˆ°ä¸­é—´ä»»ä½•ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹çš„å“åº”æƒ…å†µï¼Œä»è€Œåˆ¤æ–­ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›æµ‹è¯•å·¥å…·ä¹Ÿæœ‰å…¶å±€é™æ€§ï¼Œæœ‰æ—¶å¯èƒ½ä¼šå‡ºç°è¯¯åˆ¤æˆ–æ¼åˆ¤çš„æƒ…å†µï¼Œå› æ­¤åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©åˆé€‚çš„æµ‹è¯•å·¥å…·å¹¶ç»“åˆå…¶ä»–æ–¹æ³•æ¥è¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚" }, { "title": "LSFåˆçº§åœ¨çº¿åŸ¹è®­", "url": "/posts/LSF-101-live-training/", "categories": "icenv-posts", "tags": "formatting, links", "date": "2023-02-28 10:30:00 +0000", "snippet": "1. ç®€ä»‹ä»Šå¤©ä¸‹åˆï¼ŒIBMä¸¾åŠçš„LSFåˆçº§åœ¨çº¿åŸ¹è®­ã€‚Agenda Basic of LSF and architecture Overview of LSF Family products LSF and LSF Suite installation LSF License Scheduler Use PAC to submit and manager jobs Use RTM ...", "content": "1. ç®€ä»‹ä»Šå¤©ä¸‹åˆï¼ŒIBMä¸¾åŠçš„LSFåˆçº§åœ¨çº¿åŸ¹è®­ã€‚Agenda Basic of LSF and architecture Overview of LSF Family products LSF and LSF Suite installation LSF License Scheduler Use PAC to submit and manager jobs Use RTM to monitor LSF cluster Q&amp;A2. å†…å®¹2.1 IBM Spectrum LSFæ”¯æŒå„ç§å·¥ä½œè´Ÿè½½çš„è°ƒåº¦ ä¼ ç»Ÿçš„HPC/HTCï¼ˆbatch&amp;Interactiveï¼‰ä½œä¸š å®¹å™¨åŒ–ä½œä¸š å¤§æ•°æ®ä½œä¸š æœºå™¨å­¦ä¹ ä½œä¸š2.2 IBM Spectrum LSFå¯¹ï¼ˆäº‘ä¸Šäº‘ä¸‹ï¼‰å„ç§å…±äº«ï¼ˆå¼‚æ„ï¼‰èµ„æºçš„ç®¡ç† Power x86 Linux on z SPARC Arm containers å­˜å‚¨ï¼ˆFlashï¼ŒDiskï¼Œand Tapeï¼‰2.3 LSFæœ¯è¯­ è§’è‰² æ•°é‡ è¯´æ˜ Client ä¸€ä¸ªæˆ–å¤šä¸ª ä½œä¸ºæäº¤æœºï¼Œå¯ä»¥æ˜¯Linuxï¼Œæˆ–è€…æ˜¯Windows master host ä¸€ä¸ªmaster hostï¼Œä¸€ä¸ªæˆ–å¤šä¸ªmaster candidate host å¯ä»¥ä½œä¸ºæäº¤æœºä¸æ‰§è¡Œæœºã€‚ä¹Ÿå¯ä»¥CLOSEDä½¿å¾—å®ƒä¸ä½œä¸ºæäº¤æœºã€æ‰§è¡Œæœºï¼Œä¸“æœºä¸“ç”¨ï¼Œé¿å…å·¥ä½œè´Ÿè½½å½±å“äº†LSF masterçš„è°ƒåº¦ server host ä¸€ä¸ªæˆ–å¤šä¸ª å¯ä»¥ä½œä¸ºæäº¤æœºä¸æ‰§è¡Œæœºã€‚å®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªmaster cadidate host job Â  æäº¤ï¼šä»æäº¤æœºæäº¤åˆ°master hostæ”¾åˆ°Queueå¹¶PENDè°ƒåº¦ï¼šè¢«è°ƒåº¦å™¨è°ƒåº¦åˆ°æ‰§è¡Œæœºï¼Œé€šå¸¸å ç”¨1ä¸ªslotæ‰§è¡Œï¼šæ‰§è¡Œæœºæ¥æ”¶åˆ°jobåå¼€å§‹æ‰§è¡Œ 2.4 LSFæ¶æ„Masterä¸Hostçš„å„ç§æœåŠ¡ä¹‹é—´çš„è”ç³»ã€‚ æ‰€æœ‰æœºå™¨æœ‰LIMè¿›ç¨‹ hostä¸Šçš„LIMè¿›ç¨‹ä¼šæ”¶é›†å½“å‰nodeçš„è´Ÿè½½ã€èµ„æºä½¿ç”¨æƒ…å†µï¼Œæœ‰å“ªäº›èµ„æºï¼Œæ¯”å¦‚CPUå‹å·ã€OSç‰ˆæœ¬ç­‰ï¼Œå®šæœŸå‘é€ç»™masterçš„LIMã€‚è¿™æ ·masterå°±çŸ¥é“æ‰€æœ‰è¿™äº›ä¸»æœºçš„æƒ…å†µã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡elimï¼ˆplugin moduleï¼‰æ¥è‡ªå®šä¹‰ç›‘æ§ï¼Œå¦‚æ¸©åº¦ç­‰ç­‰ã€‚ æ‰€æœ‰æœºå™¨æœ‰SBDè¿›ç¨‹ å½“ä½œä¸šæäº¤åˆ°masteræ—¶ï¼Œä¼šåœ¨MBDã€MBSCHDé‡Œæ’é˜Ÿã€‚MBDæ˜¯é›†ç¾¤é‡Œæœ€é‡è¦çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒä¼šæŠŠmaster LIMé‡Œæ”¶é›†åˆ°hostçš„ä¿¡æ¯æ‹¿åˆ°ï¼Œå¹¶ä¸”çŸ¥é“é›†ç¾¤é‡Œæ’é˜Ÿä½œä¸šçš„æƒ…å†µï¼Œè¿›è¡Œä½œä¸šä¸èµ„æºçš„åŒ¹é…ã€æ´¾é£åˆ°æ‰§è¡Œæœºã€‚hostçš„SBDä¼šæ ¹æ®ç”¨æˆ·æŒ‡å®šçš„å‘½ä»¤è¡Œï¼Œå°†ä½œä¸šè¿è¡Œèµ·æ¥ï¼Œç›´åˆ°ä½œä¸šç»“æŸã€‚ å®ˆæŠ¤è¿›ç¨‹å¼‚å¸¸å¤„ç† å½“hostçš„å®ˆæŠ¤è¿›ç¨‹å®•æ‰ä¹‹åï¼Œmasterå°±æ— æ³•æ”¶é›†hostçš„ä¿¡æ¯ï¼Œæ­¤æ—¶hostå°†ä¼šè¢«æ ‡ä¸ºunavailçš„çŠ¶æ€ã€‚åœ¨æœ€æ–°çš„RHELé‡Œï¼Œæœ‰ä¸€ä¸ªlsfçš„patchï¼Œå®ƒä½¿ç”¨systemdæ¥ç®¡ç†lsfçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå½“lsfå®ˆæŠ¤è¿›ç¨‹å®•æ‰åï¼Œsystemdè‡ªåŠ¨å°†å®ƒé‡å¯èµ·æ¥ã€‚ job LSFå¯¹jobæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œåªè¦å®ƒèƒ½å¤Ÿåœ¨å•æœºä¸Šè¿è¡Œï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥åœ¨LSFé›†ç¾¤é‡Œæ‰§è¡Œï¼Œä¸éœ€è¦åšè¿‡å¤šçš„é›†æˆã€‚å‡è®¾masterä¸hostæ²¡æœ‰å…±äº«æ–‡ä»¶ç³»ç»Ÿçš„è¯ï¼Œå¯ä»¥è®¾ç½®å°†jobçš„è¾“å‡ºæ‹·è´å›æäº¤æœºã€‚ 2.5 IBM Spectrum LSF Familyæœ‰å¾ˆå¤šadd-onï¼Œå¦‚ Application Center webé¡µé¢ Process Manager License Scheduler EDA Licenseæ˜¯éå¸¸æ˜‚è´µçš„ï¼ŒåŸºäºFlexLMæˆ–RLMçš„ï¼Œç»“åˆLicenseè°ƒåº¦ï¼Œè¾¾åˆ°Licenseçš„æœ€å¤§åŒ–ä½¿ç”¨ã€‚ Data Manager åœ¨on-premise LSFèµ„æºä¸å¤Ÿæ—¶ï¼Œå°†jobå¼¹åˆ°äº‘ä¸Šï¼Œæ­¤æ—¶å€ŸåŠ©Data Manageræ¥å†³å®šå“ªäº›æ•°æ®æ˜¯éœ€è¦ä¼ ä¸Šå»ç»™jobä½¿ç”¨çš„ã€‚ Resource Connector å¤šé›†ç¾¤æ—¶ä½¿ç”¨ã€‚åœ¨on-premise LSFèµ„æºä¸å¤Ÿæ—¶ï¼Œåˆ°å®¢æˆ·æŒ‡å®šçš„äº‘ä¸Šå»åŠ¨æ€ç”³è¯·æœºå™¨å¹¶å°†å…¶åŠ åˆ°ç°æœ‰çš„LSFé›†ç¾¤ï¼Œç”¨æ¥è·‘ä½œä¸šã€‚å½“ä½œä¸šè·‘å®Œåé‡Šæ”¾èµ„æºã€‚ Explorer ç›‘æ§é›†ç¾¤çš„ä½¿ç”¨æƒ…å†µã€‚å®šæœŸäº§ç”ŸæŠ¥è¡¨ï¼Œæ˜¯å¦è¦æ‰©ç¼©å®¹ã€‚ 2.6 Editions2.6.1 IBM Spectrum LSF Community Edition Community Editionå¯æ‰©å±•åˆ°10ä¸ªèŠ‚ç‚¹ï¼Œæœ€å¤§jobæ•°2,500ä¸ªï¼›2.6.2 IBM Spectrum LSF Suite Editionså•†ä¸šæœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼ŒåŠŸèƒ½è¶Šæ¥è¶Šå¼ºå¤§ï¼š Workgroupå¯æ‰©å±•åˆ° 128 ä¸ªèŠ‚ç‚¹ï¼Œæœ€å¤§jobæ•°25,000ä¸ªï¼› HPCå¯æ‰©å±•è‡³ 1,024 ä¸ªèŠ‚ç‚¹ï¼Œæœ€å¤§jobæ•°250,000ä¸ªï¼› Enterpriseçš„èŠ‚ç‚¹ä¸jobæ•°é‡æ²¡æœ‰é™åˆ¶ã€‚2.6.3 ç‰ˆæœ¬å·ä»‹ç» 10.1.0.13 çš„10.1.0ä¸ºmajor releaseï¼Œ13ä¸ºfix packï¼ˆæ¯0.5~1å¹´ä¸€æ¬¡ï¼‰ã€‚2.7 å®‰è£…ä¸é…ç½®2.7.1 æ ‡å‡†ç‰ˆå®‰è£…ä¸ä½¿ç”¨ ç¡®å®šç”¨äºå®‰è£…LSFçš„æœåŠ¡å™¨æ˜¯ä»€ä¹ˆCPUæ¶æ„ï¼Œä»€ä¹ˆæ“ä½œç³»ç»Ÿï¼› åœ¨IBM passport advantageä¸Šé¢ä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ… lsf10.1_lsfinstall.tar.Z(Passport Advantage) lsf10.1_OS-Spec.tar.Z(Passport Advantage) lsf10.1_OS-Spec-build-number.tar.Z(Fix Central) platform_lsf_std_entitlement.dat #è®¸å¯è¯ï¼Œå¦‚æœæ— è®¸å¯è¯ï¼Œå®‰è£…å®Œä¹‹åæ˜¯ç¤¾åŒºç‰ˆã€‚ è§£å‹ ä¿®æ”¹é…ç½®æ–‡ä»¶install.config å®‰è£…ï¼Œå»ºè®®åœ¨å…±äº«æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚Spectrum Scaleï¼Œå³åŸæ¥çš„GPFSï¼Œå¯è¢«æ·±åº¦é›†æˆçš„ï¼Œå¦‚æ¯ä½œä¸šå ç”¨æ–‡ä»¶ç³»ç»Ÿå¤§å°ï¼›æˆ–NFSï¼‰ä¸‹å®‰è£…ï¼Œå‘½ä»¤å¦‚ä¸‹$ ./lsfinstall -f install.config$ $LSF_ENVDIR/../10.1/install/patchinstall &lt;/path/to/fp&gt; å®‰è£…æœ€æ–°çš„fix pack -ï¼ˆæˆªæ­¢è‡³å‘ç¨¿ï¼Œæ˜¯FP13ã€‚äº2022å¹´ä¸­æ—¬å‘å¸ƒï¼‰ã€‚è¯·æ³¨æ„ï¼Œæœ€æ–°çš„fix packå·²ç»åŒ…å«å½“å‰major releaseçš„æ‰€æœ‰fix packäº†ï¼Œä¸éœ€è¦å°†FP1â€¦FP12éƒ½è¡¥ä¸Šï¼Œç›´æ¥æ‰“FP13å³å¯ã€‚ å¯åŠ¨LSF å¯åŠ¨æœ¬æœºdaemon # lsadmin limstartup# lsadmin resstartup# badmin hstartup å¯åŠ¨å…¶ä»–æœºå™¨çš„daemon # lsadmin limstartup host1 [host2 ... hostn]# lsadmin resstartup host1 [host2 ... hostn]# badmin hstartup host1 [host2 ... hostn] å¯åŠ¨æ‰€æœ‰åœ¨lsf.clusterå®šä¹‰çš„ä¸»æœºçš„daemon # lsadmin limstartup all# lsadmin resstartup all# badmin hstartup all# lsfstartup #æˆ–è€…ä¸€æ¡å‘½ä»¤ æ–°å¢æœºå™¨ç¼–è¾‘/conf/lsf.cluster.æ–‡ä»¶ï¼Œå°†æ–°å¢çš„æœºå™¨åŠ è¿›æ¥ï¼Œç„¶åæ‰§è¡Œ`lsadmin reconfig; badmin mbdrestart`ä»¥åŠ`lsadmin limstartup host1 [host2 ... hostn]; lsadmin resstartup host1 [host2 ... hostn]; badmin hstartup host1 [host2 ... hostn]`ã€‚ LSFå¯åŠ¨çš„æœåŠ¡ä»¥åŠé»˜è®¤ç«¯å£ LSF Master LSF Server Port Desc lim lim 7869 Load Information Manager pim pim Â  Process information Manager res res 6878 Remote Execution Server sbatchd sbatchd 6882 Slave Batch Daemon mbatchd Â  6881 Master Batch Daemon mbschd Â  Â  Master Batch Scheduler åˆå§‹åŒ–source /path/to/lsf/conf/cshrc.lsf #for csh. /path/to/lsf/conf/profile.lsf # for bashåˆå§‹åŒ–å®Œäº†ä¹‹åï¼Œæ‰§è¡Œwhich bsubå¯ä»¥éªŒè¯æ˜¯å¦åˆå§‹åŒ–æˆåŠŸã€‚ å¸¸ç”¨å‘½ä»¤ CLI Desc bsub æäº¤ä½œä¸šã€‚å¤šä¸ªbsubå¹¶è¡Œè·‘ bjobs æŸ¥çœ‹ä½œä¸šï¼Œä»å†…å­˜é‡Œæ‰¾ bhist æŸ¥çœ‹ä½œä¸šçš„å†å²ä¿¡æ¯ï¼Œä»lsf eventsæ–‡ä»¶é‡Œæ‰¾ bbot/btop å°†pending jobç§»åˆ°æœ€å/æœ€å‰ bkill æ€æ‰ä½œä¸šï¼ŒåŠ ä¸Šjobidæ€æ‰æŒ‡å®šjobï¼Œæˆ–è€…åŠ 0killæ‰å½“å‰ç”¨æˆ·çš„å…¨éƒ¨ä½œä¸š bmod ä¿®æ”¹ä½œä¸šçš„æäº¤é€‰é¡¹ bpeek å°†æœªå®Œæˆä½œä¸šçš„stdoutä¸stderræ˜¾ç¤º bstop/bresume æŒ‚èµ·/æ¢å¤ä½œä¸š bswitch å°†æœªå®Œæˆçš„ä½œä¸šï¼Œæ›´æ¢ä¸€ä¸ªé˜Ÿåˆ— æ³¨æ„ï¼š LSFå®‰è£…åä¸æ”¯æŒcluster nameä¿®æ”¹ã€‚ ä½¿ç”¨IBM certifiedçš„GPFSæ¥å®‰è£…LSFã€‚ä¹Ÿæ”¯æŒNFSï¼Œä½†æ€§èƒ½ç¨å·®ã€‚ä¹Ÿå¯ä»¥å®‰è£…åœ¨localæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä¸ºäº†æ”¯æŒfailoverï¼Œå»ºè®®Masterå®‰è£…åœ¨å…±äº«æ–‡ä»¶ç³»ç»Ÿã€‚ Masteræ”¯æŒåœ¨ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºå®‰è£…ï¼Œä»¥æ»¡è¶³å®¢æˆ·å¯¹æ··åˆäº‘çš„éƒ¨ç½²éœ€æ±‚ã€‚ æ ‡å‡†ç‰ˆçš„cliå®‰è£…ï¼ŒSuitç‰ˆçš„Ansibleå®‰è£… Suitç‰ˆä»¥.binç»“å°¾ï¼Œä¸éœ€å…ˆå®‰è£…åŸºç¡€åŒ…å†å®‰è£…fix packåŒ…ã€‚è€Œæ ‡å‡†ç‰ˆåˆ™ä¸¤æ­¥éª¤åˆ†å¼€ã€‚ Entitlement Fileï¼Œæ ‡å‡†ç‰ˆé‡Œéœ€æ‰‹åŠ¨ä¸‹è½½æŒ‡å®šï¼Œè€ŒSuitç‰ˆæœ¬å·²å†…ç½®ã€‚ æœ€å¤§Nodeæ•°é‡ï¼šæ ‡å‡†ç‰ˆé‡ŒæŠ€æœ¯ä¸Šä¸é™åˆ¶ï¼Œé€šè¿‡åˆåŒé™åˆ¶ã€‚è€ŒSuitç‰ˆæŠ€æœ¯ä¸Šå°±é™åˆ¶äº†æœ€å¤§Nodeæ•°é‡ã€‚2.7.2 LSF Suiteå®‰è£…ä¸ä½¿ç”¨LSF Suiteå®‰è£…ä¸æ ‡å‡†ç‰ˆå®‰è£…ä¸ä¸€æ ·ï¼Œå®ƒæ˜¯ç´¯ç§¯å‹çš„ï¼Œä¸€ä¸ªbinåŒ…å°±åŒ…å«äº†ä¹‹å‰æ‰€æœ‰çš„fix packä»¥åŠentitlementæ–‡ä»¶ã€‚10.2.0.9ä»¥åŠä¹‹å‰æ˜¯åŒ…å«äº†ElasticSearchçš„ï¼Œä¹‹åæ˜¯ä¸åŒ…å«äº†ï¼Œå…è®¸ç”¨æˆ·è‡ªå·±æŒ‡å®šElasticSearchã€‚ ç¡®å®šç”¨äºå®‰è£…LSFçš„æœåŠ¡å™¨æ˜¯ä»€ä¹ˆCPUæ¶æ„ï¼Œä»€ä¹ˆæ“ä½œç³»ç»Ÿï¼› ä¸‹è½½å®‰è£…åŒ…ï¼šlsfswg10.2.0.13-x86_64.bin æ‰§è¡Œè‡ªè§£å‹ï¼š./lsfswg10.2.0.13-x86_64.bin åˆ‡æ¢ç›®å½•åˆ°/opt/ibm/lsf_installer/playbook ç¼–è¾‘ä¸»æœºåˆ—è¡¨æ–‡ä»¶lsf-inventoryï¼Œå°†ä½œä¸ºmasterã€serverã€clientã€GUI_Hostã€DB_Hostçš„æœºå™¨åŠ è¿›æ¥ã€‚ ç¼–è¾‘é…ç½®æ–‡ä»¶lsf-config.ymlï¼Œè®¾ç½®é›†ç¾¤åç§°ã€å…±äº«ç›®å½•ã€JDBCè¿æ¥ä¸²ä»¥åŠå…¶ä»–çš„ä¸€äº›è®¾ç½®ã€‚é»˜è®¤å½“å‰æœºå™¨æ˜¯GUIèŠ‚ç‚¹ã€æ•°æ®åº“èŠ‚ç‚¹ã€‚ æµ‹è¯•é…ç½®æ–‡ä»¶ä»¥åŠä¸»æœºçš„è¿é€šæ€§ï¼š ansible-playbook -i lsf-inventory lsf-config-test.ymlansible-playbook -i lsf-inventory lsf-predeploy-test.yml ä¸Šä¸€æ­¥æµ‹è¯•æ²¡é—®é¢˜æ—¶ï¼Œåˆ™æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š ansible-playbook -i lsf-inventory lsf-deploy.yml 2.7.3 é˜Ÿåˆ—é˜Ÿåˆ—åˆ’åˆ†ï¼Œæ ¹æ®ä¸åŒçš„è¿è¡Œæ—¶é—´ã€äº¤äº’ç±»å‹ç­‰æ¥åˆ’åˆ†é˜Ÿåˆ—ã€‚2.8 é«˜çº§ç‰¹æ€§ ä»_ï¼Ÿ_ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒå¸¦lockidçš„badmin hcloseï¼Œæ–¹ä¾¿ç®¡ç†å‘˜åšä¸åŒåŸå› çš„hcloseæ“ä½œã€‚ æœ‰Workload TemplateåŠŸèƒ½ï¼Œä¾¿äºç”¨æˆ·æ ¹æ®ä¸åŒä¸šåŠ¡ç±»å‹ï¼Œå¿«é€Ÿä¸Šæ‰‹LSFçš„ä½¿ç”¨ã€‚ æä¾›ç”¨æˆ·å„ç§ç»ˆç«¯äº¤äº’ï¼ŒåŒ…æ‹¬cliï¼Œwebï¼Œmobileä»¥åŠapiç­‰ã€‚ process manageræ”¯æŒflowçš„å®šåˆ¶2.9 å‘¨è¾¹ç»„ä»¶æ”¯æŒ RTMï¼ˆReport, Track, and Monitorï¼‰æ”¯æŒå¯¹ä¸¤ç§Licenseç®¡ç†å™¨ä½¿ç”¨æƒ…å†µçš„æ”¶é›†å±•ç¤ºï¼šFlexLMä¸RLMã€‚ ä¸€ä¸ªRTMæ”¯æŒå¯¹å¤šä¸ªLSFé›†ç¾¤ç›‘æ§ã€‚ License Scheduleræ”¯æŒå¯¹ä¸¤ç§Licenseç®¡ç†å™¨â€”â€”FlexLMä¸RLMçš„bsub rusageæ¡ä»¶ä½¿ç”¨ã€‚ æ”¯æŒDockerä½œä¸šã€‚å¦ï¼ŒK8Såœ¨è°ƒåº¦æ–¹é¢èƒ½åŠ›å¼±ï¼ŒLSFæ”¯æŒä½œä¸ºK8Sçš„è°ƒåº¦ç»„ä»¶ä½¿ç”¨ã€‚ LSF RTM Serveræ˜¯å¼€æºçš„ï¼Œå–æœåŠ¡ã€‚è€ŒRTM Pollerï¼ˆRTM Data Collectorsï¼‰æ˜¯é—­æºçš„å•†ä¸šäº§å“ï¼Œé‡‡é›†å­˜å‚¨çš„æ•°æ®ç»“æ„ç›¸å¯¹ç¨³å®šï¼Œå­—æ®µä¸€èˆ¬åªå¢ä¸å‡ï¼Œæ–¹ä¾¿å®¢æˆ·åŸºäºè¯¥æ•°æ®æºåšå®šåˆ¶åŒ–èšåˆä¸å±•ç¤ºã€‚ Application Centerçš„æƒé™æ¨¡å‹æ˜¯RBACçš„ã€‚ LSFç®¡ç†æ•°æ®å­˜æ”¾åœ¨MeraiDBï¼Œä½œä¸šæ—¥å¿—å­˜æ”¾åœ¨ElasticSearché‡Œã€‚2.10 å¦‚ä½•è¯•ç”¨ï¼Ÿ è‡ªè¡Œå®‰è£…ç¤¾åŒºç‰ˆ ä¸ä»£ç†å•†æˆ–è€…åŸå‚è”ç³»ï¼Œç”³è¯·ç§æœ‰åŒ–éƒ¨ç½²æµ‹è¯•ç¯å¢ƒ åœ¨https://techzone.ibm.com/collection/ibm-spectrum-lsf-suiteç”³è¯·suiteç‰ˆæœ¬æµ‹è¯•ï¼Œè‡ªå¸¦å°‘é‡Nodeï¼Œéœ€æ³¨å†Œã€‚3. Q&amp;A lsadminä¸adminçš„åŒºåˆ«æ˜¯ï¼Ÿ The lsadmin command controls the operation of the lim and res daemons.ï¼ˆbaseéƒ¨åˆ†ï¼Œä¸€èˆ¬æ˜¯ä¿®æ”¹äº†lsã€lsfå¼€å¤´çš„é…ç½®æ–‡ä»¶åä½¿ç”¨ã€‚ï¼‰The badmin command controls the operation of the mbatchd and sbatchd daemons.ï¼ˆbatchéƒ¨åˆ†ï¼Œä¸€èˆ¬æ˜¯ä¿®æ”¹äº†lsbå¼€å¤´çš„é…ç½®æ–‡ä»¶åä½¿ç”¨ã€‚ï¼‰ æœºå™¨å¯ä»¥è·‘å¤šå°‘ä»»åŠ¡ï¼Œå¦‚ä½•ç¡®å®šï¼Ÿ é»˜è®¤æ˜¯å¤šå°‘ä¸ªcoreï¼Œå°±å¯ä»¥è·‘å¤šå°‘ä¸ªä»»åŠ¡ï¼Œé€šè¿‡bhostsæŸ¥çœ‹çš„MAXå­—æ®µã€‚ä½†ä¹Ÿå¯ä»¥ä¿®æ”¹/conf/lsbatch//configdir/lsb.hostsæ–‡ä»¶æ¥ä¿®æ”¹ã€‚å‚è€ƒ(MXJ settings in lsb.hosts file)[https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=files-lsbhosts] å¦‚æœå°†LSFå®•æ‰äº†ï¼Œä½œä¸šè¿˜èƒ½æ¢å¤å—ï¼Ÿ /workç›®å½•ï¼Œå­˜æ”¾ä½œä¸šçš„çŠ¶æ€ä¿¡æ¯ã€‚å½“é›†ç¾¤ä»å¼‚å¸¸æ¢å¤æ­£å¸¸æ—¶ï¼ŒLSFä¼šä»è¿™ä¸ªç›®å½•è¯»å–ä¿¡æ¯ï¼Œæ¢å¤ä½œä¸šçš„çŠ¶æ€ã€‚ å¦‚æœéœ€è¦ç»‘å®šcoreï¼Œå¦‚ä½•æ“ä½œï¼Ÿ è®¾ç½®LSF CPU affinityï¼Œåˆ©ç”¨control groupå°†ä½œä¸šçš„æ‰€æœ‰è¿›ç¨‹ç»‘å®šåˆ°æŸä¸€ä¸ªcoreä¸Šã€‚è¿™æ ·ä¸ä¼šè¢«åˆ«çš„ä½œä¸šä½¿ç”¨ã€‚ 4. è‡´è°¢æ„Ÿè°¢ä¸»åŠæ–¹ä»¥åŠIBMçš„åˆ†äº«ã€‚5. å‚è€ƒèµ„æ–™ https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=linux-preparing-your-systems-installation for Integrating LDAP with LSF. https://www.ibm.com/docs/en/spectrum-lsf-rtm/10.1.0?topic=alerts-setting-up-email-server-notifications for settings up email server notifications for RTM. https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=limits-specify-resource-usage for specifying resource usage limits. https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=resources-define-ncpusprocessors-cores-threads for ncpus definition. https://www.ibm.com/docs/en/spectrum-lsf/10.1.0?topic=migrate-upgrade for migrating or upgrading LSF. https://www.ibm.com/docs/en/slsfh/10.2.0?topic=updating-installation-scenarios 7." }, { "title": "ChatGPTæœºå™¨äºº", "url": "/posts/ai-chatbot/", "categories": "ai-posts", "tags": "formatting, links", "date": "2023-02-28 01:28:16 +0000", "snippet": "èƒŒæ™¯èŠå¤©ç”Ÿæˆå‹é¢„è®­ç»ƒå˜æ¢æ¨¡å‹ï¼ˆè‹±æ–‡ï¼šChat Generative Pre-trained Transformerï¼‰ç®€ç§°ChatGPTï¼Œæ˜¯ç”±OpenAIå¼€å‘çš„ä¸€ä¸ªäººå·¥æ™ºèƒ½èŠå¤©æœºå™¨äººç¨‹åºï¼Œäº2022å¹´11æœˆæ¨å‡ºã€‚è¯¥ç¨‹åºä½¿ç”¨åŸºäºGPT-3.5æ¶æ„çš„å¤§å‹è¯­è¨€æ¨¡å‹å¹¶é€šè¿‡å¼ºåŒ–å­¦ä¹ è¿›è¡Œè®­ç»ƒã€‚ ChatGPTç›®å‰ä»ä»¥æ–‡å­—æ–¹å¼äº¤äº’ï¼Œè€Œé™¤äº†å¯ä»¥é€šè¿‡äººç±»è‡ªç„¶å¯¹è¯æ–¹å¼è¿›è¡Œäº¤äº’ï¼Œè¿˜å¯ä»¥ç”¨äºç›¸å¯¹å¤æ‚çš„è¯­è¨€å·¥ä½œï¼ŒåŒ…æ‹¬è‡ª...", "content": "èƒŒæ™¯èŠå¤©ç”Ÿæˆå‹é¢„è®­ç»ƒå˜æ¢æ¨¡å‹ï¼ˆè‹±æ–‡ï¼šChat Generative Pre-trained Transformerï¼‰ç®€ç§°ChatGPTï¼Œæ˜¯ç”±OpenAIå¼€å‘çš„ä¸€ä¸ªäººå·¥æ™ºèƒ½èŠå¤©æœºå™¨äººç¨‹åºï¼Œäº2022å¹´11æœˆæ¨å‡ºã€‚è¯¥ç¨‹åºä½¿ç”¨åŸºäºGPT-3.5æ¶æ„çš„å¤§å‹è¯­è¨€æ¨¡å‹å¹¶é€šè¿‡å¼ºåŒ–å­¦ä¹ è¿›è¡Œè®­ç»ƒã€‚ ChatGPTç›®å‰ä»ä»¥æ–‡å­—æ–¹å¼äº¤äº’ï¼Œè€Œé™¤äº†å¯ä»¥é€šè¿‡äººç±»è‡ªç„¶å¯¹è¯æ–¹å¼è¿›è¡Œäº¤äº’ï¼Œè¿˜å¯ä»¥ç”¨äºç›¸å¯¹å¤æ‚çš„è¯­è¨€å·¥ä½œï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ–‡æœ¬ç”Ÿæˆã€è‡ªåŠ¨é—®ç­”ã€è‡ªåŠ¨æ‘˜è¦ç­‰åœ¨å†…çš„å¤šç§ä»»åŠ¡ã€‚å¦‚ï¼šåœ¨è‡ªåŠ¨æ–‡æœ¬ç”Ÿæˆæ–¹é¢ï¼ŒChatGPTå¯ä»¥æ ¹æ®è¾“å…¥çš„æ–‡æœ¬è‡ªåŠ¨ç”Ÿæˆç±»ä¼¼çš„æ–‡æœ¬ï¼ˆå‰§æœ¬ã€æ­Œæ›²ã€ä¼åˆ’ç­‰ï¼‰ï¼Œåœ¨è‡ªåŠ¨é—®ç­”æ–¹é¢ï¼ŒChatGPTå¯ä»¥æ ¹æ®è¾“å…¥çš„é—®é¢˜è‡ªåŠ¨ç”Ÿæˆç­”æ¡ˆã€‚è¿˜å…·æœ‰ç¼–å†™å’Œè°ƒè¯•è®¡ç®—æœºç¨‹åºçš„èƒ½åŠ›ã€‚åœ¨æ¨å¹¿æœŸé—´ï¼Œæ‰€æœ‰äººå¯ä»¥å…è´¹æ³¨å†Œï¼Œå¹¶åœ¨ç™»å½•åå…è´¹ä½¿ç”¨ChatGPTå®ç°ä¸AIæœºå™¨äººå¯¹è¯ã€‚ç”±äºä¸€äº›åŸå› ï¼Œå¤§é™†å°šæœªèƒ½å¤Ÿè®¿é—®è¿™ä¸ªæœ‰è¶£ä¸”å¼ºå¤§çš„å¯¹è¯æœºå™¨äººã€‚æœ‰äººæ•é”åœ°è¯†åˆ«åˆ°äº†å•†æœºï¼Œåšèµ·äº†å¾®ä¿¡èŠå¤©æœºå™¨äººï¼Œå¹¶åšäº†å•†ä¸šåŒ–å˜ç°ï¼Œæ®è¯´éƒ¨åˆ†ç²‰ä¸å¤šçš„å·ï¼ŒæˆåŠŸå˜ç°è¶…ç™¾ä¸‡å…ƒã€‚ChatGPTæœºå™¨äººæœ‰å“ªäº›ä¾æ‰˜äºå¾®ä¿¡ç”Ÿæ€çš„ï¼š å¾®ä¿¡è®¢é˜…å·ï¼ˆå…¬ä¼—å·ï¼‰ å¾®ä¿¡æœåŠ¡å·ï¼ˆå…¬ä¼—å·ï¼‰ å¾®ä¿¡å°ç¨‹åºä¾æ‰˜äºå…¬å¸ä¼ä¸šå¾®ä¿¡çš„ï¼š ä¼ä¸šå¾®ä¿¡æœºå™¨äººï¼ŒæœåŠ¡äºå…¬å¸å†…éƒ¨ç”¨æˆ·ä¾æ‰˜äºå¼€æºç”Ÿæ€ï¼š å¦‚åšæˆVSCodeæ’ä»¶ï¼Œåšè‡ªåŠ¨codingã€ä»£ç æ£€æŸ¥ã€bugä¿®å¤ç­‰åŠŸèƒ½ã€‚æ•£å…µæ¸¸å‹‡ï¼š è‡ªå»ºwebï¼Œé€šè¿‡ä¸åŒæ¸ é“å¼•æµå¦‚ä½•åšChatGPTæœºå™¨äºº æ— æ³•ç›´æ¥è®¿é—®chat.openai.comçš„ç°æˆå®¢æˆ·ç«¯ï¼Œå¦‚å¾®ä¿¡ï¼šåœ¨ä¸€å°èƒ½å¤Ÿè®¿é—®chat.openai.comçš„æœåŠ¡å™¨ï¼Œç§Ÿç”¨äº‘è™šæ‹Ÿæœºæˆ–è€…äº‘å‡½æ•°å¹³å°ï¼Œè¿è¡Œä¸€ä¸ªæœºå™¨äººï¼Œè¿™ä¸ªæœºå™¨äººæ¥å—æ¥è‡ªå¾®ä¿¡çš„è¯·æ±‚ï¼Œéšåå°†è¯·æ±‚forwardåˆ°chat.openai.comï¼Œéšåå°†ä»chat.openai.comè¿”å›çš„ç»“æœå‘å›ç»™å¾®ä¿¡ã€‚ è‡ªå»ºçš„webï¼šåœ¨ä¸€å°èƒ½å¤Ÿè®¿é—®chat.openai.comçš„æœåŠ¡å™¨ï¼Œç§Ÿç”¨äº‘è™šæ‹Ÿæœºã€‚æ­å»ºwebç³»ç»Ÿï¼Œåå°ä¸ºchat.openai.com apiï¼Œå‰å°è‡ªè¡Œå®šåˆ¶ã€‚ æ€»ç»“æ€»ä¹‹ï¼ŒChatGPTè¿™é˜µé£ï¼Œå¾ˆå¤šå•†ä¸šå¤§ä½¬éƒ½å¼€å§‹æƒŠæ…Œäº†ï¼Œçº·çº·all inã€‚" }, { "title": "AIå¯¹è¯-é¢åº¦æå‡", "url": "/posts/ai-quota/", "categories": "ai-posts", "tags": "formatting, links", "date": "2023-02-26 06:44:16 +0000", "snippet": "è¯´æ˜é¢åº¦æå‡è¯´æ˜ä¸€ã€è½¬è´¦å‰ï¼Œè¯·åœ¨â€œAIæ‹¯æ•‘ä¸–ç•Œâ€å…¬ä¼—å·å‘é€ id æŸ¥çœ‹idå·äºŒã€è½¬è´¦æ—¶ï¼Œè¯·å¤‡æ³¨idå·AIå¯¹è¯è¯´æ˜ä¸€ã€å› openaiæœåŠ¡å™¨ç»å¸¸æ»¡è½½ï¼Œé—®çš„é—®é¢˜å¯èƒ½å¤„ç†æ—¶é—´å¾ˆä¹…å¯¼è‡´è¶…æ—¶ï¼Œå¯èƒ½éœ€è¦é‡æ–°æé—®ã€‚äºŒã€å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·åœ¨æœ¬å¸–å›å¤ï¼ŒæŠ€æœ¯å°å“¥ä¼šæŠ½ç©ºå¤ç°å¹¶ç€æ‰‹è§£å†³ã€‚ä¸‰ã€æœ¬å…¬ä¼—å·å…³æ³¨äººæ•°è¾ƒå¤šï¼ŒæŠ€æœ¯å°å“¥åœ¨åŠªåŠ›æ€è€ƒå¦‚ä½•æå‡ç”¨æˆ·å¹¶å‘æ•°é‡ï¼Œæ•¬è¯·æœŸå¾…ã€‚å…¥é—¨å¥—é¤30æ¬¡ç‰¹æƒ ä½“éªŒå¡ï¼šåŸä»·14.9å…ƒï¼Œæ´»åŠ¨ä»·9.99å…ƒã€‚...", "content": "è¯´æ˜é¢åº¦æå‡è¯´æ˜ä¸€ã€è½¬è´¦å‰ï¼Œè¯·åœ¨â€œAIæ‹¯æ•‘ä¸–ç•Œâ€å…¬ä¼—å·å‘é€ id æŸ¥çœ‹idå·äºŒã€è½¬è´¦æ—¶ï¼Œè¯·å¤‡æ³¨idå·AIå¯¹è¯è¯´æ˜ä¸€ã€å› openaiæœåŠ¡å™¨ç»å¸¸æ»¡è½½ï¼Œé—®çš„é—®é¢˜å¯èƒ½å¤„ç†æ—¶é—´å¾ˆä¹…å¯¼è‡´è¶…æ—¶ï¼Œå¯èƒ½éœ€è¦é‡æ–°æé—®ã€‚äºŒã€å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·åœ¨æœ¬å¸–å›å¤ï¼ŒæŠ€æœ¯å°å“¥ä¼šæŠ½ç©ºå¤ç°å¹¶ç€æ‰‹è§£å†³ã€‚ä¸‰ã€æœ¬å…¬ä¼—å·å…³æ³¨äººæ•°è¾ƒå¤šï¼ŒæŠ€æœ¯å°å“¥åœ¨åŠªåŠ›æ€è€ƒå¦‚ä½•æå‡ç”¨æˆ·å¹¶å‘æ•°é‡ï¼Œæ•¬è¯·æœŸå¾…ã€‚å…¥é—¨å¥—é¤30æ¬¡ç‰¹æƒ ä½“éªŒå¡ï¼šåŸä»·14.9å…ƒï¼Œæ´»åŠ¨ä»·9.99å…ƒã€‚ç»æµå¥—é¤128æ¬¡ç‰¹æƒ ä½“éªŒå¡ï¼šåŸä»·49.9å…ƒï¼Œæ´»åŠ¨ä»·19.99å…ƒã€‚è±ªåå¥—é¤298æ¬¡ç‰¹æƒ ä½“éªŒå¡ï¼šåŸä»·69.9å…ƒï¼Œæ´»åŠ¨ä»·49.99å…ƒã€‚" }, { "title": "a new test post", "url": "/posts/a-more-new-test-post/", "categories": "sample-posts", "tags": "formatting, links", "date": "2023-02-26 06:40:16 +0000", "snippet": "è¿™æ˜¯åˆä¸€ç¯‡æ–°çš„æµ‹è¯•åšå®¢æ–‡ç« ã€‚", "content": "è¿™æ˜¯åˆä¸€ç¯‡æ–°çš„æµ‹è¯•åšå®¢æ–‡ç« ã€‚" }, { "title": "a new test post", "url": "/posts/a-new-test-post/", "categories": "sample-posts", "tags": "formatting, links", "date": "2023-02-26 06:28:16 +0000", "snippet": "è¿™æ˜¯ä¸€ç¯‡æ–°çš„æµ‹è¯•åšå®¢æ–‡ç« ã€‚", "content": "è¿™æ˜¯ä¸€ç¯‡æ–°çš„æµ‹è¯•åšå®¢æ–‡ç« ã€‚" }, { "title": "a post with giscus comments", "url": "/posts/giscus-comments/", "categories": "sample-posts, external-services", "tags": "", "date": "2022-12-10 15:59:00 +0000", "snippet": "This post shows how to add GISCUS comments.", "content": "This post shows how to add GISCUS comments." }, { "title": "Spackæ•™ç¨‹ï¼ˆåŸºç¡€ï¼‰", "url": "/posts/spack-tutorial-basics/", "categories": "icenv", "tags": "spack", "date": "2022-11-07 02:42:00 +0000", "snippet": "å‡†å¤‡æ³¨ï¼šæœ¬æ•™ç¨‹å‡åœ¨Ubuntu:20.04é•œåƒä¸‹æ¼”ç¤ºã€‚è·å–é•œåƒå¹¶è¿è¡Œï¼Œ[wanlinwang@VM-119-18-tencentos ~]$ docker pull ubuntu:22.0422.04: Pulling from library/ubuntuaece8493d397: Pull complete Digest: sha256:2b7412e6465c3c7fc5bb21d3e...", "content": "å‡†å¤‡æ³¨ï¼šæœ¬æ•™ç¨‹å‡åœ¨Ubuntu:20.04é•œåƒä¸‹æ¼”ç¤ºã€‚è·å–é•œåƒå¹¶è¿è¡Œï¼Œ[wanlinwang@VM-119-18-tencentos ~]$ docker pull ubuntu:22.0422.04: Pulling from library/ubuntuaece8493d397: Pull complete Digest: sha256:2b7412e6465c3c7fc5bb21d3e6f1917c167358449fecac8176c6e496e5c1f05fStatus: Downloaded newer image for ubuntu:22.04docker.io/library/ubuntu:22.04[wanlinwang@VM-119-18-tencentos ~]$ docker run -ti ubuntu:22.04root@284b243a39ec:/# cdroot@284b243a39ec:~#å®‰è£…ç›¸å…³ä¾èµ–åŒ…ï¼ˆå…¶ä¸­gitç”¨æ¥ä¸gitä»“åº“äº¤äº’ï¼Œpython3ç”¨ä½œspackçš„è§£æå™¨ï¼Œgcc gfortran fort77 g++ clangç”¨ä½œspackæ„å»ºå·¥å…·æ—¶çš„ç¼–è¯‘å™¨ï¼Œmakeæ„å»ºï¼‰ï¼Œroot@284b243a39ec:~# apt updateroot@284b243a39ec:~# apt install git python3root@284b243a39ec:~# apt install gcc gfortran fort77 g++ clangroot@284b243a39ec:~# apt install makeä¸‹è½½spackï¼Œroot@284b243a39ec:~# git clone --depth=100 --branch=releases/v0.20 https://github.com/spack/spack.git ~/spackCloning into '/root/spack'...remote: Enumerating objects: 19032, done.remote: Counting objects: 100% (19032/19032), done.remote: Compressing objects: 100% (10494/10494), done.remote: Total 19032 (delta 2022), reused 12091 (delta 1506), pack-reused 0Receiving objects: 100% (19032/19032), 12.33 MiB | 15.21 MiB/s, done.Resolving deltas: 100% (2022/2022), done.root@284b243a39ec:~# cd ~/spackåˆå§‹åŒ–ï¼Œroot@284b243a39ec:~/spack# . share/spack/setup-env.shroot@284b243a39ec:~/spack# spack compiler findä¸Šæ‰‹spack listæŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„åŒ…ï¼Œroot@284b243a39ec:~/spack# spack listspack listæ”¯æŒæŸ¥è¯¢è¯­å¥root@284b243a39ec:~/spack# spack list pytho* #å‰ç¼€åŒ¹é…æŸ¥è¯¢python==&gt; 1 packagesroot@284b243a39ec:~/spack# spack list pytho #æ¨¡ç³ŠåŒ¹é…æŸ¥è¯¢py-antlr4-python3-runtime py-ipython py-mysql-connector-python py-python-constraint py-python-engineio py-python-jose py-python-louvain py-python-memcached py-python-socketio py-python3-openid py-systemd-pythonpy-avro-python3 py-ipython-cluster-helper py-openslide-python py-python-crfsuite py-python-fmask py-python-json-logger py-python-lsp-jsonrpc py-python-multipart py-python-sotools py-python3-xlib py-types-python-dateutilpy-biopython py-ipython-genutils py-psij-python py-python-daemon py-python-fsutil py-python-keystoneclient py-python-lsp-server py-python-oauth2 py-python-subunit py-pythonqwt py-wxpythonpy-bx-python py-kb-python py-python-benedict py-python-dateutil py-python-gitlab py-python-ldap py-python-lzo py-python-picard py-python-swiftclient py-pythonsollya pythonpy-dnspython py-meson-python py-python-bioformats py-python-docs-theme py-python-igraph py-python-levenshtein py-python-magic py-python-ptrace py-python-utils py-saga-python r-findpythonpy-gitpython py-mkdocstrings-python py-python-box py-python-dotenv py-python-javabridge py-python-libsbml py-python-mapnik py-python-rapidjson py-python-xlib py-scientificpython xtensor-pythonpy-google-api-python-client py-mmtf-python py-python-certifi-win32 py-python-editor py-python-jenkins py-python-logstash py-python-markdown-math py-python-slugify py-python-xmp-toolkit py-spython==&gt; 76 packageså®‰è£…ä¸€ä¸ªåŒ…ï¼Œå‘½åspack install &lt;package_name&gt;root@284b243a39ec:~/spack# spack install zlib==&gt; Installing zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgb==&gt; No binary for zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgb found: installing from source==&gt; Using cached archive: /root/spack/var/spack/cache/_source-cache/archive/b3/b3a24de97a8fdbc835b9833169501030b8977031bcb54b3b3ac13740f846ab30.tar.gz==&gt; No patches needed for zlib==&gt; zlib: Executing phase: 'edit'==&gt; zlib: Executing phase: 'build'==&gt; zlib: Executing phase: 'install'==&gt; zlib: Successfully installed zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgb Stage: 0.04s. Edit: 0.38s. Build: 0.61s. Install: 0.05s. Post-install: 0.02s. Total: 1.12s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgbSpackå®‰è£…åŒ…æ—¶ï¼Œæ”¯æŒä»æºç å®‰è£…ï¼Œæˆ–è€…ä»äºŒè¿›åˆ¶ç¼“å­˜å®‰è£…ã€‚äºŒè¿›åˆ¶ç¼“å­˜çš„å®‰å…¨ï¼Œç”±GPGç­¾åä¿è¯ã€‚root@284b243a39ec:~/spack# spack mirror add tutorial /mirrorroot@284b243a39ec:~/spack# spack buildcache keys --install --trust==&gt; Fetching file:///mirror/build_cache/_pgp/0ACDCFDA91DB974A68C3DDC2F85815B32355CB19.pubgpg: key F85815B32355CB19: public key \"e4s-uo-spack-01\" importedgpg: Total number processed: 1gpg:\t\t imported: 1gpg: inserting ownertrust of 6==&gt; Fetching file:///mirror/build_cache/_pgp/2C8DD3224EF3573A42BD221FA8E0CA3C1C2ADA2F.pubgpg: key A8E0CA3C1C2ADA2F: 5 signatures not checked due to missing keysgpg: key A8E0CA3C1C2ADA2F: public key \"Spack Project Official Binaries &lt;maintainers@spack.io&gt;\" importedgpg: Total number processed: 1gpg:\t\t imported: 1gpg: marginals needed: 3 completes needed: 1 trust model: pgpgpg: depth: 0 valid:\t1 signed: 0\ttrust: 0-, 0q, 0n, 0m, 0f, 1ugpg: inserting ownertrust of 6==&gt; Fetching file:///mirror/build_cache/_pgp/78F3726939CA1B94893B66E8BC86F6FB94429164.pubgpg: key A8E0CA3C1C2ADA2F: 7 signatures not checked due to missing keysgpg: key A8E0CA3C1C2ADA2F: \"Spack Project Official Binaries &lt;maintainers@spack.io&gt;\" 3 new signaturesgpg: key A8E0CA3C1C2ADA2F: \"Spack Project Official Binaries &lt;maintainers@spack.io&gt;\" 1 new subkeygpg: Total number processed: 1gpg:\t\tnew subkeys: 1gpg:\t new signatures: 3gpg: marginals needed: 3 completes needed: 1 trust model: pgpgpg: depth: 0 valid:\t2 signed: 0\ttrust: 0-, 0q, 0n, 0m, 0f, 2uspack install zlib %clang==&gt; Installing zlib-1.2.13-gephbceg3rl2e77o46xyzlk5e4kd3gt3==&gt; Fetching file:///mirror/build_cache/linux-ubuntu22.04-x86_64_v3-clang-14.0.0-zlib-1.2.13-gephbceg3rl2e77o46xyzlk5e4kd3gt3.spec.json.sig==&gt; Fetching file:///mirror/build_cache/linux-ubuntu22.04-x86_64_v3/clang-14.0.0/zlib-1.2.13/linux-ubuntu22.04-x86_64_v3-clang-14.0.0-zlib-1.2.13-gephbceg3rl2e77o46xyzlk5e4kd3gt3.spack==&gt; Extracting zlib-1.2.13-gephbceg3rl2e77o46xyzlk5e4kd3gt3 from binary cache==&gt; zlib: Successfully installed zlib-1.2.13-gephbceg3rl2e77o46xyzlk5e4kd3gt3 Search: 0.00s. Fetch: 0.11s. Install: 0.02s. Total: 0.13s[+] /root/spack/opt/spack/linux-ubuntu22.04-x86_64_v3/clang-14.0.0/zlib-1.2.13-gephbceg3rl2e77o46xyzlk5e4kd3gt3åœ¨è¿è¡Œå®‰è£…å‘½ä»¤å‰ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹æœ‰å“ªäº›ç‰ˆæœ¬ï¼Œroot@284b243a39ec:~/spack# spack versions zlib==&gt; Safe versions (already checksummed): 1.2.13 1.2.12 1.2.11 1.2.8 1.2.3==&gt; Remote versions (not yet checksummed): 1.3 1.2.9 1.2.7.2 1.2.7 1.2.6 1.2.5.2 1.2.5 1.2.4.4 1.2.4.2 1.2.4 1.2.3.8 1.2.3.6 1.2.3.4 1.2.3.2 1.2.2.4 1.2.2.2 1.2.2 1.2.1.1 1.2.0.8 1.2.0.6 1.2.0.4 1.2.0.2 1.2.0 1.1.3 1.1.1 1.0.9 1.0.7 1.0.5 1.0.2 1.0-pre 0.95 0.93 0.91 0.71 0.8 1.2.10 1.2.7.3 1.2.7.1 1.2.6.1 1.2.5.3 1.2.5.1 1.2.4.5 1.2.4.3 1.2.4.1 1.2.3.9 1.2.3.7 1.2.3.5 1.2.3.3 1.2.3.1 1.2.2.3 1.2.2.1 1.2.1.2 1.2.1 1.2.0.7 1.2.0.5 1.2.0.3 1.2.0.1 1.1.4 1.1.2 1.1.0 1.0.8 1.0.6 1.0.4 1.0.1 0.99 0.94 0.92 0.79 0.9å®‰è£…æ—¶ï¼Œå¯ä»¥ä¼ ç¼–è¯‘å™¨flagsï¼Œå¦‚cppflags, cflags, cxxflags, fflags, ldflags, ä¸ ldlibs å‚æ•°ã€‚root@284b243a39ec:~/spack# spack install zlib@1.2.8 cflags=-O3==&gt; Warning: using \"zlib@1.2.8\" which is a deprecated version==&gt; Installing zlib-1.2.8-5o535gi4wwtrfcb3jcilmuelp57hnyxq==&gt; No binary for zlib-1.2.8-5o535gi4wwtrfcb3jcilmuelp57hnyxq found: installing from source==&gt; Warning: zlib@1.2.8 is deprecated and may be removed in a future Spack release.==&gt; Fetch anyway? [y/N] y==&gt; Fetching https://mirror.spack.io/_source-cache/archive/36/36658cb768a54c1d4dec43c3116c27ed893e88b02ecfcb44f2166f9c0b7f2a0d.tar.gz==&gt; No patches needed for zlib==&gt; zlib: Executing phase: 'edit'==&gt; zlib: Executing phase: 'build'==&gt; zlib: Executing phase: 'install'==&gt; zlib: Successfully installed zlib-1.2.8-5o535gi4wwtrfcb3jcilmuelp57hnyxq Stage: 44.96s. Edit: 0.38s. Build: 0.56s. Install: 0.07s. Post-install: 0.02s. Total: 46.01s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zlib-1.2.8-5o535gi4wwtrfcb3jcilmuelp57hnyxqspack findæŸ¥çœ‹å·²å®‰è£…çš„åŒ…ï¼Œroot@284b243a39ec:~/spack# spack find-- linux-ubuntu22.04-cascadelake / clang@14.0.0 -----------------zlib@1.2.12 zlib@1.2.13-- linux-ubuntu22.04-cascadelake / gcc@11.4.0 -------------------zlib@1.2.8 zlib@1.2.13==&gt; 4 installed packagesroot@284b243a39ec:~/spack# spack find -lf-- linux-ubuntu22.04-cascadelake / clang@14.0.0 -----------------phqllhi zlib@1.2.12%clang r5taitb zlib@1.2.13%clang -- linux-ubuntu22.04-cascadelake / gcc@11.4.0 -------------------5o535gi zlib@1.2.8%gcc cflags=\"-O3\" ivmy4r5 zlib@1.2.13%gcc ==&gt; 4 installed packagesSpackä¸ºæ¯ä¸ªspecéƒ½ç”Ÿæˆä¸€ä¸ªhashï¼Œä»»ä½•ä¸åŒç‰ˆæœ¬ç»„åˆéƒ½ç”Ÿæˆå”¯ä¸€çš„hashã€‚root@284b243a39ec:~/spack# spack install tcl[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgb==&gt; Installing tcl-8.6.12-m2wnkqeddps4xf5oyrxqd6i3lrvokfwp==&gt; No binary for tcl-8.6.12-m2wnkqeddps4xf5oyrxqd6i3lrvokfwp found: installing from source==&gt; Fetching https://mirror.spack.io/_source-cache/archive/26/26c995dd0f167e48b11961d891ee555f680c175f7173ff8cb829f4ebcde4c1a6.tar.gz==&gt; No patches needed for tcl==&gt; tcl: Executing phase: 'autoreconf'==&gt; tcl: Executing phase: 'configure'==&gt; tcl: Executing phase: 'build'==&gt; tcl: Executing phase: 'install'==&gt; tcl: Successfully installed tcl-8.6.12-m2wnkqeddps4xf5oyrxqd6i3lrvokfwp Stage: 14.43s. Autoreconf: 0.00s. Configure: 5.85s. Build: 1m 2.43s. Install: 3.53s. Post-install: 0.59s. Total: 1m 26.86s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/tcl-8.6.12-m2wnkqeddps4xf5oyrxqd6i3lrvokfwpä½¿ç”¨^æŒ‡å®šä¾èµ–root@284b243a39ec:~/spack# spack install tcl ^zlib@1.2.13 %clang[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/clang-14.0.0/zlib-1.2.13-r5taitbmvh5nzn2jqjo2f2mignhvrabe==&gt; Installing tcl-8.6.12-lgob6rq7jo5q3dyd2qfhyrs3nk6ggpqe==&gt; No binary for tcl-8.6.12-lgob6rq7jo5q3dyd2qfhyrs3nk6ggpqe found: installing from source==&gt; Using cached archive: /root/spack/var/spack/cache/_source-cache/archive/26/26c995dd0f167e48b11961d891ee555f680c175f7173ff8cb829f4ebcde4c1a6.tar.gz==&gt; No patches needed for tcl==&gt; tcl: Executing phase: 'autoreconf'==&gt; tcl: Executing phase: 'configure'==&gt; tcl: Executing phase: 'build'==&gt; tcl: Executing phase: 'install'==&gt; tcl: Successfully installed tcl-8.6.12-lgob6rq7jo5q3dyd2qfhyrs3nk6ggpqe Stage: 0.36s. Autoreconf: 0.00s. Configure: 10.13s. Build: 1m 13.37s. Install: 3.34s. Post-install: 0.58s. Total: 1m 27.82s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/clang-14.0.0/tcl-8.6.12-lgob6rq7jo5q3dyd2qfhyrs3nk6ggpqeä½¿ç”¨^/5o5æŒ‡å®šä¾èµ–çš„hashã€‚å¦‚ä¸Šæ‰€ç¤ºï¼Œå…¶ä¸­5o5æ˜¯zlib@1.2.8%gccçš„hashã€‚root@284b243a39ec:~/spack# spack install tcl ^/5o5[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zlib-1.2.8-5o535gi4wwtrfcb3jcilmuelp57hnyxq==&gt; Installing tcl-8.6.12-o6wvao34ytjgbpy2kpf63x4c34wn45ub==&gt; No binary for tcl-8.6.12-o6wvao34ytjgbpy2kpf63x4c34wn45ub found: installing from source==&gt; Using cached archive: /root/spack/var/spack/cache/_source-cache/archive/26/26c995dd0f167e48b11961d891ee555f680c175f7173ff8cb829f4ebcde4c1a6.tar.gz==&gt; No patches needed for tcl==&gt; tcl: Executing phase: 'autoreconf'==&gt; tcl: Executing phase: 'configure'==&gt; tcl: Executing phase: 'build'==&gt; tcl: Executing phase: 'install'==&gt; tcl: Successfully installed tcl-8.6.12-o6wvao34ytjgbpy2kpf63x4c34wn45ub Stage: 0.35s. Autoreconf: 0.00s. Configure: 6.08s. Build: 1m 1.70s. Install: 3.45s. Post-install: 0.59s. Total: 1m 12.21s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/tcl-8.6.12-o6wvao34ytjgbpy2kpf63x4c34wn45ubspack findè¿˜æ”¯æŒ-dï¼Œç”¨æ¥æ˜¾ç¤ºä¾èµ–å…³ç³»ã€‚root@284b243a39ec:~/spack# spack find -ldf-- linux-ubuntu22.04-cascadelake / clang@14.0.0 -----------------lgob6rq tcl@8.6.12%clang r5taitb zlib@1.2.13%clang phqllhi zlib@1.2.12%clang r5taitb zlib@1.2.13%clang -- linux-ubuntu22.04-cascadelake / gcc@11.4.0 -------------------o6wvao3 tcl@8.6.12%gcc 5o535gi zlib@1.2.8%gcc cflags=\"-O3\" m2wnkqe tcl@8.6.12%gcc ivmy4r5 zlib@1.2.13%gcc 5o535gi zlib@1.2.8%gcc cflags=\"-O3\" ivmy4r5 zlib@1.2.13%gcc ==&gt; 7 installed packagesæˆ‘ä»¬æ¥å®‰è£…ä¸€ä¸ªæ›´å¤æ‚çš„åŒ…â€”â€”HDF5ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šå°†MPIä¾èµ–ä¹Ÿè£…ä¸Šã€‚root@284b243a39ec:~/spack# spack install hdf5[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/libpciaccess-0.17-pykx2euy2awtgyou2nnsjl2s6hi4n646[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/libiconv-1.17-yodoqmhmvqbqvjzl3s6snnatz6trv7iy[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/xz-5.4.1-dzgxjank6ou2hybibf5ub262lgc2lorn[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgb[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/ncurses-6.4-ujngusmjurwe2fa7l3b6kvt73gabtuor[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/numactl-2.0.14-r22sabf66foyohnzrm2vhslqhyvzaodc[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/bzip2-1.0.8-ddoyjf47vjlyagfc22epabwym5pymdr7[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zstd-1.5.5-5e3alsszldfqzfm4bln3x2bxo63lgc5h[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/libxcrypt-4.4.33-gei6nykcbdwqnwkbtaapysokbdy5hsa5[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/pkgconf-1.9.5-sxbb6ve36mznc2trrpk4llouoi47yqlm[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/pigz-2.7-5gemoganu6n6ps7aca4llw5txrxgwcm7[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/openssl-1.1.1t-vmachqinwttmfsngz56nzjlsdxpvp7ki[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/libedit-3.1-20210216-d7fgamjkvusfpwqhdevl5u3ld2ajwelz[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/libxml2-2.10.3-5mmkszwox2ca75c274cebzp7yizhvant[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/tar-1.34-tfgqkhebvyigwree5sh4jxtt2r6ebkhn[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/libevent-2.1.12-zt3qad4mu4mlsfmedkakxw7ue4ekrudc[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/hwloc-2.9.1-fcfzcph73hlkt23vthevpninsi7jbfdp[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/gettext-0.21.1-y3smi3ultsqlwsrwzcykwzl52h4eekhg[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/pmix-4.2.3-h55tf5zun6v6kxuszej6imea7sfb7lku[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/krb5-1.20.1-imoj7v4sveupl2komhnb655d3jjxeyez[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/openssh-9.3p1-pi6fj3d4bnbsvdzjygatwmeppme2e57o[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/openmpi-4.1.5-z2lpbjfjf72tikfaxfuq7keby327rang==&gt; Installing hdf5-1.14.1-2-gqyhwfo3iyea3sdekxcolo5qrnnuzlqn==&gt; No binary for hdf5-1.14.1-2-gqyhwfo3iyea3sdekxcolo5qrnnuzlqn found: installing from source==&gt; Fetching https://mirror.spack.io/_source-cache/archive/cb/cbe93f275d5231df28ced9549253793e40cd2b555e3d288df09d7b89a9967b07.tar.gz==&gt; Ran patch() for hdf5==&gt; hdf5: Executing phase: 'cmake'==&gt; hdf5: Executing phase: 'build'==&gt; hdf5: Executing phase: 'install'==&gt; hdf5: Successfully installed hdf5-1.14.1-2-gqyhwfo3iyea3sdekxcolo5qrnnuzlqn Stage: 31.03s. Cmake: 11.47s. Build: 30.78s. Install: 0.90s. Post-install: 0.20s. Total: 1m 14.55s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/hdf5-1.14.1-2-gqyhwfo3iyea3sdekxcolo5qrnnuzlqnSpackåŒ…ä¹Ÿæœ‰buildé€‰é¡¹ï¼Œé€šè¿‡+æˆ–~/-root@284b243a39ec:~/spack# spack install hdf5~mpi[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/ncurses-6.4-ujngusmjurwe2fa7l3b6kvt73gabtuor[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/zlib-1.2.13-ivmy4r5hq6uijii4yspbffl2dutqdxgb[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/gmake-4.4.1-264topq36ww6abmwthbd7pouu65v7nwm[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/pkgconf-1.9.5-sxbb6ve36mznc2trrpk4llouoi47yqlm[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/openssl-1.1.1t-vmachqinwttmfsngz56nzjlsdxpvp7ki[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/cmake-3.26.3-ttvpnusqvmowfgfwiwil7dgkmkjaiqp5==&gt; Installing hdf5-1.14.1-2-thweeqbqmd7uqugx6iswe56zarcgg554==&gt; No binary for hdf5-1.14.1-2-thweeqbqmd7uqugx6iswe56zarcgg554 found: installing from source==&gt; Using cached archive: /root/spack/var/spack/cache/_source-cache/archive/cb/cbe93f275d5231df28ced9549253793e40cd2b555e3d288df09d7b89a9967b07.tar.gz==&gt; Ran patch() for hdf5==&gt; hdf5: Executing phase: 'cmake'==&gt; hdf5: Executing phase: 'build'==&gt; hdf5: Executing phase: 'install'==&gt; hdf5: Successfully installed hdf5-1.14.1-2-thweeqbqmd7uqugx6iswe56zarcgg554 Stage: 0.83s. Cmake: 10.69s. Build: 27.12s. Install: 0.88s. Post-install: 0.18s. Total: 39.84s[+] /root/spack/opt/spack/linux-ubuntu22.04-cascadelake/gcc-11.4.0/hdf5-1.14.1-2-thweeqbqmd7uqugx6iswe56zarcgg554Spackè¿˜å¯ä»¥é€šè¿‡^æ¥æŒ‡å®šä¾èµ–root@284b243a39ec:~/spack# spack install hdf5+hl+mpi ^mpichSpackå¯ä»¥æ‰“å°ä¾èµ–çš„å•å‘æ— ç¯å›¾(DAG)spack graph hdf5+hl+mpi ^mpichå†å®‰è£…ä¸€ä¸ªæ›´å¤æ‚çš„ï¼Œspack install trilinosè¿™ä¸ªç›´æ¥ä¾èµ–æœ‰23ä¸ªï¼Œä¾èµ–åˆæœ‰è‡ªå·±çš„ä¾èµ–ã€‚ç»éªŒä¸°å¯Œçš„ç”¨æˆ·å¯èƒ½ä¹Ÿéœ€è¦èŠ±å‡ å¤©ã€å‡ å‘¨æ¥å®Œæˆï¼Œè€Œspackä¸€æ¡å‘½ä»¤å‡ ç§’é’Ÿæå®šã€‚DAGè¾“å‡ºåˆ°PDFæ–‡ä»¶ï¼Œspack graph --dot trilinos | dot -Tpdf &gt; trilinos_graph.pdfuninstallåŒ…spack uninstallspack findä¹Ÿæ”¯æŒé«˜çº§æŸ¥è¯¢ï¼ŒåŒ…æ‹¬spack find ^mpich #æŸ¥è¯¢ä¾èµ–mpichçš„åŒ…spack find cflags=-O3 #æŸ¥è¯¢å¸¦è¿™ä¸ªç¼–è¯‘é€‰é¡¹çš„å°†spackå®‰è£…çš„gccåŠ å…¥spackç¼–è¯‘å™¨åˆ—è¡¨é‡Œï¼Œspack compiler add \"$(spack location -i gcc@12)\"å°†gccç¼–è¯‘å™¨ç§»å‡ºspackç¼–è¯‘å™¨åˆ—è¡¨ï¼Œspack compiler remove gcc@12" }, { "title": "ä¼šè®®æœ‰æ„Ÿ", "url": "/posts/meetings/", "categories": "career", "tags": "post", "date": "2022-09-13 23:15:00 +0000", "snippet": "ä¼šè®®æœ‰æ„Ÿé¢†å¯¼æ˜¯å¸®åŠ©å¤§å®¶å°†äº‹æƒ…åšæˆçš„äººï¼Œåƒä¸‡ä¸è¦å°†é¢†å¯¼çœ‹æˆæ˜¯é«˜äººä¸€ç­‰çš„è§’è‰²ï¼Œè€Œæ˜¯çœ‹æˆæ˜¯å¯ä»¥æ±‚åŠ©çš„ä¼™ä¼´ï¼Œè¦èµ„æºï¼Œè¦å¸®åŠ©ï¼Œå°±è¯´æœé¢†å¯¼ï¼ŒæŠŠäº‹æƒ…åšæˆã€‚æˆ‘ä»¬åšçš„äº‹æƒ…å¾ˆæœ‰æ„ä¹‰ï¼Œæ”¾é•¿è¿œæ¥çœ‹ï¼Œå¯¹ç¤¾ä¼šã€å¯¹å…¬å¸ã€å¯¹ä¸ªäººéƒ½æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚å½“å‰çš„å¾…é‡éƒ½æ˜¯ä¸´æ—¶çš„ã€‚å¤§å®¶å¯ä»¥å°†ç°åœ¨åšçš„äº‹ï¼Œæƒ³æˆæ˜¯ä¸ºä¸‹ä¸€ä»½å·¥ä½œç®€å†ï¼ŒåŠªåŠ›åšå¥½ï¼Œå……å®ç®€å†ã€‚å½“ç„¶äº†ï¼Œç•™åœ¨å…¬å¸ä¸€ç›´åšä¸‹å»ä¹Ÿæ˜¯æœ€å¥½çš„ã€‚æˆ‘ä»¬æŠ€æœ¯äººè¦ä¿æŒå•çº¯ï¼Œå°±äº‹è®ºäº‹ï¼Œä¼šè®®ä¸Šç»™å¤§å®¶æäº†å¾ˆå¤šæ‰¹è¯„...", "content": "ä¼šè®®æœ‰æ„Ÿé¢†å¯¼æ˜¯å¸®åŠ©å¤§å®¶å°†äº‹æƒ…åšæˆçš„äººï¼Œåƒä¸‡ä¸è¦å°†é¢†å¯¼çœ‹æˆæ˜¯é«˜äººä¸€ç­‰çš„è§’è‰²ï¼Œè€Œæ˜¯çœ‹æˆæ˜¯å¯ä»¥æ±‚åŠ©çš„ä¼™ä¼´ï¼Œè¦èµ„æºï¼Œè¦å¸®åŠ©ï¼Œå°±è¯´æœé¢†å¯¼ï¼ŒæŠŠäº‹æƒ…åšæˆã€‚æˆ‘ä»¬åšçš„äº‹æƒ…å¾ˆæœ‰æ„ä¹‰ï¼Œæ”¾é•¿è¿œæ¥çœ‹ï¼Œå¯¹ç¤¾ä¼šã€å¯¹å…¬å¸ã€å¯¹ä¸ªäººéƒ½æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚å½“å‰çš„å¾…é‡éƒ½æ˜¯ä¸´æ—¶çš„ã€‚å¤§å®¶å¯ä»¥å°†ç°åœ¨åšçš„äº‹ï¼Œæƒ³æˆæ˜¯ä¸ºä¸‹ä¸€ä»½å·¥ä½œç®€å†ï¼ŒåŠªåŠ›åšå¥½ï¼Œå……å®ç®€å†ã€‚å½“ç„¶äº†ï¼Œç•™åœ¨å…¬å¸ä¸€ç›´åšä¸‹å»ä¹Ÿæ˜¯æœ€å¥½çš„ã€‚æˆ‘ä»¬æŠ€æœ¯äººè¦ä¿æŒå•çº¯ï¼Œå°±äº‹è®ºäº‹ï¼Œä¼šè®®ä¸Šç»™å¤§å®¶æäº†å¾ˆå¤šæ‰¹è¯„ä¸å»ºè®®ï¼Œå¸Œæœ›å¤§å®¶ä¸è¦å¤ªä»‹æ„ã€‚æœ‰é—®é¢˜ï¼Œæœ‰å»ºè®®å°±æå‡ºæ¥ï¼Œåƒä¸‡ä¸è¦è—ç€æ–ç€ã€‚æœ‰å¤§å®¶é½å¿ƒååŠ›æ‰èƒ½å®Œæˆè¿™ä¹ˆé‡è¦çš„å·¥ä½œï¼Œä»»ä½•ä¸€ä¸ªå•äººéƒ½æ— æ³•å®Œæˆè¿™ç§äº‹ä¸šã€‚å¤§å®¶ä¸€èµ·ç»§ç»­åŠªåŠ›ã€‚ç›‘æ§ä¸­ï¼Œå¤§éƒ¨åˆ†æ­£å¸¸çš„æ•°æ®ï¼Œéƒ½æ˜¯æ²¡æœ‰ä»·å€¼çš„ã€‚æˆ‘ä»¬å¦‚ä½•è¯†åˆ«å¹¶ç•™å­˜æœ‰æ•ˆçš„æ•°æ®ï¼Œæ˜¯éœ€è¦ç‰¹åˆ«å…³æ³¨çš„ã€‚" }, { "title": "è½¯ä»¶é‡‡è´­çš„ä¸€äº›æ€»ç»“", "url": "/posts/it-purcurment-guide/", "categories": "it", "tags": "post", "date": "2022-09-11 02:37:14 +0000", "snippet": "è½¯ä»¶é‡‡è´­å¤§å°å…¬å¸åœ¨å¹´æœ«æ—¶ä¼šæ”¶é›†æ¥å¹´çš„å„ç§é¢„ç®—ï¼Œå…¶ä¸­ITçš„æ— å½¢èµ„äº§ï¼Œå¦‚è½¯ä»¶ä¹ŸåŒ…æ‹¬åœ¨å†…ã€‚é‚£ä¹ˆè½¯ä»¶é‡‡è´­ï¼Œéœ€è¦æ³¨æ„å“ªäº›ç‚¹å‘¢?ä»¥é‡‡è´­MATLABä¸ºä¾‹å­: éœ€æ±‚å˜æ¸…ä¸šåŠ¡åé¦ˆçš„éœ€æ±‚ï¼Œéœ€è¦ä¸è½¯ä»¶ä¾›åº”å•†ä»”ç»†æ ¸å¯¹ï¼Œç¡®ä¿éœ€æ±‚ä¸ä¾›åº”åŒ¹é…ï¼Œå¦‚è´­ä¹°MATLABï¼Œå®ƒæ¶‰åŠåˆ°çš„æœ‰MATLAB RUNTIMEï¼Œ MATLABä»¥åŠ100å¤šä¸ªToolboxã€‚å¦‚æœæ˜¯åˆä½œä¼™ä¼´å°†å†™å¥½çš„MATLABç¨‹åºç¼–è¯‘å¥½ï¼Œæä¾›ç»™ä½ ä½¿ç”¨ï¼Œè¿™æ—¶...", "content": "è½¯ä»¶é‡‡è´­å¤§å°å…¬å¸åœ¨å¹´æœ«æ—¶ä¼šæ”¶é›†æ¥å¹´çš„å„ç§é¢„ç®—ï¼Œå…¶ä¸­ITçš„æ— å½¢èµ„äº§ï¼Œå¦‚è½¯ä»¶ä¹ŸåŒ…æ‹¬åœ¨å†…ã€‚é‚£ä¹ˆè½¯ä»¶é‡‡è´­ï¼Œéœ€è¦æ³¨æ„å“ªäº›ç‚¹å‘¢?ä»¥é‡‡è´­MATLABä¸ºä¾‹å­: éœ€æ±‚å˜æ¸…ä¸šåŠ¡åé¦ˆçš„éœ€æ±‚ï¼Œéœ€è¦ä¸è½¯ä»¶ä¾›åº”å•†ä»”ç»†æ ¸å¯¹ï¼Œç¡®ä¿éœ€æ±‚ä¸ä¾›åº”åŒ¹é…ï¼Œå¦‚è´­ä¹°MATLABï¼Œå®ƒæ¶‰åŠåˆ°çš„æœ‰MATLAB RUNTIMEï¼Œ MATLABä»¥åŠ100å¤šä¸ªToolboxã€‚å¦‚æœæ˜¯åˆä½œä¼™ä¼´å°†å†™å¥½çš„MATLABç¨‹åºç¼–è¯‘å¥½ï¼Œæä¾›ç»™ä½ ä½¿ç”¨ï¼Œè¿™æ—¶å¯ä»¥ç¡®è®¤ä¸‹æ˜¯å¦ä»…éœ€ä½¿ç”¨åˆ°MATLAB RUNTIMEï¼Œå¦‚æœæ˜¯åˆ™ä¸éœ€è¦è´­ä¹°;æ­¤å¤–ï¼Œç”±äºä¸šåŠ¡åé¦ˆå¦‚ä»…éœ€è¦ä½¿ç”¨Computer Vision Toolboxçš„Toolboxï¼Œä½†ä¸å‚å•†æ”¯æŒäººå‘˜ç¡®è®¤å®ƒä¼šä¾èµ–äºå¦ä¸¤ä¸ªåŒ…MATLABä¸Image Processing Toolboxã€‚ è®¸å¯ä¸ç»´ä¿ æŒ‰å¹´/æœˆä»˜è´¹ç§Ÿç”¨ï¼Œåˆ°æœŸç»­è´¹ï¼Œä¸ç»­è´¹åˆ™ç»ˆæ­¢ä½¿ç”¨ã€‚ ä¸€æ¬¡æ€§ä¹°æ–­ï¼Œé¦–å¹´èµ é€æŠ€æœ¯æ”¯æŒä¸è½¯ä»¶å‡çº§ã€‚æ¬¡å¹´å¼€å§‹æ”¯ä»˜åŸä»·10%ä½œä¸ºç»´ä¿ï¼Œè·å¾—æŠ€æœ¯æ”¯æŒä¸è½¯ä»¶å‡çº§ã€‚ç»´ä¿è¿‡æœŸåéš”ä¸€æ®µæ—¶é—´å†æƒ³è´­ä¹°ç»´ä¿ï¼Œåˆ™éœ€è¡¥è¶³æœªç¼´ç»´ä¿ï¼Œå¹¶é‡å¯è´¹ç”¨æ–¹å¯ç»­ä¿ã€‚ä»·æ ¼çº¦ä¸ºå‰è€…çš„2.5å€ã€‚ ä»·æ ¼ç¨ç‡è°ƒç ”æ—¶ï¼Œéœ€å‘é”€å”®äº†è§£æ¸…æ¥šï¼ŒæŠ¥ä»·æ˜¯å¦å«ç¨ã€‚å¦åˆ™ç”³è¯·é¢„ç®—æ—¶å®¡æ‰¹ä¸‹æ¥åï¼Œå‘ç°æœªå«ç¨ï¼Œå†è¦å»ç”³è¯·å®¡æ‰¹å°±ä¸ºéš¾é¢†å¯¼äº†ã€‚ è®¸å¯æ–¹å¼å›ºå®šç‰ˆ: å›ºå®šç‰ˆï¼Œè¢«æˆæƒçš„licenseåªèƒ½ç»‘å®šåœ¨æŸä¸ªå‘˜å·¥æˆ–æŸå°æœºå™¨ä¸Šã€‚å¦‚æœ‰å˜åŠ¨ï¼Œåˆ™éœ€è¦è¯·å‚å•†ååŠ©ã€‚ç»´ä¿æœŸå†…ä¸€å¹´æœ€å¤šå››æ¬¡ã€‚ ç®¡ç†å‘˜æˆæƒç‰ˆ:ç®¡ç†å‘˜æ‰‹åŠ¨æŒ‡å®šä½¿ç”¨çš„äººã€‚Floatingç‰ˆ:åŠ¨æ€å ç”¨ä¸é‡Šæ”¾å‰ä¸¤ç§ä»·æ ¼ç›¸ä¼¼ï¼Œæœ€åä¸€ç§æœ€æ–¹ä¾¿ï¼Œä»·æ ¼çº¦å‰ä¸¤ç§çš„4å€ã€‚" }, { "title": "straceä¸perf trace", "url": "/posts/tracing-dd-commnd/", "categories": "linux", "tags": "post", "date": "2022-09-05 22:15:00 +0000", "snippet": "Stracestraceæ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ç³»ç»Ÿè°ƒç”¨è¿½è¸ªå·¥å…·ã€‚ç”±äºå®ƒä¾èµ–äºptraceæš‚åœåº”ç”¨æ¥è·å–ç³»ç»Ÿè°ƒç”¨çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™å¯¼è‡´åœ¨ä½¿ç”¨straceè¿‡ç¨‹ä¸­éå¸¸å·®çš„æ€§èƒ½ã€‚åœ¨straceè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç³»ç»Ÿè°ƒç”¨ä¼šæš‚åœä¸¤æ¬¡ï¼šä¸€æ¬¡æ˜¯è¿›å…¥ç³»ç»Ÿè°ƒç”¨ã€ä¸€æ¬¡æ˜¯ç¦»å¼€ç³»ç»Ÿè°ƒç”¨ã€‚perf traceperf traceä½¿ç”¨trace pointsæ¥æ”¶é›†ç³»ç»Ÿè°ƒç”¨ä¿¡æ¯ï¼Œåœ¨tracingè¿‡ç¨‹ä¸­ï¼Œåº”ç”¨æ— éœ€è¢«æš‚åœã€‚æ­¤å¤–ï¼Œperf trac...", "content": "Stracestraceæ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ç³»ç»Ÿè°ƒç”¨è¿½è¸ªå·¥å…·ã€‚ç”±äºå®ƒä¾èµ–äºptraceæš‚åœåº”ç”¨æ¥è·å–ç³»ç»Ÿè°ƒç”¨çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™å¯¼è‡´åœ¨ä½¿ç”¨straceè¿‡ç¨‹ä¸­éå¸¸å·®çš„æ€§èƒ½ã€‚åœ¨straceè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç³»ç»Ÿè°ƒç”¨ä¼šæš‚åœä¸¤æ¬¡ï¼šä¸€æ¬¡æ˜¯è¿›å…¥ç³»ç»Ÿè°ƒç”¨ã€ä¸€æ¬¡æ˜¯ç¦»å¼€ç³»ç»Ÿè°ƒç”¨ã€‚perf traceperf traceä½¿ç”¨trace pointsæ¥æ”¶é›†ç³»ç»Ÿè°ƒç”¨ä¿¡æ¯ï¼Œåœ¨tracingè¿‡ç¨‹ä¸­ï¼Œåº”ç”¨æ— éœ€è¢«æš‚åœã€‚æ­¤å¤–ï¼Œperf traceè¿˜æ‰©å±•åˆ°ä½¿ç”¨eBPFç¨‹åºæ¥åšsyscallå‚æ•°è¿½è¸ªã€‚æ¡ˆä¾‹" }, { "title": "å¦‚ä½•å®‰è£…GCCï¼Ÿ", "url": "/posts/how-to-install-gcc/", "categories": "linux, spack", "tags": "post", "date": "2022-09-02 22:15:00 +0000", "snippet": "å®‰è£…GCC./configure --prefix=/path/to/gccmakemake installç›¸ä¿¡å¤§å®¶åœ¨Linuxä¸‹å®‰è£…GCCéƒ½æ˜¯ä¸€ä¸ªéš¾å¿˜çš„å›å¿†ã€‚ç¬”è€…ä¹Ÿç»å†è¿‡ç¼ºä¾èµ–ï¼Œç¼–å¥½å‡ ä¸ªå°æ—¶æ‰å‘ç°é”™è¯¯ã€‚é‡è¯»æ–‡æ¡£æ–‡æ¡£ä¸­æè¿°ï¼Œå®‰è£…GCCæ˜¯æœ‰å‡ ä¸ªå¿…è¦ä¾èµ–çš„ï¼Œå®ƒä»¬æ˜¯GMP, MPFR and MPCã€‚ If it provides sufficiently recent versions, us...", "content": "å®‰è£…GCC./configure --prefix=/path/to/gccmakemake installç›¸ä¿¡å¤§å®¶åœ¨Linuxä¸‹å®‰è£…GCCéƒ½æ˜¯ä¸€ä¸ªéš¾å¿˜çš„å›å¿†ã€‚ç¬”è€…ä¹Ÿç»å†è¿‡ç¼ºä¾èµ–ï¼Œç¼–å¥½å‡ ä¸ªå°æ—¶æ‰å‘ç°é”™è¯¯ã€‚é‡è¯»æ–‡æ¡£æ–‡æ¡£ä¸­æè¿°ï¼Œå®‰è£…GCCæ˜¯æœ‰å‡ ä¸ªå¿…è¦ä¾èµ–çš„ï¼Œå®ƒä»¬æ˜¯GMP, MPFR and MPCã€‚ If it provides sufficiently recent versions, use your OS package management system to install the support libraries in standard system locations. For Debian-based systems, including Ubuntu, you should install the packages libgmp-dev, libmpfr-dev and libmpc-dev. For RPM-based systems, including Fedora and SUSE, you should install gmp-devel, mpfr-devel and libmpc-devel (or mpc-devel on SUSE) packages. The packages will install the libraries and headers in standard system directories so they can be found automatically when building GCC. Alternatively, after extracting the GCC source archive, simply run the ./contrib/download_prerequisites script in the GCC source directory. That will download the support libraries and create symlinks, causing them to be built automatically as part of the GCC build process. Set GRAPHITE_LOOP_OPT=no in the script if you want to build GCC without ISL, which is only needed for the optional Graphite loop optimizations. The difficult way, which is not recommended, is to download the sources for GMP, MPFR and MPC, then configure and install each of them in non-standard locations, then configure GCC with â€“with-gmp=/some/silly/path/gmp â€“with-mpfr=/some/silly/path/mpfr â€“with-mpc=/some/silly/path/mpc, then be forced to set LD_LIBRARY_PATH=/some/silly/path/gmp/lib:/some/silly/path/mpfr/lib:/some/silly/path/mpc/lib in your environment forever. This is silly and causes major problems for anyone who doesnâ€™t understand how dynamic linkers find libraries at runtime. Do not do this. If building GCC fails when using any of the â€“with-gmp or â€“with-mpfr or â€“with-mpc options then you probably shouldnâ€™t be using them.å¦‚ä¸Šé¢æ‘˜æŠ„çš„æ‰€ç¤ºï¼Œæœ‰ä¸‰ç§æ–¹å¼å¯ä»¥å°†ä¾èµ–å‡†å¤‡å¥½ã€‚ ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨ï¼Œå°†ä¾èµ–å®‰è£…ï¼Œè¿™æ—¶è¿™äº›ä¾èµ–éƒ½å°†å®‰è£…åˆ°ç³»ç»Ÿé»˜è®¤çš„ç›®å½•ä¸‹ï¼› ç¬¬äºŒç§æ˜¯æ‰§è¡ŒGCCç›®å½•ä¸‹çš„./contrib/download_prerequisites è„šæœ¬ï¼Œå°†ä¾èµ–çš„æºç åŒ…ä¸‹è½½ä¸‹æ¥ï¼ŒéšGCCä¸€èµ·ç¼–è¯‘å®‰è£…ï¼› ç¬¬ä¸‰ç§ï¼Œä¸æ¨èçš„æ–¹å¼ï¼Œåˆ†åˆ«å®‰è£…å¥½ï¼Œç„¶åä»¥--with-gmp=/some/silly/path/gmp --with-mpfr=/some/silly/path/mpfr --with-mpc=/some/silly/path/mpc çš„è¿™ç§æ–¹å¼æŒ‡å®šã€‚å…¶ä»–è‡ªåŠ¨åŒ–æ–¹æ³• ç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨å®‰è£…GCCå‘è¡Œç‰ˆçš„ç³»ç»Ÿï¼Œå‡æä¾›äº†è‡ªå·±çš„åŒ…ç®¡ç†å™¨ã€‚CentOSæä¾›äº†yumï¼ŒUbuntuæä¾›äº†aptç­‰ç­‰ã€‚ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†GCCå®‰è£…ä¸Šã€‚ç¼ºç‚¹æ˜¯ï¼Œå®ƒåªèƒ½å®‰è£…åŒ…ç®¡ç†å™¨ä»“åº“é‡Œæä¾›çš„ç‰ˆæœ¬ï¼Œä¸èƒ½éšå¿ƒæ‰€æ¬²ã€‚ ä½¿ç”¨spackåŒ…ç®¡ç†å™¨spackåŒ…ç®¡ç†å™¨æ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŒ…ç®¡ç†å™¨ã€‚å®‰è£…å¼€æºåº“æ˜¯ä¸€ä¸ªNPé—®é¢˜ï¼Œé äººå·¥è§£å†³ä¾èµ–å¾ˆéº»çƒ¦ï¼Œåƒspackè¿™ç§æå‰å®šä¹‰å¥½ä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨ç”Ÿæˆå•å‘æ— ç¯å›¾ï¼Œå¯ä»¥ä¸€é”®å®Œæˆäººå·¥è¦ç”»å‡ å°æ—¶ã€å‡ å¤©ç”šè‡³æ— æ³•å®Œæˆçš„ä¾èµ–å…³ç³»å®‰è£…ã€‚ easybuildåŒ…ç®¡ç†å™¨åŒspackä¸€æ ·ï¼Œeasybuildä¹Ÿæ˜¯ç±»ä¼¼åŠŸèƒ½çš„åŒ…ç®¡ç†å™¨ã€‚ å…¶ä»–æ¡ˆä¾‹å·¦å·¥çš„æ¡ˆä¾‹ https://mp.weixin.qq.com/s/vNfM571Gxw1UUIGgehZ1hQ" }, { "title": "å¦‚ä½•ç¦æ­¢æ™®é€šç”¨æˆ·å…³é—­lmgrd?", "url": "/posts/how-to-avoid-flexlm-license-server-being-shutdown-by-normal-users/", "categories": "license", "tags": "post", "date": "2022-08-30 22:47:00 +0000", "snippet": "é—®é¢˜Licenseç®¡ç†å‘˜ä»¥lmgrdå¯åŠ¨çš„licenseè¿›ç¨‹ï¼Œæ™®é€šç”¨æˆ·ä»æœ¬åœ°æˆ–è¿œç¨‹ï¼Œèƒ½é€šè¿‡lmutil lmdownå‘½ä»¤å°†å…¶å…³é—­æ‰ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæ™®é€šç”¨æˆ·è¿˜æœ‰æƒé™è¿è¡Œlmutilçš„å­å‘½ä»¤lmrereadä¸lmremoveå‘½ä»¤ã€‚çœŸæ˜¯å¤´å¤§ï¼Œæ™®é€šç”¨æˆ·æƒé™å’‹è¿™ä¹ˆå¤§ï¼Ÿè§£å†³é€šè¿‡æŸ¥èµ„æ–™å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤ç§é€‰é¡¹èƒ½å¤Ÿä½¿å¾—lmgrdçš„è¿è¡Œæ›´å®‰å…¨ã€‚ æ–¹æ³•ä¸€å¯åŠ¨lmgrdæ—¶ï¼ŒåŠ ä¸Š-localé€‰é¡¹ï¼Œé™åˆ¶lmdownä¸lmr...", "content": "é—®é¢˜Licenseç®¡ç†å‘˜ä»¥lmgrdå¯åŠ¨çš„licenseè¿›ç¨‹ï¼Œæ™®é€šç”¨æˆ·ä»æœ¬åœ°æˆ–è¿œç¨‹ï¼Œèƒ½é€šè¿‡lmutil lmdownå‘½ä»¤å°†å…¶å…³é—­æ‰ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæ™®é€šç”¨æˆ·è¿˜æœ‰æƒé™è¿è¡Œlmutilçš„å­å‘½ä»¤lmrereadä¸lmremoveå‘½ä»¤ã€‚çœŸæ˜¯å¤´å¤§ï¼Œæ™®é€šç”¨æˆ·æƒé™å’‹è¿™ä¹ˆå¤§ï¼Ÿè§£å†³é€šè¿‡æŸ¥èµ„æ–™å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸¤ç§é€‰é¡¹èƒ½å¤Ÿä½¿å¾—lmgrdçš„è¿è¡Œæ›´å®‰å…¨ã€‚ æ–¹æ³•ä¸€å¯åŠ¨lmgrdæ—¶ï¼ŒåŠ ä¸Š-localé€‰é¡¹ï¼Œé™åˆ¶lmdownä¸lmrereadå‘½ä»¤åªèƒ½ä»è¿è¡Œlmgrdçš„è¿™å°æœºå™¨ä¸Šå‘èµ·ã€‚ç”±äºé™åˆ¶äº†ä½¿ç”¨æœºå™¨ï¼Œå¦‚æœlicenseæœºå™¨æ˜¯ä¸“ç”¨æœºå™¨ï¼Œåˆ™è¿™æ ·å°±å¾ˆå®‰å…¨äº†ã€‚å¦‚æœlicenseæœºå™¨ä¸æ˜¯ä¸“ç”¨æœºå™¨ï¼Œåˆ™æ–¹æ³•ä¸€ä¹Ÿä¸å¤Ÿå®‰å…¨ï¼Œåˆ™ç»§ç»­çœ‹æ–¹æ³•äºŒã€‚ æ–¹æ³•äºŒå¯åŠ¨lmgrdæ—¶ï¼ŒåŠ ä¸Š-2 -pé€‰é¡¹ï¼Œé™åˆ¶é»˜è®¤ä¸ºrootç”¨æˆ·çš„ FLEXlm ç®¡ç†å‘˜ä½¿ç”¨ lmdownã€lmreread å’Œ lmremoveã€‚å¦‚æœå­˜åœ¨ä¸€ä¸ªåä¸ºâ€œlmadminâ€çš„ Unix ç»„ï¼Œåˆ™é™åˆ¶è¯¥ç»„çš„æˆå‘˜ä½¿ç”¨ã€‚å¦‚æœè¶…çº§ç”¨æˆ·ä¸æ˜¯è¯¥ç»„çš„æˆå‘˜ï¼Œåˆ™è¯¥å¸æˆ·æ— æ³•ä½¿ç”¨ä¸Šè¿°ä»»ä½•å®ç”¨ç¨‹åºã€‚â€œ-pâ€é€‰é¡¹å¯ä»¥åœ¨ FLEXlm v2.4 ä»¥åŠæ›´é«˜ç‰ˆæœ¬ä¸­ä½¿ç”¨ã€‚ç”±äºæ–¹æ³•äºŒæ˜¯èµ‹äºˆæ“ä½œæƒé™ç»™æŒ‡å®šç”¨æˆ·æˆ–ç»„ï¼Œå®ƒæ²¡æœ‰é™åˆ¶æœºå™¨ï¼Œå› æ­¤åœ¨ä¿è¯å®‰å…¨çš„å‰æä¸‹ï¼Œåˆç»™ä¸äº†ç®¡ç†å‘˜è¶³å¤Ÿçš„çµæ´»æ€§â€”â€”ä¸å¿…ä¸“é—¨ç™»å½•åˆ°Licenseæœºå™¨æ¥æ‰§è¡Œè¿™ä¸‰ä¸ªå‘½ä»¤ã€‚" }, { "title": "ä½¿ç”¨Pythonè‡ªåŠ¨åŒ–è¿ç»´ipsetä¸iptables", "url": "/posts/operate-ipset-and-iptables-with-python/", "categories": "python", "tags": "post", "date": "2022-08-30 22:15:00 +0000", "snippet": "é…ç½®æ–‡ä»¶host-rules:- name: normal_computing conf: # æ­£å¼å‘˜å·¥ä½¿ç”¨çš„ç ”å‘è¿ç®—æœºè§„åˆ™ type: ip need_create_ipset: true need_create_iptables: true hosts: # ä¸»æœºåˆ—è¡¨ - 192.168.1.2 - 192.168.1.4 - 1...", "content": "é…ç½®æ–‡ä»¶host-rules:- name: normal_computing conf: # æ­£å¼å‘˜å·¥ä½¿ç”¨çš„ç ”å‘è¿ç®—æœºè§„åˆ™ type: ip need_create_ipset: true need_create_iptables: true hosts: # ä¸»æœºåˆ—è¡¨ - 192.168.1.2 - 192.168.1.4 - 172.31.86.213 - 192.168.1.5 input: # INPUTæ–¹å‘è§„åˆ™ - dport: 22,5600 peer: # INPUTæ–¹å‘è§„åˆ™çš„æ¥æº - type: ipset value: normal_computing - type: ipset value: win_jump_server - type: ip value: 8.8.8.8 output: # OUTPUTæ–¹å‘è§„åˆ™ - peer: - type: ipset value: network_monitor_subnet - peer: - type: ipset value: domain_names - peer: - type: ipset value: normal_computing - peer: - type: ipset value: outsourcing_computing - peer: - type: ipset value: cfs - dport: 22 peer: - type: ipset value: normal_computing- name: network_monitor_subnet conf: type: ip,port need_create_ipset: true need_create_iptables: false hosts: - name: 192.168.100.1 port: tcp:8888 - name: outsourcing_computing conf: # å¤–åŒ…å‘˜å·¥ä½¿ç”¨çš„ç ”å‘è¿ç®—æœºè§„åˆ™ type: ip need_create_ipset: true need_create_iptables: true hosts: # ä¸»æœºåˆ—è¡¨ - 192.168.1.11 input: # INPUTæ–¹å‘è§„åˆ™ - dport: 22,5600 peer: # INPUTæ–¹å‘è§„åˆ™çš„æ¥æº - type: ipset value: normal_computing - type: ipset value: win_jump_server- name: cadence_lic_hosts conf: # cå®¶lic type: ip need_create_ipset: false need_create_iptables: true hosts: - 172.31.86.213 input: # INPUTæ–¹å‘è§„åˆ™ - dport: 3000,5280 peer: # INPUTæ–¹å‘è§„åˆ™çš„æ¥æº - type: ipset value: normal_computing - type: ipset value: outsourcing_computing - type: ipset value: n_gate_subnets- name: svn_hosts conf: type: ip need_create_ipset: false need_create_iptables: true hosts: - 192.168.1.2 input: # INPUTæ–¹å‘è§„åˆ™ - dport: 1690:1697,1699 peer: # INPUTæ–¹å‘è§„åˆ™çš„æ¥æº - type: ipset value: normal_computing - dport: 1698 peer: # INPUTæ–¹å‘è§„åˆ™çš„æ¥æº - type: ipset value: outsourcing_computing- name: n_gate_subnets conf: type: net need_create_ipset: true need_create_iptables: false hosts: - 172.16.0.1/24 - 172.16.1.1/24- name: win_jump_server conf: type: ip need_create_ipset: true need_create_iptables: false hosts: - 1.1.1.1 - 1.1.1.2- name: jump_server conf: type: net need_create_ipset: true need_create_iptables: false hosts: - 2.2.2.0/24 - 2.2.3.0/24- name: cfs conf: type: ip,port need_create_ipset: true need_create_iptables: false hosts: - name: 1.2.3.4 port: tcp:111 - name: 1.2.3.4 port: tcp:2049- name: domain_names conf: type: dns,port need_create_ipset: true need_create_iptables: false hosts: - name: mirrors.tencent.com port: tcp:80 - name: mirrors.tecentyun.com port: tcp:443ç”Ÿæˆè„šæœ¬\"\"\"Author: wanlinwangDate: 24-Aug-2022 19:00-23:00Description: è‡ªåŠ¨åŒ–ç»´æŠ¤iptablesä¸ipset\"\"\"import yamlimport tempfilefrom netifaces import interfaces, ifaddresses, AF_INETimport subprocessimport reimport filecmpdef ip4_addresses(): ip_list = [] for interface in interfaces(): # æœ‰äº›æ¥å£æ²¡æœ‰IPï¼Œä½¿ç”¨tryè·³è¿‡å®ƒã€‚ try: for link in ifaddresses(interface)[AF_INET]: ip=link['addr'] #å»æ‰æœ¬åœ°åœ°å€ï¼Œå»æ‰192.å¼€å¤´çš„ç§æœ‰åœ°å€ã€‚ if ip.startswith('192.') or ip == '127.0.0.1': continue ip_list.append(ip) except: pass return ip_listdef dig_domainname_to_ips(domain_name): entries = subprocess.run(['dig', '+short', domain_name], stdout=subprocess.PIPE) return entries.stdout.decode('utf-8')def check_if_ip(ip_str): if re.match(r\"^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$\", ip_str): return True else: return Falsedef create_ipset(set_name, entry_list, set_type, write_file): \"\"\" ç”Ÿæˆipseté…ç½®æ–‡ä»¶ï¼Œåº”ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š ipset restore -f ./ipset.conf --exist \"\"\" # print('entry_list', entry_list) if set_type == 'dns,port': set_type = 'ip,port' rst_list = [] for entry in entry_list: ip_list = dig_domainname_to_ips(entry['name']).split('\\n') ip_list.sort() for item in ip_list: # åªæ·»åŠ æ˜¯ipçš„æ¡ç›® if check_if_ip(item): rst_list.append(item + \",\" + entry['port']) entry_list = rst_list elif set_type == 'ip,port': rst_list = [] for entry in entry_list: rst_list.append(entry['name'] + \",\" + entry['port']) entry_list = rst_list set_tmp_name = set_name + \"_tmp\" print(f\"\"\"####################################################create {set_name} hash:{set_type} family inet hashsize 1024 maxelem 65536create {set_tmp_name} hash:{set_type} family inet hashsize 1024 maxelem 65536destroy {set_tmp_name}create {set_tmp_name} hash:{set_type} family inet hashsize 1024 maxelem 65536\\ \"\"\", file=write_file) for entry in entry_list: print(f\"add {set_tmp_name} {entry}\", file=write_file) print(f\"\"\"\\swap {set_tmp_name} {set_name}destroy {set_tmp_name}#################################################### \"\"\", file=write_file)def generate_iptables_entry(direction, ip_type, ips, ipset_dict, ports=None): entry = ['-A'] match_set_arg = '' if direction == 'input': entry.append('INPUT') if ip_type.startswith('ipset'): match_set_arg = 'src' elif direction == 'output': entry.append('OUTPUT') if ip_type.startswith('ipset'): match_set_arg = 'dst' if ipset_dict[ips] == 'ip,port': match_set_arg = 'dst,dst' else: print(f\"Error with {direction}\") entry.append(f'-p tcp') if ip_type == 'ip': entry.append(f'-s {ips}') elif ip_type.startswith('ipset'): entry.append(f'-m set --match-set {ips} {match_set_arg}') else: print(f'Error with ip_type {ip_type}') # if ip_type == 'ip': # entry.append(f'-s {ips}') # elif ip_type.startswith('ipset'): # ip_type = ip_type.replace('ipset,') # if ip_type == 'ip': # entry.append(f'-m set --match-set {ips} {match_set_arg}') # elif ip_type == 'ip,port': # entry.append(f'-m set --match-set {ips} dst,dst') # else: # print(f'Error with ip_type {ip_type}') if ports: if ip_type == 'ipset,ip,port': raise 'Conflict with ipset' entry.append(f'--dport {ports}') entry.append(f'-j ACCEPT') return ' '.join(entry)if __name__ == \"__main__\": ipset_conf_tmp = tempfile.NamedTemporaryFile(mode='w+', prefix='ipset.conf_', dir='./', delete=False) iptables_conf_tmp = tempfile.NamedTemporaryFile(mode='w+', prefix='iptables_', dir='./', delete=False) current_host_ips = ip4_addresses() print(\"current host ip\", current_host_ips) # å°†é»˜è®¤å¼€é€šçš„iptablesæ¡ç›®å…ˆå†™ä¸Šã€‚ with open(\"./config.yml\", 'r') as yml: conf = yaml.safe_load(yml) # print(json.dumps(conf,indent=2)) # print(conf['host-rules']) ipset_type_dict = dict() for host_rule in conf['host-rules']: # print(json.dumps(host_rule, indent=2)) host_rule_name = host_rule['name'] host_rule_conf = host_rule['conf'] host_rule_conf_type = host_rule_conf['type'] # æ­¥éª¤ä¸€ï¼šé¦–å…ˆå®Œæˆipsetçš„åˆ›å»ºã€‚Done if 'need_create_ipset' in host_rule_conf and host_rule_conf['need_create_ipset']: create_ipset(host_rule_name, host_rule_conf['hosts'], host_rule_conf_type, ipset_conf_tmp) if host_rule_conf_type == 'dns,port': host_rule_conf_type = 'ip,port' ipset_type_dict[host_rule_name] = host_rule_conf_type for host_rule in conf['host-rules']: host_rule_name = host_rule['name'] host_rule_conf = host_rule['conf'] # æ­¥éª¤äºŒï¼šç„¶ååˆ¤æ–­æœ¬æœºå±äºå“ªä¸ªruleä¸‹é¢ï¼Œå°†å¯¹åº”çš„ruleéƒ½ç”Ÿæˆä¸€éã€‚TODO if 'need_create_iptables' in host_rule_conf and host_rule_conf['need_create_iptables']: for current_ip in current_host_ips: # print(host_rule_conf) # print(host_rule_conf['hosts']) if 'hosts' not in host_rule_conf: print(f'hosts not in {host_rule_name}, please check.') continue if current_ip in host_rule_conf['hosts']: # åˆ†ææ–‡ä»¶æ¡ç›® # åˆ†æinputçš„ for direction in ['input', 'output']: if direction not in host_rule_conf: print(f'{direction} not in {host_rule_name}, please check.') else: for d in host_rule_conf[direction]: # print('direction', d) dports = None if 'dport' in d: dports = d['dport'] if 'peer' not in d: print(f'{direction} peer not in {host_rule_name}, please check.') continue else: for item in d['peer']: ip_type = item['type'] value = item['value'] # ç”Ÿæˆiptables INPUTæ¡ç›® # print(\"=============\") print(generate_iptables_entry(direction, ip_type, value, ipset_type_dict, dports), file=iptables_conf_tmp) # æ­¥éª¤ä¸‰ï¼šæœ€åå†å°†defaultçš„DROPè§„åˆ™å†™ä¸Šã€‚TODO # æ­¥éª¤å››ï¼šç”Ÿæˆå¥½ipset.confä¸iptablesä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸ç”Ÿäº§ç¯å¢ƒçš„æ–‡ä»¶åšå¯¹æ¯”ï¼Œ # å¦‚æœ‰å˜åˆ™åº”ç”¨å®ƒï¼Œå¹¶å°†æ—¥å¿—å†™åˆ°æ—¥å¿—æ–‡ä»¶é‡Œã€‚TODO ipset_conf_tmp.close() iptables_conf_tmp.close() if not filecmp.cmp(ipset_conf_tmp.name, 'ipset.conf'): # ipset.confæœ‰æ›´æ–°ï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œ pass if not filecmp.cmp(iptables_conf_tmp.name, 'iptables'): # iptablesæ–‡ä»¶æœ‰æ›´æ–°ï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œ pass" }, { "title": "Get permanent MAC Address", "url": "/posts/get-permanent-mac-on-linux/", "categories": "linux", "tags": "post", "date": "2022-08-23 21:52:00 +0000", "snippet": "å¦‚ä½•æŸ¥çœ‹æ°¸ä¹…Macåœ°å€", "content": "å¦‚ä½•æŸ¥çœ‹æ°¸ä¹…Macåœ°å€" }, { "title": "Obsidian Learning", "url": "/posts/Obsidian-learning/", "categories": "obsidian", "tags": "post", "date": "2022-08-20 12:00:00 +0000", "snippet": "Obsidianæ˜¯ä»€ä¹ˆ? Obsidian is a powerful knowledge base that works on top of a local folder of plain text Markdown files.Obsidiançš„å­¦ä¹ èµ„æºJohnnyå­¦OB ï¼ˆæ¯ä¸ªçƒ­çˆ±å­¦ä¹ çš„äººï¼Œç”µè„‘ä¸Šéƒ½åº”è¯¥è£…ä¸€ä¸ªObsidianï¼‰Obsidian é›™å‘éˆçµå‹ç­†è¨˜å·¥å…·ç ”ç©¶èˆ‡æ‡‰ç”¨ï¼Œæ‰“é€ å±¬æ–¼å€‹...", "content": "Obsidianæ˜¯ä»€ä¹ˆ? Obsidian is a powerful knowledge base that works on top of a local folder of plain text Markdown files.Obsidiançš„å­¦ä¹ èµ„æºJohnnyå­¦OB ï¼ˆæ¯ä¸ªçƒ­çˆ±å­¦ä¹ çš„äººï¼Œç”µè„‘ä¸Šéƒ½åº”è¯¥è£…ä¸€ä¸ªObsidianï¼‰Obsidian é›™å‘éˆçµå‹ç­†è¨˜å·¥å…·ç ”ç©¶èˆ‡æ‡‰ç”¨ï¼Œæ‰“é€ å±¬æ–¼å€‹äººçš„å°ˆæ¥­çŸ¥è­˜åœ–è­œç³»åˆ—" }, { "title": "ä¸ºä»€ä¹ˆæ–‡ä»¶è¢«vimã€sedå‘½ä»¤ä¿®æ”¹åï¼Œå…¶inodeä¹Ÿå˜äº†ï¼Ÿ", "url": "/posts/file-inode-chang/", "categories": "linux", "tags": "post", "date": "2022-08-18 16:00:00 +0000", "snippet": "é—®é¢˜ä¸ºä»€ä¹ˆæ–‡ä»¶è¢«vimã€sedå‘½ä»¤ä¿®æ”¹åï¼Œå…¶inodeä¹Ÿå˜äº†ï¼Ÿæ€è·¯inodeå˜åŒ–äº†ï¼Œé‚£æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹inodeçš„å˜åŒ–æƒ…å†µã€‚æœ¬æ–‡ä»¥vimä¸ºä¾‹å­ã€‚åˆ†æ å®‰è£…inotifywaitå·¥å…· ç›‘æ§å°†è¦æ“ä½œçš„æ–‡ä»¶çš„çˆ¶ç›®å½• æœ¬ä¾‹å­ï¼Œæˆ‘è¦ä½¿ç”¨vimä¿®æ”¹~/.bashrcçš„å†…å®¹ï¼Œå› æ­¤æˆ‘ç”¨ä»¥ä¸‹å‘½ä»¤ç›‘æ§~/ç›®å½• ubuntu@ip-172-31-85-138:~$ inotifywait -m...", "content": "é—®é¢˜ä¸ºä»€ä¹ˆæ–‡ä»¶è¢«vimã€sedå‘½ä»¤ä¿®æ”¹åï¼Œå…¶inodeä¹Ÿå˜äº†ï¼Ÿæ€è·¯inodeå˜åŒ–äº†ï¼Œé‚£æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹inodeçš„å˜åŒ–æƒ…å†µã€‚æœ¬æ–‡ä»¥vimä¸ºä¾‹å­ã€‚åˆ†æ å®‰è£…inotifywaitå·¥å…· ç›‘æ§å°†è¦æ“ä½œçš„æ–‡ä»¶çš„çˆ¶ç›®å½• æœ¬ä¾‹å­ï¼Œæˆ‘è¦ä½¿ç”¨vimä¿®æ”¹~/.bashrcçš„å†…å®¹ï¼Œå› æ­¤æˆ‘ç”¨ä»¥ä¸‹å‘½ä»¤ç›‘æ§~/ç›®å½• ubuntu@ip-172-31-85-138:~$ inotifywait -mr ~/ åœ¨å¦å¤–ä¸€ä¸ªterminalé‡Œï¼Œè¿è¡Œvimä¿®æ”¹~/.bashrc æŸ¥çœ‹æ­¥éª¤2çš„terminalçš„å˜åŒ– /home/ubuntu/ MOVED_FROM .bashrc/home/ubuntu/ MOVED_TO .bashrc~/home/ubuntu/ CREATE .bashrc/home/ubuntu/ OPEN .bashrc/home/ubuntu/ MODIFY .bashrc/home/ubuntu/ MODIFY .bashrc/home/ubuntu/ ATTRIB .bashrc/home/ubuntu/ CLOSE_WRITE,CLOSE .bashrc/home/ubuntu/ ATTRIB .bashrc/home/ubuntu/ MODIFY .bashrc.swp/home/ubuntu/ DELETE .bashrc~/home/ubuntu/ CLOSE_WRITE,CLOSE .bashrc.swp/home/ubuntu/ DELETE .bashrc.swp^C ä»ç›‘æ§å¯ä»¥çœ‹åˆ°ï¼Œvimä¿®æ”¹æ–‡ä»¶æ—¶ï¼ŒåŸæ–‡ä»¶ä¼šè¢«é‡å‘½åä¸º.bashrc~ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„.bashrcè¿›è¡Œä¿®æ”¹ã€‚ä¿®æ”¹å®Œæ¯•å.bashrc~è¿˜ä¼šè¢«åˆ æ‰ã€‚ç”±æ­¤å¯è§ï¼Œ.bashrcæ–‡ä»¶å·²ç»ä¸æ˜¯å½“åˆé‚£ä¸ªæ–‡ä»¶äº†ï¼Œè€Œæ˜¯æ–°å»ºçš„æ–‡ä»¶ã€‚æ€ªä¸å¾—inodeå·éƒ½æ”¹å˜äº†ã€‚å»¶ä¼¸sedä¹Ÿæ˜¯ç±»ä¼¼çš„åŸç†ï¼Œç¼–è¾‘æ—¶ä¼šç”Ÿæˆä¸€ä¸ªä¸­é—´æ–‡ä»¶ï¼Œæ“ä½œå®Œæ¯•åä¼šå°†ä¸­é—´æ–‡ä»¶renameæˆè¢«æ“ä½œçš„é‚£ä¸ªæ–‡ä»¶å" }, { "title": "How to modify the environment of a running process in a desktop or server environment", "url": "/posts/modify-the-env-of-a-running-process/", "categories": "icenv", "tags": "process", "date": "2021-01-17 00:00:00 +0000", "snippet": "åœ¨å®é™…æ“ä½œä¸­ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹çš„ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯ï¼Œå°¤å…¶æ˜¯åœ¨æ²¡æœ‰åƒ shell è¿™æ ·çš„ç•Œé¢ä¾›ä½ ç›´æ¥ä¿®æ”¹æ—¶ï¼Œä½ å¯ä»¥åˆ©ç”¨ GDB æ¥åŠ¨æ€ä¿®å¤è¿›ç¨‹çš„ç¯å¢ƒã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿæ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ GDB ä¿®æ”¹ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ PATH ç¯å¢ƒå˜é‡ã€‚åœºæ™¯è®¾å®šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º myapp çš„ç¨‹åºï¼Œå®ƒçš„å¯åŠ¨è„šæœ¬å¦‚ä¸‹ï¼š#!/bin/bash# å¯åŠ¨åº”ç”¨ç¨‹åºå¹¶æ˜¾ç¤ºå…¶å½“å‰çš„ PATH ç¯å¢ƒå˜é‡echo \"Current...", "content": "åœ¨å®é™…æ“ä½œä¸­ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹çš„ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯ï¼Œå°¤å…¶æ˜¯åœ¨æ²¡æœ‰åƒ shell è¿™æ ·çš„ç•Œé¢ä¾›ä½ ç›´æ¥ä¿®æ”¹æ—¶ï¼Œä½ å¯ä»¥åˆ©ç”¨ GDB æ¥åŠ¨æ€ä¿®å¤è¿›ç¨‹çš„ç¯å¢ƒã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿæ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ GDB ä¿®æ”¹ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ PATH ç¯å¢ƒå˜é‡ã€‚åœºæ™¯è®¾å®šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º myapp çš„ç¨‹åºï¼Œå®ƒçš„å¯åŠ¨è„šæœ¬å¦‚ä¸‹ï¼š#!/bin/bash# å¯åŠ¨åº”ç”¨ç¨‹åºå¹¶æ˜¾ç¤ºå…¶å½“å‰çš„ PATH ç¯å¢ƒå˜é‡echo \"Current PATH: $PATH\"./myappå‡è®¾ myapp åœ¨æ‰§è¡Œæ—¶é‡åˆ°ç¯å¢ƒé—®é¢˜ï¼Œä¾‹å¦‚ï¼Œå®ƒçš„ PATH æ²¡æœ‰åŒ…å«æŸäº›å¿…è¦çš„ç›®å½•ï¼Œå¯¼è‡´å®ƒæ— æ³•æ‰¾åˆ°éœ€è¦çš„æ‰§è¡Œæ–‡ä»¶ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ GDB æ¥ä¿®æ”¹ myapp è¿›ç¨‹çš„ç¯å¢ƒã€‚æ­¥éª¤ 1: å¯åŠ¨ç¨‹åºé¦–å…ˆï¼Œé€šè¿‡è„šæœ¬å¯åŠ¨ myappï¼š$ ./start_myapp.shCurrent PATH: /usr/bin:/binæ­¤æ—¶ï¼Œmyapp è¿›ç¨‹å¯åŠ¨ï¼Œå¹¶æ‰“å°äº†å½“å‰çš„ PATH ç¯å¢ƒå˜é‡ï¼Œä½†ä½ å‘ç°å®ƒæ²¡æœ‰åŒ…å«æŸäº›ç›®å½•ï¼Œå¯èƒ½å¯¼è‡´åç»­çš„ç¨‹åºè°ƒç”¨å¤±è´¥ã€‚æ­¥éª¤ 2: æŸ¥æ‰¾ myapp è¿›ç¨‹çš„ PIDæ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œä½¿ç”¨ ps æˆ– top å‘½ä»¤æ‰¾åˆ°æ­£åœ¨è¿è¡Œçš„ myapp è¿›ç¨‹çš„ PIDã€‚ä¾‹å¦‚ï¼š$ ps aux | grep myappuser 12345 0.5 0.1 123456 2345 ? S 12:34 0:01 ./myappå‡è®¾ myapp è¿›ç¨‹çš„ PID æ˜¯ 12345ã€‚æ­¥éª¤ 3: ä½¿ç”¨ GDB é™„åŠ åˆ° myapp è¿›ç¨‹æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ GDB é™„åŠ åˆ°æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¸Šï¼Œä¿®æ”¹å®ƒçš„ç¯å¢ƒå˜é‡ã€‚é¦–å…ˆï¼Œå¯åŠ¨ GDBï¼š$ gdb -p 12345è¿™ä¼šå°† GDB é™„åŠ åˆ° myapp è¿›ç¨‹ã€‚GDB å¯åŠ¨åï¼Œä¼šæ˜¾ç¤ºç±»ä¼¼ä¸‹é¢çš„æç¤ºï¼šAttaching to process 12345Reading symbols from /path/to/myapp...done.æ­¥éª¤ 4: ä¿®æ”¹ PATH ç¯å¢ƒå˜é‡ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ GDB çš„ set å‘½ä»¤æ¥ä¿®æ”¹è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ã€‚åœ¨ GDB æç¤ºç¬¦ä¸‹ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š(gdb) set environment PATH=/usr/bin:/bin:/custom/bin:/opt/binè¿™å°†ä¿®æ”¹ myapp è¿›ç¨‹çš„ PATH ç¯å¢ƒå˜é‡ï¼ŒåŠ å…¥äº†ä¸€ä¸ªæ–°çš„è·¯å¾„ /custom/bin å’Œ /opt/binã€‚æ­¥éª¤ 5: ç»§ç»­æ‰§è¡Œè¿›ç¨‹ä¿®æ”¹äº†ç¯å¢ƒå˜é‡åï¼Œæˆ‘ä»¬éœ€è¦è®© myapp è¿›ç¨‹ç»§ç»­æ‰§è¡Œã€‚è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š(gdb) continueè¿™å°†ä½¿è¿›ç¨‹ç»§ç»­è¿è¡Œï¼ŒåŒæ—¶æ–°çš„ç¯å¢ƒå˜é‡è®¾ç½®ç”Ÿæ•ˆã€‚æ­¥éª¤ 6: éªŒè¯ä¿®æ”¹æ˜¯å¦ç”Ÿæ•ˆè¿”å›åˆ°å¯åŠ¨ myapp çš„ç»ˆç«¯ï¼ŒæŸ¥çœ‹æ–°çš„ PATH å˜é‡æ˜¯å¦ç”Ÿæ•ˆã€‚ä½ å¯ä»¥åœ¨ myapp ç¨‹åºå†…æ‰“å°æ–°çš„ PATH å˜é‡ï¼Œæˆ–è€…ç›´æ¥åœ¨ myapp çš„è¾“å‡ºä¸­éªŒè¯ï¼š$ ./start_myapp.shCurrent PATH: /usr/bin:/bin:/custom/bin:/opt/binå¦‚ä¸Šæ‰€ç¤ºï¼ŒPATH ç¯å¢ƒå˜é‡å·²ç»æˆåŠŸæ›´æ–°ï¼ŒåŒ…å«äº† /custom/bin å’Œ /opt/binã€‚æ€»ç»“é€šè¿‡ GDBï¼Œæˆ‘ä»¬æˆåŠŸåœ°ä¿®æ”¹äº†æ­£åœ¨è¿è¡Œçš„ myapp è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ï¼Œä¿®å¤äº†ç¯å¢ƒé…ç½®é”™è¯¯çš„é—®é¢˜ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºæ²¡æœ‰ç›´æ¥ç•Œé¢çš„è¿›ç¨‹ï¼Œå°¤å…¶æ˜¯å¯¹äºåœ¨ç³»ç»Ÿä¸­è¿è¡Œçš„é•¿æ—¶é—´è¿›ç¨‹ã€‚" }, { "title": "ä¸ºä¸€ä¸ª90åï¼Œå…³äºå¹´è½»å·¥ç¨‹å¸ˆå¦‚ä½•åŠ æ·±å¯¹æŠ€æœ¯çš„ç†è§£ï¼Œè·å¾—æ›´å¿«çš„ä¸ªäººæˆé•¿ï¼Œä½ æœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿ", "url": "/posts/how-young-engineers-can-deepen-technical-understanding/", "categories": "life", "tags": "", "date": "2019-02-02 00:00:00 +0000", "snippet": "ä¸ºä¸€ä¸ª90åï¼Œå…³äºå¹´è½»å·¥ç¨‹å¸ˆå¦‚ä½•åŠ æ·±å¯¹æŠ€æœ¯çš„ç†è§£ï¼Œè·å¾—æ›´å¿«çš„ä¸ªäººæˆé•¿ï¼Œä½ æœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿè¿™é‡Œæƒ³å¯¹å¹´è½»çš„å·¥ç¨‹å¸ˆæä¸€äº›ä¸ªäººå»ºè®®ã€‚ ç¬¬ä¸€ï¼Œä¸€å®šè¦å¤šè¯»ä»£ç ã€‚å°¤å…¶æ˜¯è¯­è¨€çš„æ ‡å‡†åº“ä»£ç ï¼ŒçŸ¥åçš„å¼€æºé¡¹ç›®ä»£ç ï¼Œæˆ–è€…å…¶å®ƒè¶…é«˜ä½¿ç”¨é¢‘ç‡çš„ä»£ç ï¼Œæé«˜è‡ªå·±çš„ä»£ç å“å‘³ã€‚ ç¬¬äºŒï¼Œä¸€å®šè¦å¤šå†™ä»£ç ã€‚å°¤å…¶æ˜¯å†™å¯è¯»æ€§é«˜ã€å¯ç»´æŠ¤æ€§å¥½çš„ä»£ç ï¼Œå°½é‡å¯»æ‰¾æœ‰ç»éªŒçš„å·¥ç¨‹å¸ˆå¸®åŠ©è‡ªå·± Review ä»£ç ï¼Œæé«˜è‡ªå·±çš„ä»£ç èƒ½åŠ›å’Œè´¨é‡ã€‚ ç¬¬ä¸‰ï¼Œä¸€å®š...", "content": "ä¸ºä¸€ä¸ª90åï¼Œå…³äºå¹´è½»å·¥ç¨‹å¸ˆå¦‚ä½•åŠ æ·±å¯¹æŠ€æœ¯çš„ç†è§£ï¼Œè·å¾—æ›´å¿«çš„ä¸ªäººæˆé•¿ï¼Œä½ æœ‰ä»€ä¹ˆå»ºè®®å—ï¼Ÿè¿™é‡Œæƒ³å¯¹å¹´è½»çš„å·¥ç¨‹å¸ˆæä¸€äº›ä¸ªäººå»ºè®®ã€‚ ç¬¬ä¸€ï¼Œä¸€å®šè¦å¤šè¯»ä»£ç ã€‚å°¤å…¶æ˜¯è¯­è¨€çš„æ ‡å‡†åº“ä»£ç ï¼ŒçŸ¥åçš„å¼€æºé¡¹ç›®ä»£ç ï¼Œæˆ–è€…å…¶å®ƒè¶…é«˜ä½¿ç”¨é¢‘ç‡çš„ä»£ç ï¼Œæé«˜è‡ªå·±çš„ä»£ç å“å‘³ã€‚ ç¬¬äºŒï¼Œä¸€å®šè¦å¤šå†™ä»£ç ã€‚å°¤å…¶æ˜¯å†™å¯è¯»æ€§é«˜ã€å¯ç»´æŠ¤æ€§å¥½çš„ä»£ç ï¼Œå°½é‡å¯»æ‰¾æœ‰ç»éªŒçš„å·¥ç¨‹å¸ˆå¸®åŠ©è‡ªå·± Review ä»£ç ï¼Œæé«˜è‡ªå·±çš„ä»£ç èƒ½åŠ›å’Œè´¨é‡ã€‚ ç¬¬ä¸‰ï¼Œä¸€å®šè¦å¤šçœ‹ã€å¤šæƒ³ï¼Œçœ‹ç»å…¸çš„ç³»ç»Ÿè®¾è®¡ï¼Œæ€è€ƒè‡ªå·±é¡¹ç›®çš„æ¶æ„å’Œæ¼”è¿›è·¯çº¿ï¼Œæ‰¾åˆ°å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·æ¢è®¨å’Œç ”ç©¶ï¼Œæé«˜è‡ªå·±çš„è®¾è®¡ã€æ¶æ„èƒ½åŠ›ã€‚ æœ€åï¼Œä¸€å®šè¦å¤šå­¦ï¼Œå­¦ä¹ å‰æ²¿çš„æŠ€æœ¯ï¼Œä¸ºæœªæ¥åšå¥½æŠ€æœ¯å‚¨å¤‡ï¼›å­¦ä¹ é¢†åŸŸå†…çš„é¡¶ä¼šçš„è®ºæ–‡ï¼Œèƒ½å¤Ÿå¯¹æœªæ¥æœ‰æ‰€é¢„åˆ¤ï¼›å­¦ä¹ ä¸€äº›é¢†åŸŸå¤–çš„çŸ¥è¯†ï¼Œæ¯”å¦‚å¸‚åœºã€ç»æµç­‰ï¼Œæ›´å¤šçš„äº†è§£é€šç”¨äº‹ç‰©çš„å‘å±•è§„å¾‹ã€‚æ¯ä¸ªäººéƒ½æœ‰æœ€é€‚åˆè‡ªå·±çš„æˆé•¿è·¯çº¿ï¼Œå¯¹äºå¹´è½»å·¥ç¨‹å¸ˆæ¥è®²ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯èƒ½å¤Ÿä¸“æ³¨åœ¨è‡ªå·±çƒ­çˆ±çš„é¢†åŸŸä¸Šï¼Œä»¥æœ€å¤§çš„çƒ­æƒ…æŠ•å…¥æ¯å¤©çš„å·¥ä½œï¼Œæ¯å¤©éƒ½èƒ½è¿›æ­¥ä¸€ç‚¹ç‚¹ã€‚" }, { "title": "å¢¨è²å®šå¾‹ï¼ˆè®¾è®¡ç³»ç»Ÿï¼‰å’Œåº·å¨å®šå¾‹ï¼ˆç³»ç»Ÿåˆ’åˆ†ï¼‰", "url": "/posts/murphy-s-law/", "categories": "life", "tags": "", "date": "2019-01-15 00:00:00 +0000", "snippet": "åœ¨è®¾è®¡ç³»ç»Ÿæ—¶ï¼Œå¤šè€ƒè™‘å¢¨è²å®šå¾‹ï¼šä»»ä½•äº‹æƒ…éƒ½æ²¡æœ‰è¡¨é¢çœ‹èµ·æ¥é‚£ä¹ˆç®€å•ï¼›æ‰€æœ‰çš„äº‹æƒ…éƒ½ä¼šæ¯”ä½ é¢„è®¡çš„æ—¶é—´é•¿ï¼›å¯èƒ½å‡ºé”™çš„äº‹æ€»ä¼šå‡ºé”™ï¼›å¦‚æœä½ æ‹…å¿ƒæŸç§æƒ…å†µå‘ç”Ÿï¼Œé‚£ä¹ˆä»–å°±æ›´æœ‰å¯èƒ½å‘ç”Ÿã€‚åœ¨åˆ’åˆ†ç³»ç»Ÿæ—¶ï¼Œåº”è¯¥å¤šè€ƒè™‘åº·å¨å®šå¾‹ï¼šç³»ç»Ÿæ¶æ„æ˜¯å…¬å¸ç»„ç»‡æ¶æ„çš„ååº”ï¼›åº”è¯¥æŒ‰ç…§ä¸šåŠ¡é—­ç¯è¿›è¡Œç³»ç»Ÿæ‹†åˆ†/ç»„ç»‡æ¶æ„åˆ’åˆ†ï¼Œå®ç°é—­ç¯/é«˜å†…èš/ä½è€¦åˆï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬ï¼›å¦‚æœæ²Ÿé€šå‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆåº”è¯¥è€ƒè™‘è¿›è¡Œç³»ç»Ÿå’Œç»„ç»‡æ¶æ„çš„è°ƒæ•´ï¼›åœ¨åˆé€‚çš„æ—¶æœºè¿›è¡Œç³»ç»Ÿæ‹†åˆ†ï¼Œ...", "content": "åœ¨è®¾è®¡ç³»ç»Ÿæ—¶ï¼Œå¤šè€ƒè™‘å¢¨è²å®šå¾‹ï¼šä»»ä½•äº‹æƒ…éƒ½æ²¡æœ‰è¡¨é¢çœ‹èµ·æ¥é‚£ä¹ˆç®€å•ï¼›æ‰€æœ‰çš„äº‹æƒ…éƒ½ä¼šæ¯”ä½ é¢„è®¡çš„æ—¶é—´é•¿ï¼›å¯èƒ½å‡ºé”™çš„äº‹æ€»ä¼šå‡ºé”™ï¼›å¦‚æœä½ æ‹…å¿ƒæŸç§æƒ…å†µå‘ç”Ÿï¼Œé‚£ä¹ˆä»–å°±æ›´æœ‰å¯èƒ½å‘ç”Ÿã€‚åœ¨åˆ’åˆ†ç³»ç»Ÿæ—¶ï¼Œåº”è¯¥å¤šè€ƒè™‘åº·å¨å®šå¾‹ï¼šç³»ç»Ÿæ¶æ„æ˜¯å…¬å¸ç»„ç»‡æ¶æ„çš„ååº”ï¼›åº”è¯¥æŒ‰ç…§ä¸šåŠ¡é—­ç¯è¿›è¡Œç³»ç»Ÿæ‹†åˆ†/ç»„ç»‡æ¶æ„åˆ’åˆ†ï¼Œå®ç°é—­ç¯/é«˜å†…èš/ä½è€¦åˆï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬ï¼›å¦‚æœæ²Ÿé€šå‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆåº”è¯¥è€ƒè™‘è¿›è¡Œç³»ç»Ÿå’Œç»„ç»‡æ¶æ„çš„è°ƒæ•´ï¼›åœ¨åˆé€‚çš„æ—¶æœºè¿›è¡Œç³»ç»Ÿæ‹†åˆ†ï¼Œä¸è¦ä¸€å¼€å§‹å°±æŠŠç³»ç»Ÿ/æœåŠ¡æ‹†çš„éå¸¸ç»†ï¼Œè™½ç„¶é—­ç¯ï¼Œä½†æ˜¯æ¯ä¸ªäººç»´æŠ¤çš„ç³»ç»Ÿéå¸¸å¤šï¼Œæˆæœ¬é«˜ã€‚æ‘˜æŠ„è‡ªcsdnçš„ã€Šå¢¨è²å®šå¾‹ï¼ˆè®¾è®¡ç³»ç»Ÿï¼‰å’Œåº·å¨å®šå¾‹ï¼ˆç³»ç»Ÿåˆ’åˆ†ï¼‰ã€‹" }, { "title": "å¤šå’Œèµ„æ·±çš„åŒä»äº¤æµï¼Œå°±ä¼šå‘ç°æƒŠäººçš„æ•ˆç‡æå‡", "url": "/posts/efficiency-boost-through-experienced-collaboration/", "categories": "icenv", "tags": "efficiency", "date": "2019-01-12 00:00:00 +0000", "snippet": "è¿™æ¬¡ã€ŠZabbixæ¶æ„åˆ†äº«&amp;Promethuesæ¶æ„åˆæ¢ã€‹åŸ¹è®­äº¤æµä¼šï¼Œæˆ‘æƒ³åšä¸€æ¬¡æ€»ç»“ã€‚æ—©åœ¨ä¸€ä¸ªæœˆå‰ï¼Œè€å¤§å°±è¯·æˆ‘å»è°ƒç ”Zabbixåœ¨å¤§å‹ITæ¶æ„ä¸­çš„ä½¿ç”¨ï¼Œä»¥åŠåˆæ¢Promethuesç›‘æ§ç³»ç»Ÿï¼Œå¹¶å¯¹ä¸¤å¤§ç›‘æ§ç³»ç»Ÿåšè¾ƒè¯¦ç»†çš„å¯¹æ¯”ã€‚æˆ‘è§‰å¾—å‰ä¸¤è€…åœ¨æœ¬æ¬¡ä¼šè®®ä¸­ï¼ŒåŸºæœ¬ä¸Šè¦†ç›–åˆ°äº†ã€‚ç¬¬ä¸€ç‚¹ï¼šZabbixåœ¨å¤§å‹ITç»“æ„ä¸­æ™®éä¼šåº”ç”¨ä¸ŠProxyï¼ŒAgentå°†ç›‘æ§æ•°æ®æ¨é€åˆ°Proxyï¼Œç„¶åç”±Proxyå°†æ•°æ®æ¨...", "content": "è¿™æ¬¡ã€ŠZabbixæ¶æ„åˆ†äº«&amp;Promethuesæ¶æ„åˆæ¢ã€‹åŸ¹è®­äº¤æµä¼šï¼Œæˆ‘æƒ³åšä¸€æ¬¡æ€»ç»“ã€‚æ—©åœ¨ä¸€ä¸ªæœˆå‰ï¼Œè€å¤§å°±è¯·æˆ‘å»è°ƒç ”Zabbixåœ¨å¤§å‹ITæ¶æ„ä¸­çš„ä½¿ç”¨ï¼Œä»¥åŠåˆæ¢Promethuesç›‘æ§ç³»ç»Ÿï¼Œå¹¶å¯¹ä¸¤å¤§ç›‘æ§ç³»ç»Ÿåšè¾ƒè¯¦ç»†çš„å¯¹æ¯”ã€‚æˆ‘è§‰å¾—å‰ä¸¤è€…åœ¨æœ¬æ¬¡ä¼šè®®ä¸­ï¼ŒåŸºæœ¬ä¸Šè¦†ç›–åˆ°äº†ã€‚ç¬¬ä¸€ç‚¹ï¼šZabbixåœ¨å¤§å‹ITç»“æ„ä¸­æ™®éä¼šåº”ç”¨ä¸ŠProxyï¼ŒAgentå°†ç›‘æ§æ•°æ®æ¨é€åˆ°Proxyï¼Œç„¶åç”±Proxyå°†æ•°æ®æ¨é€åˆ°Zabbix Serverä¸­ã€‚å¦ä¸€å¼ å›¾ï¼šç¬¬äºŒç‚¹ï¼šPrometheus is a Cloud Native Computing Foundation member project. ä¸‹å›¾æ˜¯å®ƒçš„æ¶æ„ã€‚è®©æˆ‘æœ€éœ‡æ’¼çš„æ˜¯å®ƒçš„æ•°æ®è·å–è‡ªç”±æ€§å¾ˆé«˜ï¼šæ”¯æŒä½¿ç”¨åˆ«äººåˆ¶ä½œå¥½çš„Exportersï¼Œæ”¯æŒè‡ªå·±ç¼–å†™Exporterï¼Œæˆ–è€…ä½¿ç”¨SpringBootåŸ‹ç‚¹ï¼Œè¿˜æ”¯æŒShort-lived jobså°†metrics pushåˆ°PushGatewayä¸Šå»ã€‚æ¶æ„è¿™ä¹ˆçµæ´»ï¼Œéš¾æ€ªèƒ½æˆä¸ºâ€œCNCFç¬¬äºŒåæ¯•ä¸šç”Ÿâ€ã€‚éå¸¸é€‚åˆåç»­äº‘åŒ–ä¸šåŠ¡çš„ç›‘æ§ã€‚ç¬¬ä¸‰ç‚¹ä»…ä»¥â€œZabbixé€‚ç”¨äºç‰©ç†æœºçš„ç›‘æ§ï¼Œè€ŒPrometheusé€‚ç”¨äºäº‘ç­‰å¾®æœåŠ¡æ¶æ„ï¼›Zabbixå°†ç›‘æ§æ•°æ®å­˜å‚¨åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œè€ŒPrometheuså°†ç›‘æ§æ•°æ®å­˜æ”¾åœ¨äº†æ—¶åºæ€§æ•°æ®åº“â€æ½¦è‰ä»‹ç»äº†ä¸‹ã€‚å‘¼åº”é¢˜ç›®ï¼šå‰ä¸¤å‘¨ï¼Œæ–­æ–­ç»­ç»­æœ‰èŠ±è¿‡3å¤©å·¦å³çš„æ—¶é—´å‡†å¤‡è¿™ä¸ªPPTå’Œä¼šè®®ã€‚ä½¿ç”¨dockeræ­å»ºäº†Zabbixï¼ŒPrometheusï¼ŒGrafanaæ¥ç†Ÿæ‚‰è¿™äº›ç³»ç»Ÿã€‚ä½†æ˜¯æ²¡æœ‰ææ¸…æ¥šPrometheusæ˜¯æ€ä¹ˆå»å®šä¹‰éœ€è¦ç›‘æ§çš„æŒ‡æ ‡é¡¹ï¼Œå¯æ€•çš„æ˜¯è‡ªå·±ä¹Ÿæ²¡æœ‰æƒ³åˆ°è¦å»äº†è§£è¿™ä¸ªã€‚åŸ¹è®­å‰å’Œè€å¤§é¢„çƒ­çš„æ—¶å€™ï¼Œè€å¤§é—®çš„ç‰¹ä»”ç»†ã€‚é—®åˆ°æ˜¯æ€ä¹ˆé…ç½®ç›‘æ§ç­–ç•¥çš„æ—¶å€™ï¼Œæˆ‘ç«Ÿä¸€è„¸èŒ«ç„¶ï¼Œè¿ç›¸å…³çš„èµ„æ–™çœ‹åˆ°æ²¡çœ‹è¿‡ã€‚å“å¾—æˆ‘èµ¶ç´§æŠ±ä½›è„šã€‚æ¥ç€å°±äº†è§£åˆ°äº†æœ‰å¾ˆå¤šäººé’ˆå¯¹ä¸åŒçš„åœºæ™¯å†™å¥½äº†å¾ˆä¸°å¯Œçš„Exportersï¼Œå¦‚æœè‡ªå·±çš„ä¸šåŠ¡åœºæ™¯å¹¶åœ¨å¤–é¢çš„ä¸–ç•Œä¸å¸¸è§ï¼Œæ‰¾ä¸åˆ°å¯¹åº”çš„Exporterçš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Goã€Pythonæˆ–Javaæ¥è‡ªè¡Œç¼–å†™è‡ªå·±çš„Exporterã€‚ä¹Ÿå¯ä»¥åœ¨Javaé¡¹ç›®ä¸­åŸ‹ç‚¹å–æŒ‡æ ‡å€¼ï¼Œå¦‚ç½‘ç«™ç™»å½•äººæ•°ç­‰ã€‚æ²¡æœ‰äº¤è°ˆå‰ï¼Œæˆ‘æ²¡æ–¹å‘å»äº†è§£ï¼Œä¸¤çœ¼ä¸€æŠ¹é»‘ã€‚æ‰€ä»¥æ‰€è·çŸ¥è¯†ç”šå°‘ã€‚è‹¥æˆ‘æœ‰æ¶æ„æ„è¯†ï¼Œä¹Ÿåº”è¯¥èƒ½æƒ³åˆ°è¦å»æŸ¥é˜…å„ä¸ªç»„ä»¶çš„åä½œåŠç”¨æ³•ã€‚äº¤è°ˆåï¼Œå°±å‘ç°äº†è‡ªå·±å‡†å¤‡çš„ä¸è¶³ã€‚åŠ ä»¥æŸ¥é˜…ï¼Œç†è§£ï¼Œç„¶åç»„ç»‡äº†ä¸€æ¬¡è¾ƒä¸ºæµåˆ©çš„åŸ¹è®­äº¤æµä¼šã€‚" }, { "title": "Cadence Virtuoso ä¸ä¸»æµ EDA å·¥å…·é›†æˆ 101", "url": "/posts/virtuoso-tool-integration-101/", "categories": "icenv", "tags": "analog", "date": "2016-12-31 16:00:00 +0000", "snippet": "åœ¨é›†æˆç”µè·¯è®¾è®¡æµç¨‹ä¸­ï¼ŒCadence Virtuoso æ˜¯å¹¿æ³›ä½¿ç”¨çš„æ¨¡æ‹Ÿ/æ··åˆä¿¡å·è®¾è®¡å¹³å°ã€‚ä¸ºäº†æå‡è®¾è®¡æ•ˆç‡ï¼Œå¸¸éœ€å°†å…¶ä¸å…¶ä»– EDA å·¥å…·ï¼ˆå¦‚ Calibreã€Cliosoftã€Empyrean ç­‰ï¼‰é›†æˆã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡é…ç½® .cdsinit æ–‡ä»¶ï¼Œå®ç°è¿™äº›å·¥å…·çš„æ— ç¼é›†æˆã€‚1. åŸºç¡€é…ç½®ï¼šç¼–è¾‘ .cdsinit æ–‡ä»¶.cdsinit æ˜¯ Cadence Virtuoso å¯åŠ¨æ—¶åŠ è½½çš„åˆå§‹...", "content": "åœ¨é›†æˆç”µè·¯è®¾è®¡æµç¨‹ä¸­ï¼ŒCadence Virtuoso æ˜¯å¹¿æ³›ä½¿ç”¨çš„æ¨¡æ‹Ÿ/æ··åˆä¿¡å·è®¾è®¡å¹³å°ã€‚ä¸ºäº†æå‡è®¾è®¡æ•ˆç‡ï¼Œå¸¸éœ€å°†å…¶ä¸å…¶ä»– EDA å·¥å…·ï¼ˆå¦‚ Calibreã€Cliosoftã€Empyrean ç­‰ï¼‰é›†æˆã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡é…ç½® .cdsinit æ–‡ä»¶ï¼Œå®ç°è¿™äº›å·¥å…·çš„æ— ç¼é›†æˆã€‚1. åŸºç¡€é…ç½®ï¼šç¼–è¾‘ .cdsinit æ–‡ä»¶.cdsinit æ˜¯ Cadence Virtuoso å¯åŠ¨æ—¶åŠ è½½çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œä½äºç”¨æˆ·ä¸»ç›®å½•ä¸‹ã€‚é€šè¿‡ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œå¯åŠ è½½æ‰€éœ€çš„å·¥å…·æ¥å£è„šæœ¬ï¼Œå®ç°å·¥å…·é›†æˆã€‚([National Bureau of Statistics of China][1])vim ~/.cdsinit2. é›†æˆ Siemens/Mentor CalibreCalibre æ˜¯ä¸šç•Œé¢†å…ˆçš„ç‰©ç†éªŒè¯å·¥å…·ã€‚é›†æˆå‘½ä»¤å¦‚ä¸‹ï¼š; æ£€æŸ¥ CALIBRE_HOME ç¯å¢ƒå˜é‡cal_home = getShellEnvVar(\"CALIBRE_HOME\")if (cal_home == nil then printf(\"// CALIBRE_HOME æœªè®¾ç½®ï¼Œå°è¯•ä½¿ç”¨ MGC_HOME\\n\") cal_home = getShellEnvVar(\"MGC_HOME\"))if (cal_home != nil &amp;&amp; isDir(cal_home) &amp;&amp; isReadable(cal_home) then setSkillPath(append1(getSkillPath() strcat(cal_home \"/lib\"))) ; åŠ è½½é€‚ç”¨äº Cadence 4.4 åŠä»¥ä¸Šç‰ˆæœ¬çš„æ¥å£è„šæœ¬ã€‚å¦‚æœéœ€è¦é›†æˆ Cadence 4.3 æˆ–è€…ä»¥ä¸‹çš„ï¼Œåˆ™è¯·ä½¿ç”¨å« 4.3 å…³é”®å­—çš„ skill è„šæœ¬ã€‚ load(\"calibre.skl\")else printf(\"// Calibre é”™è¯¯ï¼šç¯å¢ƒå˜é‡ CALIBRE_HOME è®¾ç½®ä¸æ­£ç¡®ã€‚\\n\") hiDisplayAppDBox( ?name 'MGCHOMEErrorDlg ?dboxBanner \"Calibre é”™è¯¯\" ?dboxText \"Calibre Skill æ¥å£æœªåŠ è½½ã€‚\" ?dialogType hicErrorDialog ?dialogStyle 'modal ?buttonLayout 'Close ))3. é›†æˆ Keysight/Cliosoft SOSCliosoft SOS æ˜¯å¸¸ç”¨çš„è®¾è®¡æ•°æ®ç®¡ç†å·¥å…·ã€‚é›†æˆå‘½ä»¤å¦‚ä¸‹ï¼šlet (clioDir) clioDir = getShellEnvVar(\"CLIOSOFT_DIR\") load(strcat(clioDir \"/scripts/cds_sosviadfII.il\")))4. é›†æˆ Empyrean Alps æ¨¡æ‹Ÿå™¨Empyrean Alps æ˜¯é«˜æ€§èƒ½æ¨¡æ‹Ÿç”µè·¯ä»¿çœŸå·¥å…·ã€‚é›†æˆå‘½ä»¤å¦‚ä¸‹ï¼šalps_home = getShellEnvVar(\"ALPS_HOME\")spectre_path_for_alps_integration = nthelem(1 artSystemWithRead(\"which spectre\"))if (alps_home then path = getShellEnvVar(\"PATH\") path = strcat(strcat(alps_home \"/interface/cds:\") path) setShellEnvVar(strcat(\"PATH=\" path)) loadi(strcat(alps_home \"/interface/cds/alps_method3.ile\") \"empyrean\") println(\"å®Œæˆ Alps è„šæœ¬åŠ è½½\")else msg = \"æœªè®¾ç½® ALPS_HOMEï¼Œè¯·å…ˆè®¾ç½®ã€‚\" hiDisplayUserDBox( ?name 'Error ?dboxBanner \"é”™è¯¯\" ?dialogStyle 'modal ?dboxText msg ?buttons list(\"OK\") ))5. é›†æˆ Empyrean IwaveIwave æ˜¯ Empyrean æä¾›çš„æ³¢å½¢æŸ¥çœ‹å·¥å…·ã€‚é›†æˆå‘½ä»¤å¦‚ä¸‹ï¼šload(strcat(getShellEnvVar(\"IWAVE_HOME\") \"/interface/cds/iwave.ile\"))6. é›†æˆ Empyrean Aeolusï¼ˆå¯é€‰ï¼‰Aeolus æ˜¯ Empyrean çš„å¦ä¸€æ¬¾ä»¿çœŸå·¥å…·ã€‚é›†æˆå‘½ä»¤å¦‚ä¸‹ï¼ˆæ ¹æ®éœ€è¦å¯ç”¨ï¼‰ï¼šaeolus_home = getShellEnvVar(\"AEOLUS_HOME\")if (aeolus_home then path = getShellEnvVar(\"PATH\") path = strcat(strcat(aeolus_home \"/interface/cds:\") path) setShellEnvVar(strcat(\"PATH=\" path)) loadi(strcat(aeolus_home \"/interface/cds/aeolus_spectre.il\"))else msg = \"æœªè®¾ç½® AEOLUS_HOMEï¼Œè¯·å…ˆè®¾ç½®ã€‚\" hiDisplayUserDBox( ?name 'Error ?dboxBanner \"é”™è¯¯\" ?dialogStyle 'modal ?dboxText msg ?buttons list(\"OK\") ))7. å¸¸è§é—®é¢˜ä¸å»ºè®® ç¯å¢ƒå˜é‡è®¾ç½®ï¼šç¡®ä¿ç›¸å…³å·¥å…·çš„ç¯å¢ƒå˜é‡ï¼ˆå¦‚ CALIBRE_HOMEã€CLIOSOFT_DIR ç­‰ï¼‰å·²æ­£ç¡®è®¾ç½®ï¼Œå¹¶æŒ‡å‘æœ‰æ•ˆè·¯å¾„ã€‚ æ–‡ä»¶æƒé™ï¼šéªŒè¯ .cdsinit æ–‡ä»¶åŠåŠ è½½çš„è„šæœ¬æ–‡ä»¶å…·æœ‰é€‚å½“çš„è¯»å–æƒé™ã€‚ è°ƒè¯•ä¿¡æ¯ï¼šåˆ©ç”¨ printf ç­‰å‡½æ•°è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œæœ‰åŠ©äºå®šä½é—®é¢˜ã€‚8. ç»“è¯­é€šè¿‡ä¸Šè¿°é…ç½®ï¼Œæ‚¨å¯ä»¥åœ¨ Cadence Virtuoso ç¯å¢ƒä¸­é›†æˆå¤šç§ä¸»æµ EDA å·¥å…·ï¼Œæå‡è®¾è®¡æ•ˆç‡å’ŒååŒèƒ½åŠ›ã€‚å»ºè®®åœ¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ç®¡ç† .cdsinit æ–‡ä»¶çš„ä¿®æ”¹ï¼Œç¡®ä¿å›¢é˜Ÿåä½œçš„ä¸€è‡´æ€§ã€‚å¦‚éœ€è¿›ä¸€æ­¥çš„å¸®åŠ©æˆ–æœ‰ç‰¹å®šå·¥å…·çš„é›†æˆéœ€æ±‚ï¼Œæ¬¢è¿è”ç³»ã€‚" }, { "title": "Github Bookmarklet Quickly Generate New Post Link", "url": "/posts/github-bookmarklet-quickly-generate-new-post-link/", "categories": "blog", "tags": "jekyll, github", "date": "2015-04-02 16:00:00 +0000", "snippet": "ğŸš€ åœ¨æµè§ˆå™¨ä¸­å¿«é€Ÿç”Ÿæˆ GitHub æ–°åšå®¢æ–‡ç« é“¾æ¥ï¼ˆä½¿ç”¨ Bookmarkletï¼‰ğŸ¯ èƒŒæ™¯åœ¨ä½¿ç”¨ GitHub Pages æ„å»º Jekyll åšå®¢æ—¶ï¼Œæ¯æ¬¡åˆ›å»ºæ–°åšå®¢æ–‡ç« éƒ½éœ€è¦æ‰‹åŠ¨å¡«å†™ filename å’Œ front matterã€‚ä¸ºäº†ç®€åŒ–è¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Bookmarkletï¼ˆä¹¦ç­¾é“¾æ¥ï¼‰æ¥è‡ªåŠ¨ç”Ÿæˆè¿™äº›å†…å®¹ï¼Œå¿«é€Ÿè·³è½¬åˆ° GitHub åˆ›å»ºåšå®¢æ–‡ç« é¡µé¢ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä¸ä»…æé«˜äº†...", "content": "ğŸš€ åœ¨æµè§ˆå™¨ä¸­å¿«é€Ÿç”Ÿæˆ GitHub æ–°åšå®¢æ–‡ç« é“¾æ¥ï¼ˆä½¿ç”¨ Bookmarkletï¼‰ğŸ¯ èƒŒæ™¯åœ¨ä½¿ç”¨ GitHub Pages æ„å»º Jekyll åšå®¢æ—¶ï¼Œæ¯æ¬¡åˆ›å»ºæ–°åšå®¢æ–‡ç« éƒ½éœ€è¦æ‰‹åŠ¨å¡«å†™ filename å’Œ front matterã€‚ä¸ºäº†ç®€åŒ–è¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Bookmarkletï¼ˆä¹¦ç­¾é“¾æ¥ï¼‰æ¥è‡ªåŠ¨ç”Ÿæˆè¿™äº›å†…å®¹ï¼Œå¿«é€Ÿè·³è½¬åˆ° GitHub åˆ›å»ºåšå®¢æ–‡ç« é¡µé¢ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä¸ä»…æé«˜äº†åšå®¢å‘å¸ƒçš„æ•ˆç‡ï¼Œè¿˜èƒ½è®©è¿™ä¸€è¿‡ç¨‹æ›´åŠ ç®€å•å’Œå¿«æ·ã€‚ä»Šå¤©æˆ‘å°†å‘å¤§å®¶ä»‹ç»å¦‚ä½•é€šè¿‡ æµè§ˆå™¨ä¹¦ç­¾ è‡ªåŠ¨ç”Ÿæˆå¹¶è·³è½¬åˆ° GitHub åˆ›å»ºæ–°æ–‡ç« é¡µé¢çš„é“¾æ¥ã€‚ğŸ’¡ æ–¹æ¡ˆæ¦‚è¿°æˆ‘ä½¿ç”¨ Bookmarkletï¼ˆä¹¦ç­¾é“¾æ¥ï¼‰ï¼Œé€šè¿‡åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»ä¸€ä¸ªä¹¦ç­¾é“¾æ¥æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„ GitHub é¡µé¢é“¾æ¥ï¼Œå¹¶ä¸”è¯¥é“¾æ¥ä¼šè‡ªåŠ¨å¡«å……ï¼š æ–‡ä»¶åï¼šè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶åï¼ˆä¾‹å¦‚ï¼š2015-04-03-my-title.mdï¼‰ å†…å®¹ï¼šè‡ªåŠ¨å¡«å…… Jekyll æ ‡å‡†çš„ front matter å’Œæ¨¡æ¿å†…å®¹ç‚¹å‡»ç”Ÿæˆçš„é“¾æ¥åï¼ŒGitHub å°†è‡ªåŠ¨ä¸ºä½ æ‰“å¼€ä¸€ä¸ªæ–°å»ºåšå®¢é¡µé¢ï¼Œçœå»äº†å¾ˆå¤šç¹ççš„æ­¥éª¤ã€‚ğŸ› ï¸ æ­¥éª¤ä¸€ï¼šåˆ›å»º Bookmarklet ä¹¦ç­¾1. æ‰“å¼€æµè§ˆå™¨çš„ä¹¦ç­¾æ  åœ¨æµè§ˆå™¨ä¸­ï¼Œç¡®ä¿ä¹¦ç­¾æ å·²ç»æ‰“å¼€ã€‚å¦‚æœæ²¡æœ‰æ‰“å¼€ï¼Œå¯ä»¥æŒ‰ä¸‹ Ctrl + Shift + B æ¥æ˜¾ç¤ºä¹¦ç­¾æ ã€‚2. åˆ›å»ºæ–°çš„ä¹¦ç­¾ å³é”®ç‚¹å‡»ä¹¦ç­¾æ ï¼Œé€‰æ‹© æ·»åŠ ä¹¦ç­¾ æˆ–è€… æ–°å»ºä¹¦ç­¾ã€‚ åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼Œå¡«å†™ä¹¦ç­¾çš„åç§°ï¼ˆä¾‹å¦‚ï¼šä¸€é”®åˆ›å»ºæ–°åšå®¢ï¼‰ï¼Œç„¶ååœ¨ URL éƒ¨åˆ†ç²˜è´´ä»¥ä¸‹ JavaScript ä»£ç ï¼šjavascript:(function(){ const date = new Date().toISOString().slice(0, 10); const file = `${date}-my-title.md`; const content = `---\\nlayout: post\\ntitle: \"åœ¨æ­¤è¾“å…¥æ ‡é¢˜\"\\ndate: ${date} 00:00:00 +0800\\ncategories: [åšå®¢]\\ntags: [jekyll, github]\\n---\\n\\nå†™ç‚¹ä»€ä¹ˆå§...`; const url = `https://github.com/icinfra/icinfra-source/new/main/_posts?filename=${encodeURIComponent(file)}&amp;value=${encodeURIComponent(content)}`; window.open(url, '_blank');})();3. ä¿å­˜ä¹¦ç­¾ ç‚¹å‡» ä¿å­˜ æŒ‰é’®ï¼Œä¹¦ç­¾å°±ä¼šå‡ºç°åœ¨ä¹¦ç­¾æ ä¸­ã€‚ğŸ“ æ­¥éª¤äºŒï¼šä½¿ç”¨ Bookmarklet ç”Ÿæˆ GitHub æ–°åšå®¢é“¾æ¥1. æ‰“å¼€ä¹¦ç­¾ è®¿é—® GitHub Pages é¡¹ç›®çš„ _posts é¡µé¢åˆ›å»ºæ–°æ–‡ç« ã€‚ åœ¨ä¹¦ç­¾æ ä¸­ç‚¹å‡»åˆšæ‰åˆ›å»ºçš„ä¹¦ç­¾ï¼ˆä¾‹å¦‚ï¼šä¸€é”®åˆ›å»ºæ–°åšå®¢ï¼‰ã€‚2. è‡ªåŠ¨ç”Ÿæˆå¹¶æ‰“å¼€é“¾æ¥ ç‚¹å‡»ä¹¦ç­¾åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç”ŸæˆåŒ…å«æ–‡ä»¶åå’Œå†…å®¹çš„ GitHub æ–°å»ºé¡µé¢é“¾æ¥ï¼Œå¹¶åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€è¯¥é“¾æ¥ã€‚3. ä¿®æ”¹æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰ GitHub æ–°å»ºé¡µé¢ä¼šè‡ªåŠ¨å¡«å……æ–‡ä»¶åå’Œæ¨¡æ¿å†…å®¹ï¼Œä½ åªéœ€ä¿®æ”¹æ–‡ç« æ ‡é¢˜å’Œæ­£æ–‡å†…å®¹ã€‚âš¡ æå‡æ•ˆç‡çš„å°çªé—¨ğŸ“š è‡ªå®šä¹‰æ–‡ä»¶åå’Œæ¨¡æ¿å†…å®¹å¦‚æœä½ å¸Œæœ›åœ¨æ¯æ¬¡ä½¿ç”¨æ—¶èƒ½å¿«é€Ÿæ›´æ”¹æ–‡ä»¶åæˆ–æ¨¡æ¿å†…å®¹ï¼Œå¯ä»¥åœ¨ Bookmarklet ä»£ç ä¸­è¿›è¡Œé€‚å½“ä¿®æ”¹ï¼Œä¾‹å¦‚ï¼šconst content = `---layout: posttitle: \"è‡ªå®šä¹‰æ ‡é¢˜\"date: ${date} 00:00:00 +0800categories: [è‡ªå®šä¹‰åˆ†ç±»]tags: [è‡ªå®šä¹‰æ ‡ç­¾]---`;const filename = `${date}-your-custom-title.md`;ğŸš€ å¿«é€Ÿå‘å¸ƒæ¯æ¬¡ç‚¹å‡»ä¹¦ç­¾åï¼ŒGitHub ä¼šç›´æ¥è·³è½¬åˆ°æ–°å»ºæ–‡ç« é¡µé¢ï¼Œå‡å°‘äº†ä½ é‡å¤è¾“å…¥æ–‡ä»¶åå’Œ front matter çš„æ—¶é—´ã€‚è®©åšå®¢å‘å¸ƒå˜å¾—æ›´åŠ è½»æ¾é«˜æ•ˆã€‚ğŸŒŸ æ€»ç»“é€šè¿‡ Bookmarkletï¼ˆä¹¦ç­¾é“¾æ¥ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ¨æµè§ˆå™¨ä¸­åˆ›å»º Jekyll åšå®¢æ–‡ç« ï¼Œå¹¶è‡ªåŠ¨å¡«å……æ‰€éœ€çš„æ–‡ä»¶åå’Œæ¨¡æ¿å†…å®¹ã€‚åªéœ€ä¸€æ¬¡é…ç½®ï¼Œä»Šåæ¯æ¬¡å‘å¸ƒåšå®¢éƒ½èƒ½èŠ‚çœå¤§é‡æ—¶é—´ã€‚å¸Œæœ›è¿™ä¸ªå°å·¥å…·èƒ½å¤Ÿå¸®åŠ©ä½ æé«˜å·¥ä½œæ•ˆç‡ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…å¸Œæœ›è¿›ä¸€æ­¥ä¼˜åŒ–è¯¥å·¥å…·ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼å¸Œæœ›è¿™ç¯‡æŒ‡å¯¼å¯¹ä½ å‘å¸ƒåšå®¢æœ‰å¸®åŠ©ï¼ä½ å¯ä»¥å°†å…¶ç›´æ¥ä½œä¸ºæ–‡ç« å‘å¸ƒåˆ°ä½ çš„åšå®¢ä¸­ï¼Œå¸®åŠ©æ›´å¤šçš„è¯»è€…æé«˜æ•ˆç‡ï¼ğŸš€" } ]
